<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>electron遇见的路径问题</title>
      <link href="/electron%E9%81%87%E8%A7%81%E7%9A%84%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98/"/>
      <url>/electron%E9%81%87%E8%A7%81%E7%9A%84%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>今天在学习<code>js胖</code>的<code>electron</code>的课程中，发现<code>index.html</code>中引入的<code>index.js</code>文件的绝对路径是相对<code>index.html</code>的<br><img src="../image/el1.png" alt=""></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">btn.addEventListener(<span class="string">'click'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(__dirname) <span class="comment">// F:\Project practice\electronDemo</span></span><br><span class="line">  <span class="built_in">console</span>.log(__filename) <span class="comment">// F:\Project practice\electronDemo\index.html</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>但是在<code>js</code>文件相互引入不会出现这个问题，绝对路径还是相对本文件</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> electron </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dirname和filname路径问题</title>
      <link href="/dirname%E5%92%8Cfilname%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98/"/>
      <url>/dirname%E5%92%8Cfilname%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="dirname和filename"><a href="#dirname和filename" class="headerlink" title="dirname和filename"></a><strong>dirname和</strong>filename</h1><p> 在<code>node</code>中 <code>./</code>并不是相对本文件的同级目录路径，而是相对<code>node命令</code>所属路径影响的, 所以<code>__dirname</code>和<code>__filename</code>来解决路径问题</p><ul><li><p><code>__dirname</code>动态获取可以用来获取当前文件模块所属目录的绝对路径</p></li><li><p><code>__filename</code>动态获取可以用来获取当前文件的绝对路径</p></li><li><p><code>__dirname和__filename</code>是不受执行<code>node</code>命令所属路径影响的</p><p>在文件操作中，使用相对路径是不可靠的，因为在<code>Node</code>中文件操作的路径被设计为相对于执行<code>node</code>命令所处的路径（不是<code>bug</code>，人家这样设计是有使用场景，所了为了解决这个回题，很简单，只需要把相对路径变为绝对路径就可以了,这里我们就可以使用<code>__dirname或者__filename</code>来帮我们解决这个间题了。</p><p>在拼接路径的过程中，为了避免手动拼接带来的一些低級错误，所以推荐多使用：<code>path.join()</code>来辅助拼接。<br>所以为了尽量避免刚オ所描述这个问题，大家以后在文件操作中使用的相对路径都统一转换为动态的绝对路径。</p><blockquote><p>补充：模块中的路径标识和这里的路径没关系，不受影响（相对于文件模块）</p></blockquote></li></ul>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> node.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML5</title>
      <link href="/HTML5/"/>
      <url>/HTML5/</url>
      
        <content type="html"><![CDATA[<h1 id="HTML5-的概念与定义"><a href="#HTML5-的概念与定义" class="headerlink" title="HTML5 的概念与定义"></a>HTML5 的概念与定义</h1><ol><li>定义：<code>HTML5</code> 定义了 <code>HTML</code> 标准的最新版本，是对 <code>HTML</code> 的第五次重大修改，号称下一代的 <code>HTML</code> </li><li>两个概念：<ul><li>是一个新版本的 <code>HTML</code> 语言，定义了新的标签、特性和属性</li><li>拥有一个强大的技术集，这些技术集是指：<code>HTML5 、CSS3 、javascript</code>, 这也是广义上的 <code>HTML5</code></li></ul></li></ol><h1 id="HTML5-新增标签"><a href="#HTML5-新增标签" class="headerlink" title="HTML5 新增标签"></a>HTML5 新增标签</h1><ol><li>新增了那些语义化标签<ul><li>header   —  头部标签</li><li>nav        —  导航标签</li><li>article —   内容标签</li><li>section —   块级标签</li><li>aside     —   侧边栏标签</li><li>footer   —   尾部标签<br><img src="../image/h17.png" alt=""></li></ul></li><li>使用语义化标签的注意<ul><li>语义化标签主要针对搜索引擎</li><li>新标签可以使用一次或者多次</li><li>在 IE9 浏览器中，需要把语义化标签都转换为块级元素</li><li>语义化标签，在移动端支持比较友好，</li><li>另外，HTML5 新增的了很多的语义化标签，随着课程深入，还会学习到其他的</li></ul></li></ol><h1 id="多媒体音频标签"><a href="#多媒体音频标签" class="headerlink" title="多媒体音频标签"></a>多媒体音频标签</h1><p> <a href="https://www.zhangxinxu.com/wordpress/2019/07/html-audio-api-guide/" target="_blank" rel="noopener">文章转自</a></p><ol><li>audio 支持的音频格式<br><img src="../image/h18.png" alt=""></li><li>audio 的参数<br><img src="../image/h19.png" alt=""></li></ol><h2 id="audio使用基本案例"><a href="#audio使用基本案例" class="headerlink" title="audio使用基本案例"></a>audio使用基本案例</h2> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">controls</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"audiofile.mp3"</span> <span class="attr">type</span>=<span class="string">"audio/mpeg"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"audiofile.ogg"</span> <span class="attr">type</span>=<span class="string">"audio/ogg"</span>&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- 如果浏览器不支持，则会呈现下面内容 --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">p</span>&gt;</span>你的浏览器不支持HTML5音频，你可以<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"audiofile.mp3"</span>&gt;</span>下载<span class="tag">&lt;/<span class="name">a</span>&gt;</span>这个音频文件。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure><p> 上面做法是早些年<code>HTML5 &lt;audio&gt;</code>常用代码，因为那时候IE8还是大头，各大浏览器对各类音频格式支持情况参差不齐，因此，才借助<code>&lt;source&gt;</code>元素同时引用多个不同格式的音频文件，通过<code>type</code>属性指定<code>mime type</code>避免重复加载情况出现。</p><p> 但是，如今已经不需要这么麻烦了。我们直接下面这样就可以了：<br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">"audiofile.mp3"</span> <span class="attr">controls</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="Audio-HTML属性"><a href="#Audio-HTML属性" class="headerlink" title="Audio HTML属性"></a>Audio HTML属性</h2><ol><li><p>autoplay</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">"audiofile.mp3"</span> <span class="attr">autoplay</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>autoplay</code>是个布尔属性值，表示声音是否自动播放，默认不自动播放。然而，随着浏览器的发展，这个属性变得限制越来越多。首先在移动端，<code>autoplay</code>自动播放已经被禁止了，<code>PC端</code>也已经禁止，<code>18年</code>的时候，<code>Chrome</code>这么做了，然后被很多开发者抗议，后来又恢复<code>autoplay（给大家缓冲时间）</code>，现在已经<code>Chrome</code>又不支持自动播放了。</p><p>原因是网页在没有警告的情况下自发地发出声音，可能会让用户不愉快，体验不太好。因此，浏览器通常只允许在特定情况下成功地进行自动播放。</p><p>关于更深入的autoplay策略可以参见<a href="https://developer.mozilla.org/en-US/docs/Web/Media/Autoplay_guide" target="_blank" rel="noopener">MDN上的这篇文档</a>。</p><p>不过根据我自己的一些实践，资源静音或者视频没有声音情况下，<code>autoplay</code>偶尔也是会执行的，不过都是偶现，触发自动播放原因不详。</p></li><li><p>loop</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">"audiofile.mp3"</span> <span class="attr">loop</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>loop</code>是个布尔属性值，表示声音是否循环播放，默认不循环播放。<code>loop</code>属性适合用在可以不断循环的bgm背景音乐上。<code>loop</code>属性在各个平台，各个浏览器下的表现良好，大家可以放心使用。</p><p>JS设置音频循环播放可以：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'audio'</span>).loop = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure></li><li><p>muted</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">"audiofile.mp3"</span> <span class="attr">muted</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>muted</code>也是个布尔属性值，表示音频是否静音，默认不静音播放。<code>muted</code>属性在各个平台，各个浏览器下的表现良好，大家可以放心使用。<br>JS设置音频静音可以：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.querySelector('audio').muted = true;</span><br></pre></td></tr></table></figure></li><li><p>preload </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">"audiofile.mp3"</span> <span class="attr">preload</span>=<span class="string">"auto"</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>preload</code>可以指定音频的预加载策略，也就是在播放之前需要提前加载好音频的哪些资源。支持下面3个属性值：</p><ul><li>none：表示在点击播放按钮之前不加载任何信息。</li><li>metadata: 下载音频的meta信息，就是视频长度，类型，还有作者（如果有）等信息</li><li>auto: 会尝试下载整个音频，如今5G都快来了，流量已经不值钱了，因此，我个人是更推荐使用auto的，体验更好一点。然后，通常浏览器自己也会优化加载策略，不会所有音频文件都加载下来，只是会加载一部分，保证点击播放按钮的时候，可以立即播放。</li></ul><p><code>preload</code>属性在<code>iOS</code> <code>Safari</code>浏览器下是被禁止的（桌面端无此问题），对于一些对音频播放时间实际要求比较高的场合，会给我们开发带来困难。通常解决方法是，第一次触摸的时候，音频静音，同时触发音频<code>play()</code>然后很快再<code>pause()</code>，此时，可以有类似<code>preload</code>的预加载行为。</p><p>不过，<code>Safari</code>以后可能会改变<code>preload</code>在移动端的加载策略，因为越往后流量越不值钱，这种自以为是的优化反而会成为一种桎梏。</p></li><li><p>controls</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">"audiofile.mp3"</span> <span class="attr">controls</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>controls</code>是个布尔属性值，表示声音是否显示音频播放暂停等控制器，默认是不显示的。</p><p>如果没有设置<code>controls</code>属性，整个音频文件播放面板都是完全隐藏的；如果有设置，则UI可能类似下面这张图（<code>Chrome PC</code>，设置了静音）。</p><p><img src="../image/h20.png" alt=""></p><p>不同浏览器，以及不同版本浏览器，其<code>UI</code>都不一样。如果是开发<code>to</code>用户侧产品，需要自定义音频播放器的<code>UI</code>，让各个浏览器下长相一致，大家可以去<code>github</code>上找找开源的项目。</p></li><li><p>src</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">"audiofile.mp3"</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>src</code>属性表示音频的文件地址。可以用在<code>&lt;audio&gt;</code>元素上，也可以用在<code>&lt;source&gt;</code>元素上。<code>&lt;audio&gt;</code>元素上只能一个音频地址，使用<code>&lt;source&gt;</code>可以并列多个不同格式的音频文件。</p></li><li><p>type</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">"audiofile.mp3"</span> <span class="attr">type</span>=<span class="string">"audio/mpeg"</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>type</code>属性用来指定音频文件的<code>mime type</code>类型。虽然不加<code>type</code>类型，浏览器也能正确播放音频文件，但通常建议加上<code>type</code>属性。当然，如果<code>src</code>音频格式不固定，则<code>type</code>属性反而推荐不加，错误的<code>type</code>不如没有<code>type</code>。</p></li></ol><h2 id="在JS中调用的audio属性"><a href="#在JS中调用的audio属性" class="headerlink" title="在JS中调用的audio属性"></a>在JS中调用的audio属性</h2><p> <code>&lt;audio&gt;</code>元素还有一些属性只能通过<code>JavaScript</code>设置，假设有HTML如下：<br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">id</span>=<span class="string">"myAudio"</span> <span class="attr">src</span>=<span class="string">"audiofile.mp3"</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ol><li><p>currentTime<br><code>currentTime</code>是一个可读兼可写的属性，用来设置或获取当前已经播放的时长，单位是秒。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 获取音频已经播放时长</span><br><span class="line">var playedTime = myAudio.currentTime;</span><br></pre></td></tr></table></figure><p>如果音频尚未开始播放，则<code>playedTime</code>的返回值是<code>0</code>。</p><p>我们也可以通过设置<code>currentTime</code>属性值，让我们的音频定位到我们希望的时间点进行播放，例如，从<code>5秒</code>那里开始播放，则：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 跳到5秒那里</span><br><span class="line">myAudio.currentTime = 5;</span><br></pre></td></tr></table></figure></li><li><p>volume<br><code>volume</code>也是一个可读兼可写的属性，用来设置或获取音频的音量大小，范围是0-1。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 设置音量50%</span><br><span class="line">myAudio.volume = 0.5;</span><br></pre></td></tr></table></figure><p>如果音频文件设置了muted为true，则myAudio.volume的返回值是0。</p></li><li><p>playbackRate<br><code>playbackRate</code>是一个可读兼可写的属性，用来设置或获取当前媒体文件的播放速率，值为数值</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 获取音频播放速率</span><br><span class="line">var audioSpeed = audio.playbackRate;</span><br><span class="line">// 设置音频设置播放速率为正常速度的1.5倍</span><br><span class="line">audio.playbackRate = 1.5;</span><br></pre></td></tr></table></figure></li><li><p>速率范围<br>根据文档显示，<code>Gecko</code>内核浏览器速率范围是<code>0.25到5.0</code>，超出这个范围就静音。</p><p>对于Chrome浏览器，我自己实地测试了下，速率上限居然可以到<code>16</code>，如下图：<br><img src="../image/h21.png" alt=""><br>然后，此属性兼容性不错，<code>IE9+</code>都支持。</p></li><li><p>paused<br><code>paused</code>是一个只读属性，表示当前音频是否处于暂停状态。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// true或false</span><br><span class="line">console.log(myAudio.paused);</span><br></pre></td></tr></table></figure><p>未播放或者播放暂停都会返回<code>true</code>。</p></li></ol><h2 id="播放与暂停等JS方法"><a href="#播放与暂停等JS方法" class="headerlink" title="播放与暂停等JS方法"></a>播放与暂停等JS方法</h2><ol><li><p>play()<br>音频播放示意，没有额外参数：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myAudio.play();</span><br></pre></td></tr></table></figure><p>需要注意的是，目前在现代浏览器下，无论是桌面端还是移动端，执行<code>myAudio.play()</code>不总是有效果的。</p><p>目前策略是，<code>web</code>网页需要至少又一次可信任的用户行为后，才能<code>myAudio.play()</code>播放才可以执行，否则会报错。</p><p><img src="../image/h22.png" alt=""></p><p>可信任的用户行为包括<code>touchstart</code>触摸或者<code>click</code>点击。</p></li><li><p>pause()<br>音频暂停示意，没有额外参数：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myAudio.pause();</span><br></pre></td></tr></table></figure><p>音频元素是没有<code>stop()</code>方法的，如果你想要实现音频的<code>stop()</code>效果，可以先设置<code>currentTime</code>属性值为<code>0</code>，然后在执行<code>pause()</code>方法。</p></li><li><p>canPlayType()<br><code>canPlayType()</code>可以用来检测浏览器是否支持某种类型的音频文件，支持一个<code>mime type</code>值作为参数。使用示意：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if (myAudio.canPlayType('audio/mpeg')) &#123;</span><br><span class="line">  // 如果支持mp3</span><br><span class="line">  // 这里搞事情</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p> <strong>canPlayType()方法可以返回下面三个值中的某一个：</strong></p><ul><li><p>probably</p></li><li><p>maybe</p></li><li><p>“”（空字符串）</p><p>实际开发的时候，只要不是空字符串，我们都可以认为是支持的，因此，直接使用<code>if</code>弱匹配返回值即可，例如：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myAudio = <span class="built_in">document</span>.createElement(<span class="string">'audio'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (myAudio.canPlayType(<span class="string">'audio/mpeg'</span>)) &#123;</span><br><span class="line">  myAudio.setAttribute(<span class="string">'src'</span>,<span class="string">'audiofile.mp3'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (myAudio.canPlayType(<span class="string">'audio/ogg'</span>)) &#123;</span><br><span class="line">  myAudio.setAttribute(<span class="string">'src'</span>,<span class="string">'audiofile.ogg'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>load()<br>触发音频文件的加载。如果浏览器不支持<code>preload</code>属性，则此方法也不会有效果。</li></ol><p>此方法没有额外参数：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myAudio.load();</span><br></pre></td></tr></table></figure></li></ul><h2 id="音频媒体加载事件"><a href="#音频媒体加载事件" class="headerlink" title="音频媒体加载事件"></a>音频媒体加载事件</h2><p> 下面讲讲关于音频加载及相关处理，根据我实际项目中的实践，这类加载事件在移动端，尤其<code>iOS Safari</code>并不总能触发，因为<code>preload</code>以及<code>autoplay</code>等属性的限制。</p><ol><li><p>loadstart<br><code>loadstart</code>事件简单地告诉我们加载过程已经开始，浏览器正在连接到媒体。 </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myAudio.addEventListener(<span class="string">"loadstart"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 抓取文件</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>durationchange<br>如果你想尽快知道音频文件的播放时长，则<code>durationchange</code>事件非常管用，因为音频文件默认<code>duration</code>初始值是<code>NaN</code>，当准确时长返回时候，会触发<code>durationchange</code>，此时我们就可以快速显示音频播放时间了。</p><p>通常实际开发，我们会使用<code>00:00</code>占位，<code>durationchange</code>事件触发后在替换为准确的总播放时间。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myAudio.addEventListener(<span class="string">"durationchange"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 可以显示播放时长了哟</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>loadedmetadata<br>当第一个音频文件字节数据到达时，会触发<code>loadeddata</code>事件。虽然播放头已经就位，但还没有准备好播放。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myAudio.addEventListener(<span class="string">"loadeddata"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 可以显示播放头</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>progress<br><code>progress</code>事件在媒体文件仍然在下载中的时候触发，通常各种<code>loading</code>效果的显示就是在这个事件中。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myAudio.addEventListener(<span class="string">"progress"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 你可以让用户知道媒体文件正在下载</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>canplay<br>当媒体文件可以播放的时候会触发<code>canplay</code>事件。<br>我们在自定义音频播放器的时候，可以默认把一些按钮<code>disabled</code>禁用，等可以播放的时候再恢复为<code>enabled</code>，此时就可以使用<code>canplay</code>事件。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myAudio.addEventListener(<span class="string">"canplay"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="comment">// 音频可以播放了</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>canplaythrough<br><code>canplaythrough</code>事件在音频文件可以从头播放到尾时候触发。这种情况包括音频文件已经从头到尾加载完毕了，或者浏览器认为一定可以按时下载，不会发生缓冲停止</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myAudio.addEventListener(<span class="string">"canplaythrough"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="comment">// 音频可以不发生缓冲从头播放到结束</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>音频事件触发的顺序<br>媒体事件加载顺序如下：<br><code>loadstart</code> → <code>durationchange</code> → <code>loadedmetadata</code> → <code>loadeddata</code> → <code>progress</code> → <code>canplay</code> → <code>canplaythrough</code></p></li><li><p>加载中断事件<br>还有一些事件实在媒体加载过程出现某种中断时将触发。</p><ul><li>suspend<br>即使文件尚未完全下载，也不再拉取媒体数据。</li><li>abort<br>不是因为出错而导致的媒体数据下载中止。</li><li>error<br>媒体下载过程中错误。例如突然无网络了。或者文件地址不对。</li><li>emptied<br>媒体缓冲区已被清空，可能是由于错误或调用了load()方法重新加载。</li><li>stalled<br>媒体数据意外地不再可用。</li></ul></li></ol><h2 id="音频媒体播放事件"><a href="#音频媒体播放事件" class="headerlink" title="音频媒体播放事件"></a>音频媒体播放事件</h2><p> 下面介绍一些与媒体文件播放状态相关的一些事件。</p><ol><li>timeupdate<br>每次<code>currentTime</code>属性值发生变化的时候会触发<code>timeupdate</code>事件。<br>实际开发的时候，这个事件每250毫秒出发一次。这个事件可用来实时显示播放进度。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myAudio.addEventListener(<span class="string">"timeupdate"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 更新与播放进度相关的内容</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li>playing<br>音频文件在缺少媒体信息（如时长等）的时候，播放会被迫停止，如果之后在启动播放，会触发<code>playing</code>事件。</li><li>waiting<br>音频文件因为缺少媒体信息（如时长等）导致播放停止时会触发<code>waiting</code>事件。</li><li>play<br><code>play</code>事件在<code>play()</code>方法生效，或者<code>autoplay</code>导致播放开始时候触发，此事件触发的播放状态一定是一个从暂停到播放。</li><li>pause<br><code>pause</code>事件在<code>pause()</code>方法执行并生效后触发，此事件触发需要一个从播放到暂停的状态变化。</li><li>ended<br>当整个音频文件播放完毕的时候触发<code>ended</code>事件。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myAudio.addEventListener(<span class="string">"ended"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 当音轨播放完毕时候做你想做的事情</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li>volumechange<br>音量发生变化的时候会触发volumechange事件，包括静音行为。</li><li>ratechange<br>播放速率发生变化的时候会触发ratechange事件。</li></ol><h2 id="缓冲相关的属性和方法"><a href="#缓冲相关的属性和方法" class="headerlink" title="缓冲相关的属性和方法"></a>缓冲相关的属性和方法</h2><p> 媒体文件的播放进度我们可以使用<code>currentTime</code>和<code>duration</code>属性获取，但是有时候，我们希望知道缓冲加载的进度，此时可以使用下面几个和缓冲相关属性和方法。</p><ol><li>buffered<br>此属性让我们知道音频的哪些部分已被缓冲（提前下载）。它返回一个称为<code>TimeRanges</code>的对象。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myBufferedTimeRanges = myAudio.buffered;</span><br></pre></td></tr></table></figure></li><li>seekable<br>seekable属性通知您是否可以直接跳到媒体的该部分，而不需要进一步缓冲。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mySeekableTimeRanges = myAudio.seekable;</span><br></pre></td></tr></table></figure></li><li>Buffering相关事件<ul><li>seeking<br>当媒体资源正在请求是会触发<code>seeking</code>事件。</li><li>seeked<br>当<code>seeking</code>属性变成<code>false</code>时候会触发<code>seeked</code>事件。<br>有关缓冲以及TimeRanges更深入具体的知识，可以参见这篇<a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Audio_and_video_delivery/buffering_seeking_time_ranges" target="_blank" rel="noopener">MDN文档</a>。</li></ul></li></ol><h1 id="video-视频标签"><a href="#video-视频标签" class="headerlink" title="video 视频标签"></a>video 视频标签</h1><ol><li><p>目前支持三种格式<br><img src="../image/h23.png" alt=""></p></li><li><p>语法格式</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">"./media/video.mp4"</span> <span class="attr">controls</span>=<span class="string">"controls"</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>video 参数<br><img src="../image/h24.png" alt=""></p></li><li><p>video 代码演示</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;video src="./media/video.mp4" controls="controls"&gt;&lt;/video&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 谷歌浏览器禁用了自动播放功能，如果想自动播放，需要添加 muted 属性 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">video</span> <span class="attr">controls</span>=<span class="string">"controls"</span> <span class="attr">autoplay</span> <span class="attr">muted</span> <span class="attr">loop</span> <span class="attr">poster</span>=<span class="string">"./media/pig.jpg"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"./media/video.mp4"</span> <span class="attr">type</span>=<span class="string">"video/mp4"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"./media/video.ogg"</span> <span class="attr">type</span>=<span class="string">"video/ogg"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>多媒体标签总结</p><ul><li>音频标签与视频标签使用基本一致</li><li>多媒体标签在不同浏览器下情况不同，存在兼容性问题</li><li>谷歌浏览器把音频和视频标签的自动播放都禁止了</li><li>谷歌浏览器中视频添加 muted 标签可以自己播放</li><li>注意：重点记住使用方法以及自动播放即可，其他属性可以在使用时查找对应的手册</li></ul></li><li><p><code>error</code>属性：在正常读取时候，使用媒体数据的过程中，<code>video</code>元素或<code>audio</code>元素的<code>error</code>属性为<code>null</code>，但是任何时候只要出现错误，<code>error</code>属性将返回一个<code>MediaError</code>对象，该对象的<code>code</code>返回对应的错误状态，共有<code>4</code>个可能值：</p><ul><li>MEDIA_ERR_ABORTED(数字值为1)，媒体数据的下载过程由于用户的操作原因而被终止。</li><li>MEDIA_ERR_NETWORK(数字值为2)，确认媒体资源可用，但是在下载出现网络错误，媒体数据的下载过程被中止。</li><li>MEDIA_ERR_DECODE(数字值为3)，确认媒体资源可用，但是解码时发生错误。</li><li>MEDIA_ERR_SRC_NOT_SUPPORTED(数字值为4)，媒体资源不可用或媒体格式不被支持。<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">"videoElement"</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line">var video = document.getElementById("videoElement");</span><br><span class="line">video.addEventListener('error',function()&#123;</span><br><span class="line">    var error = video.error;</span><br><span class="line">    swicth(error.code) &#123;</span><br><span class="line">        case 1:</span><br><span class="line">          alert("视频的下载过程被中止");</span><br><span class="line">        break;</span><br><span class="line"></span><br><span class="line">        case 2:</span><br><span class="line">          alert("网络发生故障，视频的下载过程被中止");</span><br><span class="line">        break;</span><br><span class="line"></span><br><span class="line">        case 3:</span><br><span class="line">          alert("解码失败");</span><br><span class="line">        break;</span><br><span class="line"></span><br><span class="line">        case 4:</span><br><span class="line">          alert("媒体资源不可用或媒体格式不被支持");</span><br><span class="line">        break;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,false);</span><br></pre></td></tr></table></figure></li></ul></li></ol><p>MEDIA_ERR_ABORTED(数字值为1)，媒体数据的下载过程由于用户的操作原因而被终止。<br>MEDIA_ERR_NETWORK(数字值为2)，确认媒体资源可用，但是在下载出现网络错误，媒体数据的下载过程被中止。<br>MEDIA_ERR_DECODE(数字值为3)，确认媒体资源可用，但是解码时发生错误。<br>MEDIA_ERR_SRC_NOT_SUPPORTED(数字值为4)，媒体资源不可用或媒体格式不被支持。</p><h2 id="video属性"><a href="#video属性" class="headerlink" title="video属性"></a>video属性</h2><ol><li><code>networkState</code>属性<br>在媒体数据加载过程中可以使用<code>video</code>元素或<code>audio</code>元素<code>networkState</code>属性读取当前网络状态，共有<code>4</code>个可能的值；<ul><li><code>NETWORK_EMPTY</code>（数字值为<code>0</code>）：元素处于初始状态。</li><li><code>NETWORK_IDLE</code>(数字值为<code>1</code>)，浏览器已选择好用什么编码格式来播放媒体，但是尚未建立网络连接。</li><li><code>NETWORK_LOADING</code>(数字值为<code>2</code>)：媒体数据加载中</li><li><code>NETWORK_NO_SOURCE</code>(数字值为<code>3</code>)，没有支持的编码格式，不执行加载。</li></ul></li><li><code>currentTime</code>属性与<code>duration</code>属性<ul><li><code>video</code>元素或<code>audio</code>元素的<code>currentTime</code>属性来读取媒体的当前播放位置(单位是s)，也可以通过修改<code>currentTime</code>属性来修改当前播放位置，如果修改的位置上没有可用的媒体数据时，将抛出<code>INVALID_STATE_ERR</code>异常；</li><li><code>video</code>元素或<code>audio</code>元素的<code>duration</code>属性来读取媒体文件总的播放时间。<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">"video"</span> <span class="attr">controls</span> <span class="attr">width</span>=<span class="string">640</span> <span class="attr">height</span>=<span class="string">360</span> <span class="attr">autoplay</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"Wildlife/Wildlife.ogv"</span> <span class="attr">type</span>=<span class="string">'video/ogg; codecs="theora, vorbis"'</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"Wildlife/Wildlife.webm"</span> <span class="attr">type</span>=<span class="string">'video/webm'</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"Wildlife/Wildlife.mp4"</span> <span class="attr">type</span>=<span class="string">'video/mp4'</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Video is not visible, most likely your browser does not support HTML5 video<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"getCurTime()"</span> <span class="attr">type</span>=<span class="string">"button"</span>&gt;</span>获得当前时间的位置<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"setCurTime()"</span> <span class="attr">type</span>=<span class="string">"button"</span>&gt;</span>把时间位置设置为 5 秒<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"duration()"</span> <span class="attr">type</span>=<span class="string">"button"</span>&gt;</span>读取媒体文件总的播放时间<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myVid=<span class="built_in">document</span>.getElementById(<span class="string">"video"</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCurTime</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">    <span class="comment">// 获得当前视频或者音频时间的位置</span></span><br><span class="line">    alert(myVid.currentTime);   </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setCurTime</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line"><span class="comment">// 给当前的视频或者音频设置5s时间的位置</span></span><br><span class="line">    myVid.currentTime=<span class="number">5</span>;        </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">duration</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//读取媒体文件总的播放时间 单位为S</span></span><br><span class="line">    alert(myVid.duration); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li>played属性，paused属性与ended属性<ul><li><code>played：video</code>元素或<code>audio</code>元素的<code>played</code>属性来返回一个<code>TimeRanges</code>对象，从该对象中可以读取媒体文件的已播放部分的时间段。开始时间为已播放部分的开始时间，结束时间为已播放部分的结束时间。</li><li><code>paused</code>属性：使用<code>video</code>元素或<code>audio</code>元素的<code>paused</code>属性来返回一个布尔值，表示是否处于暂停播放中，true表示媒体暂停播放，<code>false</code>表示媒体正在播放；</li><li><code>ended</code>属性：使用<code>video</code>元素或<code>audio</code>元素的<code>ended</code>属性来返回一个布尔值，表示是否播放完毕，<code>true</code>表示媒体播放完毕，<code>false</code>表示媒体还没有播放完毕。<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">"video"</span> <span class="attr">controls</span> <span class="attr">width</span>=<span class="string">640</span> <span class="attr">height</span>=<span class="string">360</span> <span class="attr">autoplay</span> <span class="attr">loop</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"Wildlife/Wildlife.ogv"</span> <span class="attr">type</span>=<span class="string">'video/ogg; codecs="theora, vorbis"'</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"Wildlife/Wildlife.webm"</span> <span class="attr">type</span>=<span class="string">'video/webm'</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"Wildlife/Wildlife.mp4"</span> <span class="attr">type</span>=<span class="string">'video/mp4'</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Video is not visible, most likely your browser does not support HTML5 video<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"played()"</span> <span class="attr">type</span>=<span class="string">"button"</span>&gt;</span>读取媒体文件的已播放部分的时间段<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"paused()"</span> <span class="attr">type</span>=<span class="string">"button"</span>&gt;</span>是否处于暂停播放<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"ended()"</span> <span class="attr">type</span>=<span class="string">"button"</span>&gt;</span>是否播放完毕<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myVid=<span class="built_in">document</span>.getElementById(<span class="string">"video"</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">played</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//读取媒体文件的已播放部分的时间段</span></span><br><span class="line">    <span class="built_in">console</span>.log(myVid.played);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">paused</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 是否处于暂停播放</span></span><br><span class="line">    alert(myVid.paused);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ended</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 是否播放完毕</span></span><br><span class="line">    alert(myVid.ended);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><code>defaultPlaybackRate</code>属性与<code>playbackRate</code>属性<ul><li><code>defaultPlaybackRate</code>属性：可以使用<code>video</code>元素或者<code>audio</code>元素的<code>defaultPlaybackRate</code>属性读取或修改媒体默认的播放速率。</li><li><code>playbackRate</code>属性：可以使用<code>video</code>元素或者<code>audio</code>元素的<code>playbackRate</code>属性读取或修改媒体当前的播放速率。</li></ul></li><li><code>volume</code>属性与<code>muted</code>属性<ul><li><code>volume</code>属性：使用<code>video</code>元素或<code>audio</code>元素的<code>volume</code>属性读取或修改媒体的播放音量，<code>范围为0到1,0为静音，1为最大音量</code>。</li><li><code>muted</code>属性：使用<code>video</code>元素或<code>audio</code>元素的<code>muted</code>属性读取或修改媒体的静音状态，该值为布尔值，<code>true</code>表示处于静音状态，<code>false</code>表示处于非静音状态。<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">"video"</span> <span class="attr">controls</span> <span class="attr">width</span>=<span class="string">640</span> <span class="attr">height</span>=<span class="string">360</span> <span class="attr">autoplay</span> <span class="attr">loop</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"Wildlife/Wildlife.ogv"</span> <span class="attr">type</span>=<span class="string">'video/ogg; codecs="theora, vorbis"'</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"Wildlife/Wildlife.webm"</span> <span class="attr">type</span>=<span class="string">'video/webm'</span> &gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"Wildlife/Wildlife.mp4"</span> <span class="attr">type</span>=<span class="string">'video/mp4'</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">p</span>&gt;</span>Video is not visible, most likely your browser does not support HTML5 video<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"volume()"</span> <span class="attr">type</span>=<span class="string">"button"</span>&gt;</span>读取或修改媒体的播放音量<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"muted()"</span> <span class="attr">type</span>=<span class="string">"button"</span>&gt;</span>读取或修改媒体当前的静音状态<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myVid=<span class="built_in">document</span>.getElementById(<span class="string">"video"</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">volume</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 读取或修改媒体的播放音量</span></span><br><span class="line">    myVid.volume = <span class="number">0.1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">muted</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//读取或修改媒体当前的静音状态</span></span><br><span class="line">    myVid.muted = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ol><h2 id="video-方法"><a href="#video-方法" class="headerlink" title="video 方法"></a>video 方法</h2><p> <code>video</code>元素与<code>audio</code>元素有以下四种方法；</p><ol><li><p>play方法：使用play方法来播放媒体，自动将元素的paused属性的值变为false。</p></li><li><p>pause方法：使用pause方法来暂停播放，自动将元素的paused属性的值变为true。</p></li><li><p>load方法，使用load方法来重新载入媒体进行播放，自动将元素的playbackRate属性的值变为defaultPlaybackRate属性的值，自动将元素的error的值变为null。</p><p><strong>下面是播放和暂停的demo如下</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">"video"</span> <span class="attr">controls</span> <span class="attr">width</span>=<span class="string">640</span> <span class="attr">height</span>=<span class="string">360</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"Wildlife/Wildlife.ogv"</span> <span class="attr">type</span>=<span class="string">'video/ogg; codecs="theora, vorbis"'</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"Wildlife/Wildlife.webm"</span> <span class="attr">type</span>=<span class="string">'video/webm'</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"Wildlife/Wildlife.mp4"</span> <span class="attr">type</span>=<span class="string">'video/mp4'</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Video is not visible, most likely your browser does not support HTML5 video<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"play()"</span>&gt;</span>播放<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"pause()"</span>&gt;</span>暂停<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myVid=<span class="built_in">document</span>.getElementById(<span class="string">"video"</span>);</span><br><span class="line"><span class="comment">// 监听视频播放结束的事件</span></span><br><span class="line">myVid.addEventListener(<span class="string">"ended"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">"播放结束"</span>);</span><br><span class="line">&#125;,<span class="literal">true</span>);</span><br><span class="line"><span class="comment">// 发生错误</span></span><br><span class="line">myVid.addEventListener(<span class="string">'error'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(myVid.error.code) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>: </span><br><span class="line">          alert(<span class="string">"视频的下载过程被中止"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">              alert(<span class="string">"网络发生故障，视频的下载过程被中止"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">              alert(<span class="string">"解码失败"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">              alert(<span class="string">"不支持播放的视频格式"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">              alert(<span class="string">"发生未知错误"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;,<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">play</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 播放视频</span></span><br><span class="line">    myVid.play();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pause</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 暂停播放</span></span><br><span class="line">    myVid.pause();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>canPlayType</code>方法：使用<code>canPlayType</code>方法来测试浏览器是否支持指定的媒体类型，该方法定义如下：<code>var support = videoElement.canPlayType(type)</code></p><p><code>videoElement</code>表示页面上的<code>video</code>元素或<code>audio</code>元素，该方法使用一个参数<code>type</code>，该参数的指定方法与<code>source</code>元素的<code>type</code>参数的指定方法相同，用播放文件的<code>MIME</code>类型来指定，可以在指定的字符串中加上表示媒体编码格式的<code>codes</code>参数。</p><p><strong>该方法可能返回的值如下所示：</strong></p><ul><li>空字符串：表示浏览器不支持此种媒体类型。</li><li>maybe: 表示浏览器可能支持此种媒体类型。</li><li>probably： 表示浏览器确定支持此种媒体类型。</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">"video"</span> <span class="attr">controls</span> <span class="attr">width</span>=<span class="string">640</span> <span class="attr">height</span>=<span class="string">360</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"Wildlife/Wildlife.ogv"</span> <span class="attr">type</span>=<span class="string">'video/ogg; codecs="theora, vorbis"'</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"Wildlife/Wildlife.webm"</span> <span class="attr">type</span>=<span class="string">'video/webm'</span> &gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"Wildlife/Wildlife.mp4"</span> <span class="attr">type</span>=<span class="string">'video/mp4'</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">p</span>&gt;</span>Video is not visible, most likely your browser does not support HTML5 video<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"canPlayType()"</span>&gt;</span>canPlayType方法<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myVid=<span class="built_in">document</span>.getElementById(<span class="string">"video"</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">canPlayType</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> support = myVid.canPlayType(<span class="string">"video/webm"</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(support); <span class="comment">// maybe</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> support = myVid.canPlayType(<span class="string">'video/ogg; codecs="theora, vorbis'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(support); <span class="comment">// probably</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><ol><li><p>事件处理方式</p><ul><li>使用video元素或audio元素的事件方式有2种，第一种是监听的方式，使用video元素或audio元素的addEventListener方法来对事件的发生进行监听，该方法定义如下：<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">videoElement.addEventListener(type,listener,userCapture);</span><br></pre></td></tr></table></figure></li></ul><p>如上的监听方式和我们的JS的监听的方式一样，不做详细介绍</p><ul><li>我们来看看第二种事件监听方式是为javascript脚本中常见的获取事件句柄的方式，如下所示：<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;video id=<span class="string">""</span> src=<span class="string">""</span>  onplay=<span class="string">"begin()"</span>&gt;&lt;<span class="regexp">/video&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">function begin()&#123;&#125;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>事件介绍</p></li></ol><p> <strong><code>Video</code>元素与<code>audio</code>元素的相关事件</strong><br> <img src="../image/h25.png" alt=""></p><p> 下面我们来看个demo,在播放过程中会经常触发timeupdate事件来通知当前播放位置的改变，我们下面来看看timeupdate事件来显示当前的播放进度。</p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">"video"</span> <span class="attr">controls</span> <span class="attr">width</span>=<span class="string">640</span> <span class="attr">height</span>=<span class="string">360</span> <span class="attr">autoplay</span> <span class="attr">loop</span>=<span class="string">"loop"</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">视频地址：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"videoUrl"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"playButton"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"playOrPauseVideo()"</span> <span class="attr">value</span>=<span class="string">"播放"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"time"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">playOrPauseVideo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="keyword">var</span> videoUrl = <span class="built_in">document</span>.getElementById(<span class="string">"videoUrl"</span>).value;</span><br><span class="line">   <span class="keyword">var</span> video = <span class="built_in">document</span>.getElementById(<span class="string">"video"</span>);</span><br><span class="line">   <span class="comment">//使用事件监听方式扑捉事件</span></span><br><span class="line">   video.addEventListener(<span class="string">'timeupdate'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="keyword">var</span> timeDisplay = <span class="built_in">document</span>.getElementById(<span class="string">"time"</span>);</span><br><span class="line">       <span class="comment">// 使用秒数来显示当前播放进度</span></span><br><span class="line">       timeDisplay.innerHTML = <span class="built_in">Math</span>.floor(video.currentTime) + <span class="string">"/"</span> + <span class="built_in">Math</span>.floor(video.duration) + <span class="string">"(秒)"</span>;</span><br><span class="line">       &#125;,<span class="literal">false</span>);</span><br><span class="line">   <span class="keyword">if</span>(video.paused) &#123;</span><br><span class="line">       <span class="keyword">if</span>(videoUrl != video.src) &#123;</span><br><span class="line">           video.src = videoUrl;</span><br><span class="line">           video.load();</span><br><span class="line">       &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">           video.play();</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="built_in">document</span>.getElementById(<span class="string">"playButton"</span>).value = <span class="string">"暂停"</span>;</span><br><span class="line">       &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">           video.pause();</span><br><span class="line">           <span class="built_in">document</span>.getElementById(<span class="string">"playButton"</span>).value = <span class="string">"播放"</span>;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h1 id="新增input标签"><a href="#新增input标签" class="headerlink" title="新增input标签"></a>新增input标签</h1><ol><li>新增 input 标签<br><img src="../image/h26.png" alt=""></li><li>新增表单属性<br><img src="../image/h27.png" alt=""></li></ol><h1 id="新增选择器"><a href="#新增选择器" class="headerlink" title="新增选择器"></a>新增选择器</h1><ol><li><p>属性选择器列表<br><img src="../image/h28.png" alt=""></p></li><li><p>结构伪类选择器<br><img src="../image/h29.png" alt=""></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:first-child</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: lightseagreen;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: lightcoral;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:nth-child(3)</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: aqua;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>nth-child 参数详解</p><ul><li>注意：本质上就是选中第几个子元素</li><li>n 可以是数字、关键字、公式</li><li>n 如果是数字，就是选中第几个</li><li>常见的关键字有 even 偶数、odd 奇数</li><li>常见的公式如下(如果 n 是公式，则从 0 开始计算)</li><li>但是第 0 个元素或者超出了元素的个数会被忽略<br><img src="../image/h30.png" alt=""><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line">  <span class="comment">/* 偶数 */</span></span><br><span class="line">  <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:nth-child(even)</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: aquamarine;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 奇数 */</span></span><br><span class="line">  <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:nth-child(odd)</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: blueviolet;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*n 是公式，从 0 开始计算 */</span></span><br><span class="line">  <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:nth-child(n)</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: lightcoral;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 偶数 */</span></span><br><span class="line">  <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:nth-child(2n)</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: lightskyblue;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 奇数 */</span></span><br><span class="line">  <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:nth-child(2n</span> + 1) &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: lightsalmon;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 选择第 0 5 10 15, 应该怎么选 */</span></span><br><span class="line">  <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:nth-child(5n)</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: orangered;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* n + 5 就是从第5个开始往后选择 */</span></span><br><span class="line">  <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:nth-child(n</span> + 5) &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: peru;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* -n + 5 前五个 */</span></span><br><span class="line">  <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:nth-child(-n</span> + 5) &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: tan;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><em>-child 和  *-of-type 的区别<br>*</em>区别:**</p><ul><li><code>ul li:first-child</code>父元素<code>ul</code>中第一个元素是<code>li</code>将会被选中，如果不是将不会被选中</li><li><code>ul li:first-of-type</code>first-of-type约束了类型，<code>ul</code>不管子类不管有什么子类，都会能选中第一个<code>li</code>元素</li></ul></li><li><p>伪元素选择器</p><ul><li>伪类选择器<br><img src="../image/h31.png" alt=""></li></ul><p><strong>伪类选择器注意事项</strong></p><ul><li>before 和 after 必须有 content 属性</li><li>before 在内容前面，after 在内容后面</li><li>before 和 after 创建的是一个元素，但是属于行内元素</li><li>创建出来的元素在 Dom 中查找不到，所以称为伪元素</li><li>伪元素和标签选择器一样，权重为 1</li></ul><p><strong>添加字体图标</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">220px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">22px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid lightseagreen;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">'\ea50'</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">'icomoon'</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h1 id="transition"><a href="#transition" class="headerlink" title="transition"></a>transition</h1><p> 过渡（<code>transition</code>）是<code>css3</code>中具有颠覆性的特征之ー,我们可以在不使用 <code>Flash</code>动画或<code>Javascript</code>的情況下，当元素从一种样式变换为另一种样式时为元素添加效果。<br> 过渡动画：是从一个状态渐渐的过渡到另外个状态可以让我们页面更好看，更动感十足，虽然低版本浏览器不支（ie9以下版本）但是不会影响页面布局。</p><blockquote><p><strong>注意:</strong><br>我们现在经常和 <code>:hover</code>一起搭配使用。</p></blockquote><p> <strong>语法</strong><br> <code>transition</code>：要过渡的属性 花费时间 运动曲线 何时开始;</p><ul><li>属性：想要变化的<code>css</code>属性，宽度高度 背景颜色 内外边距都可以。如果想要所有的属性都<br>变化过渡，写一个<code>all</code>就可以。</li><li>花费时间：单位是秒（必须写单位）比如<code>0.5s</code></li><li>运动曲线：默认是<code>ease</code>（可以省略）</li><li>何时开始：单位是秒（必须写单位）可以设置延迟触发时间默认是<code>0s</code>（可以省略）<br><img src="../image/h32.png" alt=""></li></ul><h1 id="2D"><a href="#2D" class="headerlink" title="2D"></a>2D</h1><ol><li><p>translate<br><code>x</code> 就是 <code>x</code> 轴上水平移动<br><code>y</code> 就是 <code>y</code> 轴上水平移动</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">translate</span>(<span class="selector-tag">x</span>, <span class="selector-tag">y</span>)</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">translateX</span>(<span class="selector-tag">n</span>)</span><br><span class="line"><span class="selector-tag">transfrom</span>: <span class="selector-tag">translateY</span>(<span class="selector-tag">n</span>)</span><br></pre></td></tr></table></figure><p><strong>重点知识点</strong></p><ul><li><code>2D</code> 的移动主要是指 水平、垂直方向上的移动</li><li><code>translate</code> 最大的优点就是不影响其他元素的位置</li><li><code>translate</code> 中的<code>100%</code>单位，是相对于本身的宽度和高度来进行计算的</li><li>行内标签没有效果</li><li>谁做动画给谁加过渡</li></ul><p><strong>代码演示</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: lightseagreen;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="comment">/* 平移 */</span></span><br><span class="line">  <span class="comment">/* 水平垂直移动 100px */</span></span><br><span class="line">  <span class="comment">/* transform: translate(100px, 100px); */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 水平移动 100px */</span></span><br><span class="line">  <span class="comment">/* transform: translate(100px, 0) */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 垂直移动 100px */</span></span><br><span class="line">  <span class="comment">/* transform: translate(0, 100px) */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 水平移动 100px */</span></span><br><span class="line">  <span class="comment">/* transform: translateX(100px); */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 垂直移动 100px */</span></span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">100px</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>rotate<br><code>2D</code> 旋转指的是让元素在二维平面内顺时针或者逆时针旋转</p><p><strong>rotate语法</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 单位是：deg */</span></span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">rotate</span>(度数)</span><br></pre></td></tr></table></figure><p><strong>重点知识点</strong></p><ul><li><code>rotate</code> 里面跟度数，单位是 <code>deg</code></li><li>角度为正时，顺时针，角度为负时，逆时针</li><li>默认旋转的中心点是元素的中心点</li></ul><p><strong>代码演示</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>设置元素旋转中心点(transform-origin)</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">transform-origin</span>: <span class="selector-tag">x</span> <span class="selector-tag">y</span>;</span><br></pre></td></tr></table></figure><ul><li>注意后面的参数 <code>x</code> 和 <code>y</code> 用空格隔开</li><li><code>x y</code> 默认旋转的中心点是元素的中心 (<code>50% 50%</code>)，等价于 <code>center  center</code></li><li>还可以给 <code>x y</code> 设置像素或者方位名词(<code>top、bottom、left、right、center</code>)</li></ul></li><li><p>scale<br><code>scale</code> 的作用是用来控制元素的放大与缩小</p><p><strong>语法</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">scale</span>(<span class="selector-tag">x</span>, <span class="selector-tag">y</span>)</span><br></pre></td></tr></table></figure><p><strong>知识要点</strong></p><ul><li>注意，<code>x 与 y</code> 之间使用逗号进行分隔</li><li><code>transform: scale(1, 1)</code>: 宽高都放大一倍，相当于没有放大</li><li><code>transform: scale(2, 2)</code>: 宽和高都放大了二倍</li><li><code>transform: scale(2)</code>: 如果只写了一个参数，第二个参数就和第一个参数一致</li><li><code>transform:scale(0.5, 0.5)</code>: 缩小</li><li><code>scale</code> 最大的优势：可以设置转换中心点缩放，默认以中心点缩放，而且不影响其他盒子</li></ul><p><strong>代码演示</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="comment">/* 注意，数字是倍数的含义，所以不需要加单位 */</span></span><br><span class="line">  <span class="comment">/* transform: scale(2, 2) */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 实现等比缩放，同时修改宽与高 */</span></span><br><span class="line">  <span class="comment">/* transform: scale(2) */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 小于 1 就等于缩放*/</span></span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.5</span>, <span class="number">0.5</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>2D</code> 转换综合写法以及顺序问题</p><ul><li>同时使用多个转换，其格式为 <code>transform: translate() rotate() scale()</code></li><li>顺序会影响到转换的效果(先旋转会改变坐标轴方向)</li><li>但我们同时有位置或者其他属性的时候，要将位移放到最前面</li></ul><p><strong>代码演示</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">200px</span>, <span class="number">0</span>) <span class="built_in">rotate</span>(<span class="number">360deg</span>) <span class="built_in">scale</span>(<span class="number">1.2</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h1 id="动画-animation"><a href="#动画-animation" class="headerlink" title="动画(animation)"></a>动画(animation)</h1><p>  动画是 <code>CSS3</code> 中最具颠覆性的特征之一，可通过设置多个节点来精确的控制一个或者一组动画，从而实现复杂的动画效果</p><ol><li><p>动画的基本使用</p><ul><li>先定义动画</li><li>在调用定义好的动画</li></ul></li><li><p>animation属性<br><img src="../image/h33.png" alt=""></p><p><strong>代码演示</strong></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line">  <span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: aquamarine;</span><br><span class="line">    <span class="comment">/* 动画名称 */</span></span><br><span class="line">    <span class="attribute">animation-name</span>: move;</span><br><span class="line">    <span class="comment">/* 动画花费时长 */</span></span><br><span class="line">    <span class="attribute">animation-duration</span>: <span class="number">2s</span>;</span><br><span class="line">    <span class="comment">/* 动画速度曲线 */</span></span><br><span class="line">    <span class="attribute">animation-timing-function</span>: ease-in-out;</span><br><span class="line">    <span class="comment">/* 动画等待多长时间执行 */</span></span><br><span class="line">    <span class="attribute">animation-delay</span>: <span class="number">2s</span>;</span><br><span class="line">    <span class="comment">/* 规定动画播放次数 infinite: 无限循环 */</span></span><br><span class="line">    <span class="attribute">animation-iteration-count</span>: infinite;</span><br><span class="line">    <span class="comment">/* 是否逆行播放 */</span></span><br><span class="line">    <span class="attribute">animation-direction</span>: alternate;</span><br><span class="line">    <span class="comment">/* 动画结束之后的状态 */</span></span><br><span class="line">    <span class="attribute">animation-fill-mode</span>: forwards;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="comment">/* 规定动画是否暂停或者播放 */</span></span><br><span class="line">  <span class="attribute">animation-play-state</span>: paused;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> move&#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">0px</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">500px</span>, <span class="number">0</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> HTML5 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>html</title>
      <link href="/html/"/>
      <url>/html/</url>
      
        <content type="html"><![CDATA[<h1 id="HTML-初识"><a href="#HTML-初识" class="headerlink" title="HTML 初识"></a>HTML 初识</h1><p> <code>HTML</code> 指的是超文本标记语言 (<code>Hyper Text Markup Language</code>)是用来描述网页的一种语言, <code>HTML</code> 不是一种编程语言，而是一种标记语言 (<code>markup language</code>)</p><h2 id="HTML骨架格式"><a href="#HTML骨架格式" class="headerlink" title="HTML骨架格式"></a>HTML骨架格式</h2> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span>   </span><br><span class="line">   <span class="tag">&lt;<span class="name">head</span>&gt;</span>     </span><br><span class="line">       <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>标签名</th><th align="center">定义</th><th align="left">说明</th></tr></thead><tbody><tr><td><code>&lt;html&gt;&lt;/html&gt;</code></td><td align="center"><code>HTML</code>标签</td><td align="left">页面中最大的标签，我们成为  根标签</td></tr><tr><td><code>&lt;head&gt;&lt;/head&gt;</code></td><td align="center">文档的头部</td><td align="left">注意在<code>head</code>标签中我们必须要设置的标 <code>title</code></td></tr><tr><td><code>&lt;titile&gt;&lt;/title&gt;</code></td><td align="center">文档的标题</td><td align="left">让页面拥有一个属于自己的网页题</td></tr><tr><td><code>&lt;body&gt;&lt;/body&gt;</code></td><td align="center">文档的主体</td><td align="left">元素包含文档的所有内容，页面内容 基本都是放到<code>body</code>里面的</td></tr><tr><td><code>&lt;title&gt;&lt;/title&gt;</code></td><td align="center">文档的标题</td><td align="left">让页面拥有一个属于自己的网页题</td></tr></tbody></table><h1 id="文档类型-lt-DOCTYPE-gt"><a href="#文档类型-lt-DOCTYPE-gt" class="headerlink" title="文档类型&lt;!DOCTYPE&gt;"></a>文档类型&lt;!DOCTYPE&gt;</h1><p> <code>&lt;!DOCTYPE html&gt;</code>一些老网站可能用的还是老版本的文档类型比如 <code>XHTML</code>之类的，但是我们学的是HTML5,而且HTML5的文档类型兼容很好(向下兼容的原则)，所以大家放心的使用<code>HTML5</code>的文档类型就好了。就是告诉浏览器按照HTML5 规范解析页面. </p><h1 id="页面语言lang"><a href="#页面语言lang" class="headerlink" title="页面语言lang"></a>页面语言lang</h1><p> <code>&lt;html lang=&quot;en&quot;&gt;</code> 指定<code>html</code> 语言种类, <code>&lt;html lang=&quot;zh-CN&quot;&gt;</code>  指定该<code>html</code>标签 内容 所用的语言为中文<br> 最常见的2个：</p><ul><li><code>en</code>定义语言为英语</li><li><code>zh-CN</code>定义语言为中文</li></ul><h1 id="字符集"><a href="#字符集" class="headerlink" title="字符集"></a>字符集</h1><p> <code>&lt;meta charset=&quot;UTF-8&quot; /&gt;</code></p><p> <code>utf-8</code>是目前最常用的字符集编码方式，常用的字符集编码方式还有<code>gbk</code>和<code>gb2312</code>。</p><ul><li>b2312 简单中文  包括6763个汉字</li><li>BIG5   繁体中文 港澳台等用</li><li>GBK包含全部中文字符 是GB2312的扩展，加入对繁体字的支持，兼容GB2312</li><li>UTF-8则基本包含全世界所有国家需要用到的字符<blockquote><p><strong>注意：</strong><br>这句代码非常关键， 是必须要写的代码，否则可能引起乱码的情况, 这句话是让 <code>html</code> 文件是以 <code>UTF-8</code> 编码保存的， 浏览器根据编码去解码对应的<code>html</code>内容, 一般情况下统一使用 “UTF-8” 编码, 请尽量统一写成标准的 <code>&quot;UTF-8&quot;</code>，不要写成<code>&quot;utf-8&quot;</code> 或 <code>&quot;utf8&quot;</code> 或 <code>&quot;UTF8&quot;</code>。</p></blockquote></li></ul><h1 id="HTML常用标签"><a href="#HTML常用标签" class="headerlink" title="HTML常用标签"></a>HTML常用标签</h1><h2 id="标题标签h"><a href="#标题标签h" class="headerlink" title="标题标签h"></a>标题标签h</h2><p> 在<code>HTML</code>中，一共有六级标题标签 <code>h1 ~ h6</code>在显示效果上h1最大，<code>h6</code>最小，但是文字的大小我们并不关心使用<code>HTML</code>标签时，关心的是标签的语义，我们使用的标签都是语义化标签,6级标题中，<code>h1</code>的最重要，表示一个网页中的主要内容，<code>h2 ~ h6</code>重要性依次降低,对于搜索引擎来说，<code>h1</code>的重要性仅次于<code>title</code>，搜索引擎检索完<code>title</code>，会立即查看<code>h1</code>中的内容,h1标签非常重要，它会影响到页面在搜索引擎中的排名，页面只能写一个<code>h1</code></p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>   标题文本   <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>   标题文本   <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>   标题文本   <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>   标题文本   <span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h5</span>&gt;</span>   标题文本   <span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h6</span>&gt;</span>   标题文本   <span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="段落标签p"><a href="#段落标签p" class="headerlink" title="段落标签p"></a>段落标签p</h2><p> 可以把 <code>HTML</code> 文档分割为若干段落, 块级元素<br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>  文本内容  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="水平线标签hr"><a href="#水平线标签hr" class="headerlink" title="水平线标签hr"></a>水平线标签hr</h2><p> 在网页中常常看到一些水平线将段落与段落之间隔开，使得文档结构清晰，层次分明。这些水平线可以通过插入图片实现，也可以简单地通过标签来完成，<code>&lt;hr /&gt;</code>就是创建横跨网页水平线的标签。</p><h2 id="换行标签br"><a href="#换行标签br" class="headerlink" title="换行标签br"></a>换行标签br</h2><p> <code>&lt;br /&gt;</code> 用于换行</p><h2 id="div-和-span标签"><a href="#div-和-span标签" class="headerlink" title="div 和 span标签"></a>div 和 span标签</h2><ul><li><code>div</code>标签  用来布局的，但是现在一行只能放一个<code>div</code></li><li><code>span</code>标签  用来布局的，一行上可以放好多个<code>span</code></li></ul><h2 id="文本格式化标签"><a href="#文本格式化标签" class="headerlink" title="文本格式化标签"></a>文本格式化标签</h2><p> 在网页中，有时需要为文字设置粗体、斜体或下划线效果，这时就需要用到HTML中的文本格式化标签，使文字以特殊的方式显示。<br> <img src="../image/h1.png" alt=""></p><h2 id="图像标签img"><a href="#图像标签img" class="headerlink" title="图像标签img"></a>图像标签img</h2><p> 使用<code>img</code>标签来向网页中引入一个外部图片，<code>img</code>标签也是一个自结束标签</p><ul><li><p><code>src</code>：设置一个外部图片的路径</p></li><li><p><code>alt</code>：可以用来设置在图片不能显示时，对图片的描述,搜索引擎可以通过<code>alt</code>属性来识别不同的图片,如果不写<code>alt</code>属性，则搜索引擎不会对<code>img</code>中的图片进行收录</p></li><li><p><code>width</code>：可以用来修改图片的宽度,一般使用<code>px</code>作为单位</p></li><li><p><code>height</code>    ：可以用来修改图片的高度，一般使用<code>px</code>作为单位</p></li><li><p><code>title</code>: 鼠标悬停时显示的内容</p></li><li><p><code>boder</code>: 设置图像边框的宽度</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"2.gif"</span> <span class="attr">alt</span>=<span class="string">"这是一个大松鼠"</span> <span class="attr">width</span>=<span class="string">"100px"</span> <span class="attr">height</span>=<span class="string">"500px"</span>  /&gt;</span> <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"cz.jpg"</span> <span class="attr">width</span>=<span class="string">"300"</span> <span class="attr">height</span>=<span class="string">"300"</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  带有边框的<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"cz.jpg"</span> <span class="attr">width</span>=<span class="string">"300"</span> <span class="attr">height</span>=<span class="string">"300"</span> <span class="attr">border</span>=<span class="string">"3"</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">有提示文本的<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"cz.jpg"</span> <span class="attr">width</span>=<span class="string">"300"</span> <span class="attr">height</span>=<span class="string">"300"</span> <span class="attr">border</span>=<span class="string">"3"</span> <span class="attr">title</span>=<span class="string">"这是个小蒲公英"</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">有替换文本的<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"cz.jpg"</span> <span class="attr">width</span>=<span class="string">"300"</span> <span class="attr">height</span>=<span class="string">"300"</span> <span class="attr">border</span>=<span class="string">"3"</span> <span class="attr">alt</span>=<span class="string">"图片不存在"</span> /&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>宽度和高度两个属性如果指设置一个，另一个也会同时等比例调整大小,如果两个值同时指定则按照你指定的值来设置,一般开发中除了自适应的页面，不建议设置width和height    </p></blockquote></li></ul><h2 id="链接标签"><a href="#链接标签" class="headerlink" title="链接标签"></a>链接标签</h2><p> 在<code>HTML</code>中创建超链接非常简单，只需用标签把文字包括起来就好。<br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"跳转目标"</span> <span class="attr">target</span>=<span class="string">"目标窗口的弹出方式"</span>&gt;</span>文本或图像<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure></p><table><thead><tr><th>属性</th><th align="left">作用</th></tr></thead><tbody><tr><td><code>href</code></td><td align="left">用于指定链接目标的url地址，（必须属性）当为标签应用<code>href</code>属性时，它就具有了超链接的功能</td></tr><tr><td><code>target</code></td><td align="left">用于指定链接页面的打开方式，其取值有<code>_self</code>和<code>_blank</code>两种，其中<code>_self</code>为默认值，<code>__blank</code>为在新窗口中打开方式。</td></tr></tbody></table><h2 id="列表标签"><a href="#列表标签" class="headerlink" title="列表标签"></a>列表标签</h2><h3 id="无序列表-ul"><a href="#无序列表-ul" class="headerlink" title="无序列表 ul"></a>无序列表 ul</h3><p> 无序列表的各个列表项之间没有顺序级别之分，是并列的。其基本语法格式如下：<br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure></p><blockquote><p><strong>注意：</strong><br>1.<code>&lt;ul&gt;&lt;/ul&gt;</code>中只能嵌套<code>&lt;li&gt;&lt;/li&gt;</code>，直接在<code>&lt;ul&gt;&lt;/ul&gt;</code>标签中输入其他标签或者文字的做法是不被允许的。<br>2.<code>&lt;li&gt;与&lt;/li&gt;</code>之间相当于一个容器，可以容纳所有元素。<br>3.无序列表会带有自己样式属性，放下那个样式，一会让<code>CSS</code>来！</p></blockquote><h3 id="有序列表-ol"><a href="#有序列表-ol" class="headerlink" title="有序列表 ol"></a>有序列表 ol</h3><p> 有序列表即为有排列顺序的列表，其各个列表项按照一定的顺序排列定义，有序列表的基本语法格式如下：<br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure><br> ** 所有特性基本与ul 一致。  但是实际中比 无序列表 用的少很多。**</p><h3 id="自定义列表"><a href="#自定义列表" class="headerlink" title="自定义列表"></a>自定义列表</h3><p> 定义列表常用于对术语或名词进行解释和描述，定义列表的列表项前没有任何项目符号。其基本语法如下：<br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span>名词1<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词1解释1<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词1解释2<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span>名词2<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词2解释1<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词2解释2<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="表单标签"><a href="#表单标签" class="headerlink" title="表单标签"></a>表单标签</h2><p> 在我们网页中，我们也需要跟用户进行交互，收集用户资料，此时需要表单。 </p><h3 id="input-控件"><a href="#input-控件" class="headerlink" title="input 控件"></a>input 控件</h3><ol><li><p>语法：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"属性值"</span> <span class="attr">value</span>=<span class="string">"你好"</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>input</code> 输入的意思 </li><li><code>&lt;input /&gt;</code>标签为单标签</li><li><code>type</code>属性设置不同的属性值用来指定不同的控件类型</li><li>除了<code>type</code>属性还有别的属性</li></ul></li><li><p>常用属性：<br><img src="../image/h5.png" alt=""></p></li><li><p>type 属性</p><ul><li>这个属性通过改变值，可以决定了你属于那种<code>input</code>表单。</li><li>比如 <code>type = &#39;text&#39;</code> 就表示文本框可以做 用户名昵称等。</li><li>比如 <code>type = &#39;password&#39;</code> 就是表示密码框用户输入的内容是不可见的。<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">用户名: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> /&gt;</span> </span><br><span class="line">密  码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> /&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>value属性值</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">用户名:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span>  <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"请输入用户名"</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>value</code> 默认的文本值。 有些表单想刚打开页面就默认显示几个文字，就可以通过这个 <code>value</code>来设置。</li></ul></li><li><p>name属性</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">用户名:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span>  <span class="attr">name</span>=<span class="string">“username”</span> /&gt;</span></span><br></pre></td></tr></table></figure><p><code>name</code>表单的名字， 这样，后台可以通过这个<code>name</code>属性找到这个表单。  页面中的表单很多，<code>name</code>主要作用就是用于区别不同的表单。</p><ul><li><code>name</code>属性后面的值，是我们自己定义的。</li><li><code>radio</code>如果是一组，我们必须给他们命名相同的名字 name   这样就可以多个选其中的一个啦<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> /&gt;</span>男</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> /&gt;</span>女</span><br></pre></td></tr></table></figure></li></ul><ul><li><code>name</code>属性，我们现在用的较少， 但是，当我们学<code>ajax</code>和后台的时候，是必须的。</li></ul></li><li><p>checked属性<br>表示默认选中状态。较常见于 单选按钮和复选按钮。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  性    别:</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">value</span>=<span class="string">"男"</span> <span class="attr">checked</span>=<span class="string">"checked"</span> /&gt;</span>男</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">value</span>=<span class="string">"女"</span> /&gt;</span>女</span><br></pre></td></tr></table></figure><p>上面这个，表示就默认选中了 <code>男</code> 这个单选按钮</p></li></ol><h3 id="label标签"><a href="#label标签" class="headerlink" title="label标签"></a>label标签</h3><p> <code>label</code>标签主要目的是为了提高用户体验。 为用户提高最优秀的服务, <code>label</code> 标签为 <code>input</code> 元素定义标注（标签）。</p><ol><li><p>作用<br>用于绑定一个表单元素, 当点击<code>label</code>标签的时候, 被绑定的表单元素就会获得输入焦点。</p></li><li><p>如何绑定元素呢？</p><ul><li>第一种用法就是用<code>label</code>直接包括<code>input</code>表单。<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span>&gt;</span> 用户名： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"usename"</span> <span class="attr">value</span>=<span class="string">"请输入用户名"</span>&gt;</span>   <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>第二种用法 <code>for</code> 属性规定 <code>label</code> 与哪个表单元素绑定。<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"sex"</span>&gt;</span>男<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span>  <span class="attr">id</span>=<span class="string">"sex"</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><blockquote><p><strong>总结：</strong><br>当我们鼠标点击 label标签里面的文字时， 光标会定位到指定的表单里面</p></blockquote></li></ol><h3 id="textarea控件-文本域"><a href="#textarea控件-文本域" class="headerlink" title="textarea控件(文本域)"></a>textarea控件(文本域)</h3><ol><li>语法：<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span> &gt;</span></span><br><span class="line"> 文本内容</span><br><span class="line"><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>作用：<ul><li>通过textarea控件可以轻松地创建多行文本输入框.</li><li><code>cols=&quot;每行中的字符数&quot;</code> <code>rows=&quot;显示的行数&quot;</code>  我们实际开发不用</li></ul></li><li>文本框和文本域区别<table><thead><tr><th align="left">表单</th><th align="center">名称</th><th align="center">区别</th><th align="right">默认值显示</th><th align="right">用于场景</th></tr></thead><tbody><tr><td align="left">input type=”text”</td><td align="center">文本框</td><td align="center">只能显示一行文本</td><td align="right">单标签，通过value显示默认值</td><td align="right">用户名、昵称、密码等</td></tr><tr><td align="left">textarea</td><td align="center">文本域</td><td align="center">可以显示多行文本</td><td align="right">双标签，默认值写到标签中间</td><td align="right">留言板</td></tr></tbody></table></li></ol><h3 id="select下拉列表"><a href="#select下拉列表" class="headerlink" title="select下拉列表"></a>select下拉列表</h3><p> 如果有多个选项让用户选择，为了节约空间，我们可以使用select控件定义下拉列表.</p><ol><li>语法：<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>选项1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>选项2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>选项3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>注意</strong><br>1.<code>select</code>  中至少包含一对 <code>option</code><br>2.在<code>option</code> 中定义<code>selected =&quot;selected&quot;</code>时，当前项即为默认选中项。<br>3.但是我们实际开发会用的比较少</p></blockquote></li></ol><h3 id="form表单域"><a href="#form表单域" class="headerlink" title="form表单域"></a>form表单域</h3><p> 在 <code>HTML</code> 中，<code>form</code>标签被用于定义表单域，以实现用户信息的收集和传递，<code>form</code>中的所有内容都会被提交给服务器。</p><ol><li><p>语法:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"url地址"</span> <span class="attr">method</span>=<span class="string">"提交方式"</span> <span class="attr">name</span>=<span class="string">"表单名称"</span>&gt;</span></span><br><span class="line">  各种表单控件</span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>常用属性：</p><table><thead><tr><th>属性</th><th align="left">属性值</th><th>作用</th></tr></thead><tbody><tr><td>action</td><td align="left">url地址</td><td>用于指定接收并处理表单数据的服务器程序的url地址。</td></tr><tr><td>method</td><td align="left">get/post</td><td>用于设置表单数据的提交方式，其取值为get或post。</td></tr><tr><td>name</td><td align="left">名称</td><td>用于指定表单的名称，以区分同一个页面中的多个表单。</td></tr></tbody></table><blockquote><p><strong>注意：</strong><br>每个表单都应该有自己表单域。我们现在做页面，不写看不到效果，但是 如果后面学 ajax 后台交互的时候，必须需要 form表单域。<br><a href="https://juejin.im/post/6844903694274674702" target="_blank" rel="noopener">Form 表单提交知识的总结</a></p></blockquote></li></ol><h2 id="注释标签"><a href="#注释标签" class="headerlink" title="注释标签"></a>注释标签</h2><p> 在<code>HTML</code>中还有一种特殊的标签——注释标签。如果需要在<code>HTML</code>文档中添加一些便于阅读和理解但又不需要显示在页面中的注释文字，就需要使用注释标签。<br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 注释语句 --&gt;</span>     快捷键是：    ctrl + /       或者 ctrl +shift + /</span><br></pre></td></tr></table></figure></p><h2 id="锚点定位"><a href="#锚点定位" class="headerlink" title="锚点定位"></a>锚点定位</h2><p> 通过创建锚点链接，用户能够快速定位到目标内容。<br> <strong>创建锚点链接分为两步：</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 使用相应的id名标注跳转目标的位置。 (找目标) --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">h3</span> <span class="attr">id</span>=<span class="string">"two"</span>&gt;</span>第2集<span class="tag">&lt;/<span class="name">h3</span>&gt;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 使用&lt;a href="#id名"&gt;链接文本&lt;/a&gt;创建链接文本（被点击的） --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#two"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="base-标签"><a href="#base-标签" class="headerlink" title="base 标签"></a>base 标签</h2><p> <code>&lt;base target=&quot;_blank&quot; /&gt;</code>使所有的链接，新窗口打开页面</p><blockquote><p><strong>总结：</strong><br>1.<code>base</code> 可以设置整体链接的打开状态<br>2.<code>base</code> 写到  <code>&lt;head&gt;  &lt;/head&gt;</code>  之间<br>3.把所有的链接都默认添加 <code>target=&quot;_blank</code>“</p></blockquote><h2 id="预格式化文本pre标签"><a href="#预格式化文本pre标签" class="headerlink" title="预格式化文本pre标签"></a>预格式化文本pre标签</h2><p> 被包围在 <code>&lt;pre&gt;</code> 标签,所谓的预格式化文本就是 ，按照我们预先写好的文字格式来显示页面， 保留空格和换行等。<br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  此例演示如何使用 pre 标签</span><br><span class="line"></span><br><span class="line">  对空行和 空格</span><br><span class="line"></span><br><span class="line">  进行控制</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="特殊字符"><a href="#特殊字符" class="headerlink" title="特殊字符"></a>特殊字符</h2><p>  一些特殊的符号，我们再<code>html</code> 里面很难或者 不方便直接 使用， 我们此时可以使用下面的替代代码。<br>  <img src="../image/h2.png" alt=""><br>  <strong>虽然有很多，但是我们平时用的比较较少， 大家重点记住   空格    大于号 小于号   就可以了，剩下的回来查阅。</strong></p><h1 id="表格-table-会使用"><a href="#表格-table-会使用" class="headerlink" title="表格 table(会使用)"></a>表格 table(会使用)</h1><p>  表格的现在还是较为常用的一种标签，但不是用来布局，常见显示、展示表格式数据, 因为它可以让数据显示的非常的规整，可读性非常好。</p><h2 id="创建表格"><a href="#创建表格" class="headerlink" title="创建表格"></a>创建表格</h2><p> 在 <code>HTML</code> 网页中，要想创建表格，就需要使用表格相关的标签。<br> <strong>创建表格的基本语法：</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>单元格内的文字<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><br> 要深刻体会表格、行、单元格他们的构成。</p><p> 在上面的语法中包含基本的三对<code>HTML</code>标签，分别为 <code>table</code>、<code>tr</code>、<code>td</code>，他们是创建表格的基本标签，缺一不可，下面对他们进行具体地解释</p><ul><li><code>table</code>用于定义一个表格标签。</li><li><code>tr</code>标签 用于定义表格中的行，必须嵌套在 <code>table</code>标签中。</li><li><code>td</code> 用于定义表格中的单元格，必须嵌套在<code>&lt;tr&gt;&lt;/tr&gt;</code>标签中。</li><li>字母 <code>td</code> 指表格数据（<code>table data</code>），即数据单元格的内容，现在我们明白，表格最合适的地方就是用来存储数据的。</li></ul><h2 id="表格属性"><a href="#表格属性" class="headerlink" title="表格属性"></a>表格属性</h2><p> 表格有部分属性我们不常用，这里重点记住 <code>cellspacing</code> 、 <code>cellpadding</code>。<br> <img src="../image/h3.png" alt=""><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">"500"</span> <span class="attr">height</span>=<span class="string">"300"</span> <span class="attr">border</span>=<span class="string">"1"</span> <span class="attr">cellpadding</span>=<span class="string">"20"</span> <span class="attr">cellspacing</span>=<span class="string">"0"</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span>  <span class="tag">&lt;<span class="name">th</span>&gt;</span>姓名<span class="tag">&lt;/<span class="name">th</span>&gt;</span>   <span class="tag">&lt;<span class="name">th</span>&gt;</span>性别<span class="tag">&lt;/<span class="name">th</span>&gt;</span> <span class="tag">&lt;<span class="name">th</span>&gt;</span>年龄<span class="tag">&lt;/<span class="name">th</span>&gt;</span>  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span>  <span class="tag">&lt;<span class="name">td</span>&gt;</span>刘德华<span class="tag">&lt;/<span class="name">td</span>&gt;</span> <span class="tag">&lt;<span class="name">td</span>&gt;</span>男<span class="tag">&lt;/<span class="name">td</span>&gt;</span> <span class="tag">&lt;<span class="name">td</span>&gt;</span>55<span class="tag">&lt;/<span class="name">td</span>&gt;</span>  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span>  <span class="tag">&lt;<span class="name">td</span>&gt;</span>郭富城<span class="tag">&lt;/<span class="name">td</span>&gt;</span> <span class="tag">&lt;<span class="name">td</span>&gt;</span>男<span class="tag">&lt;/<span class="name">td</span>&gt;</span> <span class="tag">&lt;<span class="name">td</span>&gt;</span>52<span class="tag">&lt;/<span class="name">td</span>&gt;</span>  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span>  <span class="tag">&lt;<span class="name">td</span>&gt;</span>张学友<span class="tag">&lt;/<span class="name">td</span>&gt;</span> <span class="tag">&lt;<span class="name">td</span>&gt;</span>男<span class="tag">&lt;/<span class="name">td</span>&gt;</span> <span class="tag">&lt;<span class="name">td</span>&gt;</span>58<span class="tag">&lt;/<span class="name">td</span>&gt;</span>  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span>  <span class="tag">&lt;<span class="name">td</span>&gt;</span>黎明<span class="tag">&lt;/<span class="name">td</span>&gt;</span>   <span class="tag">&lt;<span class="name">td</span>&gt;</span>男<span class="tag">&lt;/<span class="name">td</span>&gt;</span> <span class="tag">&lt;<span class="name">td</span>&gt;</span>18<span class="tag">&lt;/<span class="name">td</span>&gt;</span>  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span>  <span class="tag">&lt;<span class="name">td</span>&gt;</span>刘晓庆<span class="tag">&lt;/<span class="name">td</span>&gt;</span> <span class="tag">&lt;<span class="name">td</span>&gt;</span>女<span class="tag">&lt;/<span class="name">td</span>&gt;</span> <span class="tag">&lt;<span class="name">td</span>&gt;</span>63<span class="tag">&lt;/<span class="name">td</span>&gt;</span>  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><br> 我们经常有个说法，是<code>三参为0</code>，平时开发的我们这三个参数 <code>border  cellpadding  cellspacing</code> 为  <code>0</code></p><h2 id="表格的细线边框"><a href="#表格的细线边框" class="headerlink" title="表格的细线边框"></a>表格的细线边框</h2><p>  通过表格的<code>cellspacing=&quot;0&quot;</code>,将单元格与单元格之间的距离设置为0，但是两个单元格之间的边框会出现重叠，从而使边框变粗, <code>collapse</code> 单词是合并的意思<code>border-collapse:collapse;</code> 表示相邻边框合并在一起。<br>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">table</span>&#123; <span class="attribute">border-collapse</span>:collapse; &#125;</span><br></pre></td></tr></table></figure><br>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  table &#123;</span><br><span class="line">    width: 500px;</span><br><span class="line">    height: 300px;</span><br><span class="line">    border: 1px solid red;</span><br><span class="line">  &#125;</span><br><span class="line">  td &#123;</span><br><span class="line">    border: 1px solid red;</span><br><span class="line">    text-align: center;</span><br><span class="line">  &#125;</span><br><span class="line">  table, td &#123;</span><br><span class="line"><span class="css">    <span class="selector-tag">border-collapse</span>: <span class="selector-tag">collapse</span>;  <span class="comment">/*合并相邻边框*/</span></span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="表头单元格标签th"><a href="#表头单元格标签th" class="headerlink" title="表头单元格标签th"></a>表头单元格标签th</h2><p> 一般表头单元格位于表格的第一行或第一列，并且文本加粗居中, 只需用表头标签<code>&lt;th&gt;&lt;/th&gt;</code>替代相应的单元格标签<code>&lt;td&gt;&lt;/td&gt;</code>即可。<br> <img src="../image/h4.png" alt=""></p><blockquote><p>th 也是一个单元格只不过和普通的 td单元格不一样，它会让自己里面的文字居中且加粗</p></blockquote><h2 id="表格标题caption"><a href="#表格标题caption" class="headerlink" title="表格标题caption"></a>表格标题caption</h2><p> <strong>定义和用法</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">caption</span>&gt;</span>我是表格标题<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure></p><blockquote><p><strong>注意：</strong><br>1.<code>caption</code> 元素定义表格标题，通常这个标题会被居中且显示于表格之上。<br>2.<code>caption</code> 标签必须紧随 <code>table</code> 标签之后。<br>3.这个标签只存在 表格里面才有意义。你是风儿我是沙</p></blockquote><h2 id="合并单元格"><a href="#合并单元格" class="headerlink" title="合并单元格"></a>合并单元格</h2><p> 合并单元格是我们比较常用的一个操作，但是不会合并的很复杂。</p><ul><li>跨行合并：rowspan=”合并单元格的个数”，先上后下       </li><li>跨列合并：colspan=”合并单元格的个数”， 先左后右</li></ul><h2 id="表格划分结构"><a href="#表格划分结构" class="headerlink" title="表格划分结构"></a>表格划分结构</h2><p> 对于比较复杂的表格，表格的结构也就相对的复杂了，所以又将表格分割成三个部分：题头、正文和脚注。而这三部分分别用<code>thead</code>,<code>tbody</code>,<code>tfoot</code>来标注， 这样更好的分清表格结构</p><blockquote><p><strong>注意：</strong><br>1.<code>&lt;thead&gt;&lt;/thead&gt;</code>：用于定义表格的头部。用来放标题之类的东西。<code>&lt;thead&gt;</code>内部必须拥有 <code>&lt;tr&gt;</code> 标签！<br>2.<code>&lt;tbody&gt;&lt;/tbody&gt;</code>：用于定义表格的主体。放数据本体 。<br>3.<code>&lt;tfoot&gt;&lt;/tfoot&gt;</code>放表格的脚注之类。<br>4.以上标签都是放到<code>table</code>标签中。</p></blockquote><h3 id="合并单元格三步曲"><a href="#合并单元格三步曲" class="headerlink" title="合并单元格三步曲"></a>合并单元格三步曲</h3><ol><li>先确定是跨行还是跨列合并</li><li>根据 先上 后下   先左  后右的原则找到目标单元格    然后写上 合并方式 还有 要合并的单元格数量  比如：<code>&lt;td colspan=&quot;3&quot;&gt;   &lt;/td&gt;</code></li><li>删除多余的单元格     </li></ol><h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1><h2 id="引入CSS样式表"><a href="#引入CSS样式表" class="headerlink" title="引入CSS样式表"></a>引入CSS样式表</h2><ol><li><p>行内式（内联样式）<br>称行内样式、行间样式,是通过标签的<code>style</code>属性来设置元素的样式</p><p><strong>基本语法</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"color: red; font-size: 12px;"</span>&gt;</span>青春不常在，抓紧谈恋爱<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>注意</strong></p><ul><li>style其实就是标签的属性</li><li>样式属性和值中间是:</li><li>多组属性值之间用;隔开。</li><li>只能控制当前的标签和以及嵌套在其中的字标签，造成代码冗余</li></ul></blockquote><blockquote><p><strong>缺点：</strong><br>没有实现样式和结构相分离</p></blockquote></li><li><p>内部样式表<br>称内嵌式是将<code>CSS</code>代码集中写在<code>HTML</code>文档的head头部标签中，并且用<code>style</code>标签定义<br><strong>基本语法</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    div &#123;</span><br><span class="line">      color: red;</span><br><span class="line">      font-size: 12px;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>注意:</strong></p><ul><li><code>style</code>标签一般位于<code>head</code>标签中，当然理论上他可以放在HTML文档的任何地方。</li><li><code>type=&quot;text/css&quot;</code> 在<code>html5</code>中可以省略。</li><li>只能控制当前的页面</li></ul></blockquote><blockquote><p><strong>缺点:</strong><br>没有彻底分离</p></blockquote><p><strong>综合案例</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="comment">/*选择器&#123;属性:值；&#125;*/</span></span></span><br><span class="line">  p &#123;</span><br><span class="line"><span class="css">      <span class="selector-tag">color</span>:<span class="selector-id">#06C</span>; </span></span><br><span class="line"><span class="css">      <span class="selector-tag">font-size</span><span class="selector-pseudo">:14px</span>;  </span></span><br><span class="line"><span class="css">    &#125;  <span class="comment">/*文字的颜色是 蓝色*/</span></span></span><br><span class="line">  h4 &#123;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>:<span class="selector-id">#900</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line">  h1 &#123;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>:<span class="selector-id">#090</span>; </span></span><br><span class="line"><span class="css">    <span class="selector-tag">font-size</span><span class="selector-pseudo">:16px</span>; </span></span><br><span class="line">    &#125;</span><br><span class="line">  body &#123; </span><br><span class="line"><span class="css">    <span class="selector-tag">background</span><span class="selector-pseudo">:url(bg2.jpg)</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>外部样式表<br>称链入式是将所有的样式放在一个或多个以<code>.CSS</code>为扩展名的外部样式表文件中，通过<code>link</code>标签将外部样式表文件链接到<code>HTML</code>文档中</p><p><strong>基本语法格式</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"css文件路径"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>注意:</strong></p><ul><li>link 是个单标签</li><li>link标签需要放在head头部标签中，并且指定link标签的三个属性</li></ul></blockquote><table><thead><tr><th>属性</th><th align="left">作用</th></tr></thead><tbody><tr><td><code>rel</code></td><td align="left">定义当前文档与被链接文档之间的关系，在这里需要指定为<code>“stylesheet”</code>，表示被链接的文档是一个样式表文件。</td></tr><tr><td><code>type</code></td><td align="left">定义所链接文档的类型，在这里需要指定为<code>“text/CSS”</code>，表示链接的外部文件为<code>CSS</code>样式表。我们都可以省略</td></tr><tr><td><code>href</code></td><td align="left">定义所链接外部样式表文件的<code>URL</code>，可以是相对路径，也可以是绝对路径。</td></tr></tbody></table></li></ol><h2 id="三种样式表总结"><a href="#三种样式表总结" class="headerlink" title="三种样式表总结"></a>三种样式表总结</h2><table><thead><tr><th>样式表</th><th>优点</th><th>缺点</th><th>使用情况</th><th>控制范围</th></tr></thead><tbody><tr><td>行内样式表</td><td>书写方便，权重高</td><td>没有实现样式和结构相分离</td><td>较少</td><td>控制一个标签（少）</td></tr><tr><td>内部样式表</td><td>部分结构和样式相分离</td><td>没有彻底分离</td><td>较多</td><td>控制一个页面（中）</td></tr><tr><td>外部样式表</td><td>完全实现结构和样式相分离</td><td>需要引入</td><td>最多，强烈推荐</td><td>控制整个站点（多）</td></tr></tbody></table><h1 id="CSS基础选择器"><a href="#CSS基础选择器" class="headerlink" title="CSS基础选择器"></a>CSS基础选择器</h1><h2 id="标签选择器"><a href="#标签选择器" class="headerlink" title="标签选择器"></a>标签选择器</h2><p> 标签选择器（元素选择器）是指用<code>HTML</code>标签名称作为选择器，按标签名称分类，为页面中某一类标签指定统一的CSS样式。<br> <strong>语法：</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p &#123;</span><br><span class="line">  font-size: 12px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br> <strong>作用：</strong><br> 标签选择器 可以把某一类标签全部选择出来  比如所有的<code>div</code>标签 和 所有的<code>span</code>标签</p><h2 id="类选择器"><a href="#类选择器" class="headerlink" title="类选择器"></a>类选择器</h2><p> 类选择器使用<code>“.”</code>（英文点号）进行标识，后面紧跟类名.</p><ol><li>语法：<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-class">.blue</span> &#123;</span></span><br><span class="line">      color: blue;</span><br><span class="line">        font-size: 100px;</span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="selector-class">.red</span> &#123;</span></span><br><span class="line">      color: red;</span><br><span class="line">        font-size: 100px;</span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="selector-class">.orange</span> &#123;</span></span><br><span class="line">    color: orange;</span><br><span class="line">        font-size: 100px;</span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="selector-class">.green</span> &#123;</span></span><br><span class="line">        color: green;</span><br><span class="line">              font-size: 100px;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"blue"</span>&gt;</span>G<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"red"</span>&gt;</span>o<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"orange"</span>&gt;</span>o<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"blue"</span>&gt;</span>g<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"green"</span>&gt;</span>l<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"red"</span>&gt;</span>e<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="类选择器特殊用法-多类名"><a href="#类选择器特殊用法-多类名" class="headerlink" title="类选择器特殊用法- 多类名"></a>类选择器特殊用法- 多类名</h2><p> 我们可以给标签指定多个类名，从而达到更多的选择目的。</p><blockquote><p><strong>注意：</strong></p><ul><li>各个类名中间用空格隔开。</li><li>多类名选择器在后期布局比较复杂的情况下，还是较多使用的。</li></ul></blockquote> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pink fontWeight font20"</span>&gt;</span>亚瑟<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"font20"</span>&gt;</span>刘备<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"font14 pink"</span>&gt;</span>安其拉<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"font14"</span>&gt;</span>貂蝉<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="id选择器"><a href="#id选择器" class="headerlink" title="id选择器"></a>id选择器</h2><p> <code>id</code>选择器使用<code>#</code>进行标识，后面紧跟<code>id</code>名<br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#p1&#123;</span><br><span class="line">  font-size: 12px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p><blockquote><p><strong>注意:</strong><br>元素的<code>id</code>值是唯一的，只能对应于文档中某一个具体的元素。</p></blockquote><h2 id="通配符选择器"><a href="#通配符选择器" class="headerlink" title="通配符选择器"></a>通配符选择器</h2><p> 通配符选择器用<code>*</code>号表示，<code>*</code>就是选择所有的标签他是所有选择器中作用范围最广的，能匹配页面中所有的元素。<br> <strong>基本语法</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  margin: 0;                    /* 定义外边距*/</span><br><span class="line">  padding: 0;                   /* 定义内边距*/</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p><strong>注意:</strong><br>会匹配页面所有的元素，降低页面响应速度，不建议随便使用</p></blockquote><h2 id="基础选择器总结"><a href="#基础选择器总结" class="headerlink" title="基础选择器总结"></a>基础选择器总结</h2><table><thead><tr><th>选择器</th><th>作用</th><th>缺点</th><th>使用情况</th><th>用法</th></tr></thead><tbody><tr><td>标签选择器</td><td>可以选出所有相同的标签，比如p</td><td>不能差异化选择</td><td>较多</td><td>p { color：red;}</td></tr><tr><td>类选择器</td><td>可以选出1个或者多个标签</td><td>可以根据需求选择</td><td>非常多</td><td>.nav { color: red; }</td></tr><tr><td>id选择器</td><td>一次只能选择器1个标签</td><td>只能使用一次</td><td>不推荐使用</td><td>#nav {color: red;}</td></tr><tr><td>通配符选择器</td><td>选择所有的标签</td><td>选择的太多，有部分不需要</td><td>不推荐使用</td><td>* {color: red;}</td></tr></tbody></table><h1 id="CSS复合选择器"><a href="#CSS复合选择器" class="headerlink" title="CSS复合选择器"></a>CSS复合选择器</h1><h2 id="后代选择器"><a href="#后代选择器" class="headerlink" title="后代选择器"></a>后代选择器</h2><p> 用来选择元素或元素的子孙后代,其写法就是把外层标签写在前面，内层标签写在后面，中间用空格分隔，先写父亲爷爷，在写儿子孙子,当标签发生嵌套时，内层标签就成为外层标签的后代,子孙后代都可以这么选择。 或者说，它能选择任何包含在内 的标签。</p><p> <strong>语法：</strong><br> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.class</span> <span class="selector-tag">h3</span>&#123;<span class="attribute">color</span>:red;<span class="attribute">font-size</span>:<span class="number">16px</span>;&#125;</span><br></pre></td></tr></table></figure></p><h2 id="子元素选择器"><a href="#子元素选择器" class="headerlink" title="子元素选择器"></a>子元素选择器</h2><p> 子元素选择器只能选择作为某元素子元素(亲儿子)的元素,其写法就是把父级标签写在前面，子级标签写在后面，中间跟一个 <code>&gt;</code> 进行连接</p><p> <strong>语法：</strong><br> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.class</span>&gt;<span class="selector-tag">h3</span>&#123;<span class="attribute">color</span>:red;<span class="attribute">font-size</span>:<span class="number">14px</span>;&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>这里的子 指的是 亲儿子  不包含孙子 重孙子之类。</p></blockquote><h2 id="交集选择器"><a href="#交集选择器" class="headerlink" title="交集选择器"></a>交集选择器</h2><p> 交集选择器由两个选择器构成，找到的标签必须满足：既有标签一的特点，也有标签二的特点,其中第一个为标签选择器，第二个为class选择器，两个选择器之间不能有空格，如<code>h3.special</code>。<br> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-class">.one</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="并集选择器（重点）"><a href="#并集选择器（重点）" class="headerlink" title="并集选择器（重点）"></a>并集选择器（重点）</h2><p> 如果某些选择器定义的相同样式，就可以利用并集选择器，可以让代码更简洁,并集选择器通常用于集体声明  ，逗号隔开的，所有选择器都会执行后面样式，逗号可以理解为 和的意思。</p><h2 id="链接伪类选择器（重点）"><a href="#链接伪类选择器（重点）" class="headerlink" title="链接伪类选择器（重点）"></a>链接伪类选择器（重点）</h2><p> 用于向某些选择器添加特殊的效果。比如给链接添加特殊效果， 比如可以选择 第1个，第n个元素,因为伪类选择器很多，比如链接伪类，结构伪类等等。我们这里先给大家讲解链接伪类选择器。</p><ul><li><p>a:link      /* 未访问的链接 */</p></li><li><p>a:visited   /* 已访问的链接 */</p></li><li><p>a:hover     /* 鼠标移动到链接上 */</p></li><li><p>a:active    /* 选定的链接 */</p><blockquote><p><strong>注意:</strong><br>写的时候，他们的顺序尽量不要颠倒  按照  <code>lvha</code> 的顺序。否则可能引起错误。 </p></blockquote></li></ul><h2 id="复合选择器总结"><a href="#复合选择器总结" class="headerlink" title="复合选择器总结"></a>复合选择器总结</h2><table><thead><tr><th>选择器</th><th>作用</th><th>特征</th><th>使用情况</th><th>隔开符号及用法</th></tr></thead><tbody><tr><td>后代选择器</td><td>用来选择元素后代</td><td>是选择所有的子孙后代</td><td>较多</td><td>符号是<strong>空格</strong> .nav a</td></tr><tr><td>子代选择器</td><td>选择 最近一级元素</td><td>只选亲儿子</td><td>较少</td><td>符号是<strong>&gt;</strong>   .nav&gt;p</td></tr><tr><td>交集选择器</td><td>选择两个标签交集的部分</td><td>既是 又是</td><td>较少</td><td><strong>没有符号</strong>  p.one</td></tr><tr><td>并集选择器</td><td>选择某些相同样式的选择器</td><td>可以用于集体声明</td><td>较多</td><td>符号是<strong>逗号</strong> .nav, .header</td></tr><tr><td>链接伪类选择器</td><td>给链接更改状态</td><td></td><td>较多</td><td>重点记住 a{} 和 a:hover  实际开发的写法</td></tr></tbody></table><h1 id="CSS字体样式"><a href="#CSS字体样式" class="headerlink" title="CSS字体样式"></a>CSS字体样式</h1><h2 id="font字体"><a href="#font字体" class="headerlink" title="font字体"></a>font字体</h2><h3 id="font-size-大小"><a href="#font-size-大小" class="headerlink" title="font-size:大小"></a>font-size:大小</h3><p> <code>font-size</code>属性用于设置字号<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p &#123;  </span><br><span class="line">    font-size:20px; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p><strong>注意：</strong></p><ul><li>我们文字大小以后，基本就用<code>px</code>了，其他单位很少使用</li><li>谷歌浏览器默认的文字大小为<code>16px</code></li><li>但是不同浏览器可能默认显示的字号大小不一致，我们尽量给一个明确值大小，不要默认大小。一般给<code>body</code>指定整个页面文字的大小</li></ul></blockquote><h3 id="font-family-字体"><a href="#font-family-字体" class="headerlink" title="font-family:字体"></a>font-family:字体</h3><p> <code>font-family</code>属性用于设置哪一种字体。</p><ul><li>网页中常用的字体有宋体、微软雅黑、黑体等，例如将网页中所有段落文本的字体设置为微软雅黑</li><li>可以同时指定多个字体，中间以逗号隔开，表示如果浏览器不支持第一个字体，则会尝试下一个，直到找到合适的字体，如果都没有，则以我们电脑默认的字体为准。<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>&#123;<span class="attribute">font-family</span>: Arial,<span class="string">"Microsoft Yahei"</span>, <span class="string">"微软雅黑"</span>;&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="CSS-Unicode字体"><a href="#CSS-Unicode字体" class="headerlink" title="CSS Unicode字体"></a>CSS Unicode字体</h4><p> <strong>为什么使用 <code>Unicode</code>字体 ?</strong></p><ul><li><p>在 <code>CSS</code> 中设置字体名称，直接写中文是可以的。但是在文件编码（<code>GB2312</code>、<code>UTF-8</code> 等）不匹配时会产生乱码的错误。</p></li><li><p><code>xp</code> 系统不支持 类似微软雅黑的中文。<br><strong>解决：</strong></p></li><li><p>方案一： 你可以使用英文来替代。 比如font-family:”Microsoft Yahei”。</p></li><li><p>方案二： 在 CSS 直接使用 Unicode 编码来写字体名称可以避免这些错误。使用 Unicode 写中文字体名称，浏览器是可以正确的解析的。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">font-family: "\5FAE\8F6F\96C5\9ED1";   表示设置字体为“微软雅黑”。</span><br></pre></td></tr></table></figure><table><thead><tr><th>字体名称</th><th>英文名称</th><th>Unicode 编码</th></tr></thead><tbody><tr><td>宋体</td><td>SimSun</td><td>\5B8B\4F53</td></tr><tr><td>新宋体</td><td>NSimSun</td><td>\65B0\5B8B\4F53</td></tr><tr><td>黑体</td><td>SimHei</td><td>\9ED1\4F53</td></tr><tr><td>微软雅黑</td><td>Microsoft YaHei</td><td>\5FAE\8F6F\96C5\9ED1</td></tr><tr><td>楷体_GB2312</td><td>KaiTi_GB2312</td><td>\6977\4F53_GB2312</td></tr><tr><td>隶书</td><td>LiSu</td><td>\96B6\4E66</td></tr><tr><td>幼园</td><td>YouYuan</td><td>\5E7C\5706</td></tr><tr><td>华文细黑</td><td>STXihei</td><td>\534E\6587\7EC6\9ED1</td></tr><tr><td>细明体</td><td>MingLiU</td><td>\7EC6\660E\4F53</td></tr><tr><td>新细明体</td><td>PMingLiU</td><td>\65B0\7EC6\660E\4F53</td></tr></tbody></table></li></ul><h3 id="font-weight-字体粗细"><a href="#font-weight-字体粗细" class="headerlink" title="font-weight:字体粗细"></a>font-weight:字体粗细</h3><ol><li><p>在<code>html</code>中如何将字体加粗我们可以用标签来实现<br>使用<code>b</code>和 <code>strong</code> 标签是文本加粗。</p></li><li><p>可以使用 <code>CSS</code> 来实现，但是 <code>CSS</code> 是没有语义的。</p><table><thead><tr><th>属性值</th><th align="left">描述</th></tr></thead><tbody><tr><td>normal</td><td align="left">默认值（不加粗的）</td></tr><tr><td>bold</td><td align="left">定义粗体（加粗的）</td></tr><tr><td>100~900</td><td align="left">400 等同于 normal，而 700 等同于 bold  我们重点记住这句话</td></tr></tbody></table><blockquote><p><strong>注意：</strong><br>记住数字不要跟单位</p></blockquote></li></ol><h3 id="font-style-字体风格"><a href="#font-style-字体风格" class="headerlink" title="font-style:字体风格"></a>font-style:字体风格</h3><ol><li><p>在<code>html</code>中如何将字体倾斜我们可以用标签来实现<br>字体倾斜除了用 <code>i</code>  和 <code>em</code> 标签</p></li><li><p>可以使用 <code>CSS</code> 来实现，但是 <code>CSS</code>是没有语义的<br><code>font-style</code>属性用于定义字体风格，如设置斜体、倾斜或正常字体，其可用属性值如下：</p><table><thead><tr><th>属性</th><th align="left">作用</th></tr></thead><tbody><tr><td>normal</td><td align="left">默认值，浏览器会显示标准的字体样式  font-style: normal;</td></tr><tr><td>italic</td><td align="left">浏览器会显示斜体的字体样式。</td></tr></tbody></table><blockquote><p><strong>注意：</strong><br>平时我们很少给文字加斜体，反而喜欢给斜体标签（em，i）改为普通模式。</p></blockquote></li></ol><h3 id="font-综合设置字体样式-重点"><a href="#font-综合设置字体样式-重点" class="headerlink" title="font:综合设置字体样式 (重点)"></a>font:综合设置字体样式 (重点)</h3><p> <code>font</code>属性用于对字体样式进行综合设置<br>  <strong>基本语法格式如下：</strong><br>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">选择器 &#123; <span class="attribute">font</span>: font-style  font-weight  font-size/line-height  font-family;&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p><strong>注意：</strong><br>1.使用<code>font</code>属性时，必须按上面语法格式中的顺序书写，<code>不能更换顺序</code>，各个属性以空格隔开。<br>2.其中不需要设置的属性可以省略（取默认值），但必须保留<code>font-size</code>和<code>font-family</code>属性，否则<code>font</code>属性将不起作用。</p></blockquote><h3 id="font总结"><a href="#font总结" class="headerlink" title="font总结"></a>font总结</h3><table><thead><tr><th align="left">属性</th><th align="left">表示</th><th align="left">注意点</th></tr></thead><tbody><tr><td align="left">font-size</td><td align="left">字号</td><td align="left">我们通常用的单位是px 像素，一定要跟上单位</td></tr><tr><td align="left">font-family</td><td align="left">字体</td><td align="left">实际工作中按照团队约定来写字体</td></tr><tr><td align="left">font-weight</td><td align="left">字体粗细</td><td align="left">记住加粗是 700 或者 bold  不加粗 是 normal 或者  400  记住数字不要跟单位</td></tr><tr><td align="left">font-style</td><td align="left">字体样式</td><td align="left">记住倾斜是 italic     不倾斜 是 normal  工作中我们最常用 normal</td></tr><tr><td align="left">font</td><td align="left">字体连写</td><td align="left">1. 字体连写是有顺序的  不能随意换位置 2. 其中字号 和 字体 必须同时出现</td></tr></tbody></table><h2 id="CSS外观属性"><a href="#CSS外观属性" class="headerlink" title="CSS外观属性"></a>CSS外观属性</h2><h3 id="color-文本颜色"><a href="#color-文本颜色" class="headerlink" title="color:文本颜色"></a>color:文本颜色</h3><p> <code>color</code>属性用于定义文本的颜色</p><p> <strong>其取值方式有如下3种：</strong></p><table><thead><tr><th align="left">表示表示</th><th align="left">属性值</th></tr></thead><tbody><tr><td align="left">预定义的颜色值</td><td align="left">red，green，blue，还有我们的御用色 pink</td></tr><tr><td align="left">十六进制</td><td align="left">#FF0000，#FF6600，#29D794</td></tr><tr><td align="left">RGB代码</td><td align="left">rgb(255,0,0)或rgb(100%,0%,0%)</td></tr></tbody></table><blockquote><p><strong>注意:</strong><br>我们实际工作中， 用 16进制的写法是最多的，而且我们更喜欢简写方式比如 <code>#f00</code> 代表红色</p></blockquote><h3 id="text-align-文本水平对齐方式"><a href="#text-align-文本水平对齐方式" class="headerlink" title="text-align:文本水平对齐方式"></a>text-align:文本水平对齐方式</h3><p> <code>text-align</code>属性用于设置文本内容的水平对齐，相当于<code>html</code>中的<code>align</code>对齐属性</p><table><thead><tr><th>属性</th><th align="center">解释</th></tr></thead><tbody><tr><td>left</td><td align="center">左对齐（默认值）</td></tr><tr><td>right</td><td align="center">右对齐</td></tr><tr><td>center</td><td align="center">居中对齐</td></tr></tbody></table><blockquote><p><strong>注意：</strong><br>是让盒子里面的内容水平居中， 而不是让盒子居中对齐</p></blockquote><h3 id="line-height-行间距"><a href="#line-height-行间距" class="headerlink" title="line-height:行间距"></a><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/line-height" target="_blank" rel="noopener">line-height:行间距</a></h3><p> 1.<code>line-height</code>属性用于设置行间距，就是行与行之间的距离，即字符的垂直间距，一般称为行高。<br> 2.<code>line-height</code>常用的属性值单位有三种，分别为像素<code>px</code>，相对值<code>em</code>和<code>百分比%</code>，实际工作中使用最多的是像素<code>px</code></p><p> <strong>&lt;百分比&gt;</strong><br> 与元素自身的字体大小有关。计算值是给定的百分比值乘以元素计算出的字体大小。百分比值可能会带来不确定的结果</p><blockquote><p><strong>技巧：</strong><br>一般情况下，行距比字号大<code>7,8</code>像素左右就可以了。<br><code>line-height: 24px;</code></p></blockquote><h3 id="text-indent-首行缩进"><a href="#text-indent-首行缩进" class="headerlink" title="text-indent:首行缩进"></a><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/text-indent" target="_blank" rel="noopener">text-indent:首行缩进</a></h3><p> <code>text-indent</code>属性用于设置首行文本的缩进,其属性值可为不同单位的数值、<code>em</code>字符宽度的倍数、或相对于浏览器窗口宽度的<code>百分比%</code>，允许使用负值,建议使用<code>em</code>作为设置单位。</p><p> <code>em</code>是一个相对单位，就是当前元素<code>（font-size)</code>1个文字的大小，如果当前元素没有设置大小，则会按照父元素的1个文字大小</p><h3 id="text-decoration-文本的装饰"><a href="#text-decoration-文本的装饰" class="headerlink" title="text-decoration 文本的装饰"></a>text-decoration 文本的装饰</h3><p> <code>text-decoration</code> 通常我们用于给链接修改装饰效果</p><table><thead><tr><th>值</th><th>描述</th></tr></thead><tbody><tr><td>none</td><td>默认。定义标准的文本。 取消下划线（最常用）</td></tr><tr><td>underline</td><td>定义文本下的一条线。下划线 也是我们链接自带的（常用）</td></tr><tr><td>overline</td><td>定义文本上的一条线。（不用）</td></tr><tr><td>line-through</td><td>定义穿过文本下的一条线。（不常用）</td></tr></tbody></table><h3 id="CSS外观属性总结"><a href="#CSS外观属性总结" class="headerlink" title="CSS外观属性总结"></a>CSS外观属性总结</h3><table><thead><tr><th align="left">属性</th><th align="left">表示</th><th align="left">注意点</th></tr></thead><tbody><tr><td align="left">color</td><td align="left">颜色</td><td align="left">我们通常用  十六进制   比如 而且是简写形式 #fff</td></tr><tr><td align="left">line-height</td><td align="left">行高</td><td align="left">控制行与行之间的距离</td></tr><tr><td align="left">text-align</td><td align="left">水平对齐</td><td align="left">可以设定文字水平的对齐方式</td></tr><tr><td align="left">text-indent</td><td align="left">首行缩进</td><td align="left">通常我们用于段落首行缩进2个字的距离   text-indent: 2em;</td></tr><tr><td align="left">text-decoration</td><td align="left">文本修饰</td><td align="left">记住 添加 下划线  underline  取消下划线  none</td></tr></tbody></table><h1 id="标签显示模式（display）重点"><a href="#标签显示模式（display）重点" class="headerlink" title="标签显示模式（display）重点"></a>标签显示模式（display）重点</h1><h2 id="块级元素-block-level"><a href="#块级元素-block-level" class="headerlink" title="块级元素(block-level)"></a>块级元素(block-level)</h2><p> 常见的块元素有<code>&lt;h1&gt;~&lt;h6&gt;、&lt;p&gt;、&lt;div&gt;、&lt;ul&gt;、&lt;ol&gt;、&lt;li&gt;</code>等，其中<code>&lt;div&gt;</code>标签是最典型的块元素。<br>  <strong>块级元素的特点</strong></p><ul><li><p>比较霸道，自己独占一行</p></li><li><p>高度，宽度、外边距以及内边距都可以控制。</p></li><li><p>宽度默认是容器（父级宽度）的100%</p></li><li><p>是一个容器及盒子，里面可以放行内或者块级元素。</p><blockquote><p><strong>注意：</strong><br>只有 文字才能组成段落  因此 <code>p</code>里面不能放块级元素，特别是 <code>p</code> 不能放<code>div</code><br>同理还有这些标签<code>h1,h2,h3,h4,h5,h6,dt</code>，他们都是文字类块级标签，里面不能放其他块级元素。</p></blockquote></li></ul><h2 id="行内元素-inline-level"><a href="#行内元素-inline-level" class="headerlink" title="行内元素(inline-level)"></a>行内元素(inline-level)</h2><p> 常见的行内元素有<code>&lt;a&gt;、&lt;strong&gt;、&lt;b&gt;、&lt;em&gt;、&lt;i&gt;、&lt;del&gt;、&lt;s&gt;、&lt;ins&gt;、&lt;u&gt;、&lt;span&gt;</code>等，其中<code>&lt;span&gt;</code>标签最典型的行内元素。有的地方也成内联元素</p><p> <strong>行内元素的特点：</strong></p><ul><li><p>相邻行内元素在一行上，一行可以显示多个。</p></li><li><p>高、宽直接设置是无效的</p></li><li><p>默认宽度就是它本身内容的宽度。</p></li><li><p>行内元素只能容纳文本或则其他行内元素。</p><blockquote><p><strong>注意：</strong><br>1.链接里面不能再放链接。<br>2.特殊情况<code>a</code>里面可以放块级元素，但是给<code>a</code>转换一下块级模式最安全。</p></blockquote></li></ul><h2 id="行内块元素（inline-block）"><a href="#行内块元素（inline-block）" class="headerlink" title="行内块元素（inline-block）"></a>行内块元素（inline-block）</h2><p> 在行内元素中有几个特殊的标签——<code>&lt;img /&gt;、&lt;input /&gt;、&lt;td&gt;</code>，可以对它们设置宽高和对齐属性，有些资料可能会称它们为<code>行内块元素</code>。</p><p> <strong>行内块元素的特点：</strong></p><ul><li>和相邻行内元素（行内块）在一行上,但是之间会有空白缝隙。一行可以显示多个</li><li>默认宽度就是它本身内容的宽度。</li><li>高度，行高、外边距以及内边距都可以控制。</li></ul><h2 id="三种模式总结区别"><a href="#三种模式总结区别" class="headerlink" title="三种模式总结区别"></a>三种模式总结区别</h2><table><thead><tr><th>元素模式</th><th>元素排列</th><th>设置样式</th><th>默认宽度</th><th>包含</th></tr></thead><tbody><tr><td>块级元素</td><td>一行只能放一个块级元素</td><td>可以设置宽度高度</td><td>容器的100%</td><td>容器级可以包含任何标签</td></tr><tr><td>行内元素</td><td>一行可以放多个行内元素</td><td>不可以直接设置宽度高度</td><td>它本身内容的宽度</td><td>容纳文本或则其他行内元素</td></tr><tr><td>行内块元素</td><td>一行放多个行内块元素</td><td>可以设置宽度和高度</td><td>它本身内容的宽度</td><td></td></tr></tbody></table><h2 id="标签显示模式转换-display"><a href="#标签显示模式转换-display" class="headerlink" title="标签显示模式转换 display"></a>标签显示模式转换 display</h2><ul><li>转行内：display:inline;</li><li>转块：display:block;</li><li>转换为行内块： display: inline-block;</li></ul><p>此阶段，我们只需关心这三个，其他的是我们后面的工作。</p><h1 id="CSS-背景-background"><a href="#CSS-背景-background" class="headerlink" title="CSS 背景(background)"></a>CSS 背景(background)</h1><h2 id="背景颜色-color"><a href="#背景颜色-color" class="headerlink" title="背景颜色(color)"></a>背景颜色(color)</h2><p> <strong>语法:</strong><br> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background-color</span>:颜色值;   默认的值是 <span class="selector-tag">transparent</span>  透明的</span><br></pre></td></tr></table></figure></p><h2 id="背景图片-image"><a href="#背景图片-image" class="headerlink" title="背景图片(image)"></a>背景图片(image)</h2><p> <strong>语法:</strong><br> <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">background-image : none | url (url)</span><br></pre></td></tr></table></figure></p><table><thead><tr><th>参数</th><th align="center">作用</th></tr></thead><tbody><tr><td>none</td><td align="center">无背景图（默认的）</td></tr><tr><td>url</td><td align="center">使用绝对或相对地址指定背景图像</td></tr></tbody></table> <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">background-image : url(images/demo.png);</span><br></pre></td></tr></table></figure><h2 id="背景平铺（repeat）"><a href="#背景平铺（repeat）" class="headerlink" title="背景平铺（repeat）"></a>背景平铺（repeat）</h2><p> <strong>语法:</strong><br> <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">background-repeat : repeat | no-repeat | repeat-x | repeat-y</span><br></pre></td></tr></table></figure></p><table><thead><tr><th>参数</th><th align="center">作用</th></tr></thead><tbody><tr><td>repeat</td><td align="center">背景图像在纵向和横向上平铺（默认的）</td></tr><tr><td>no-repeat</td><td align="center">背景图像不平铺</td></tr><tr><td>repeat-x</td><td align="center">背景图像在横向上平铺</td></tr><tr><td>repeat-y</td><td align="center">背景图像在纵向平铺</td></tr></tbody></table><h2 id="背景位置-position-重点"><a href="#背景位置-position-重点" class="headerlink" title="背景位置(position) 重点"></a>背景位置(position) 重点</h2><p> <strong>语法:</strong><br> <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">background-position : length || length</span><br><span class="line"></span><br><span class="line">background-position : position || position</span><br></pre></td></tr></table></figure></p><table><thead><tr><th>参数</th><th align="center">值</th></tr></thead><tbody><tr><td>length</td><td align="center">百分数 | 由浮点数字和单位标识符组成的长度值</td></tr><tr><td>position</td><td align="center">top | center | bottom | left | center | right   方位名词</td></tr></tbody></table><p> <strong>百分比值</strong>的偏移指定图片的相对位置和容器的相对位置重合。值0%代表图片的左边界（或上边界）和容器的左边界（上边界）重合。值100%代表图片的右边界（或下边界）和容器的右边界（或下边界）重合。值50%则代表图片的中点和容器的中点重合。</p><blockquote><p><strong>注意：</strong><br>1.必须先指定background-image属性<br>2.position 后面是x坐标和y坐标。 可以使用方位名词或者 精确单位。<br>3.如果指定两个值，两个值都是方位名字，则两个值前后顺序无关，比如left  top和top  left效果一致<br>4.如果只指定了一个方位名词，另一个值默认居中对齐。<br>5.如果position 后面是精确坐标， 那么第一个，肯定是 x  第二的一定是y<br>6.如果只指定一个数值,那该数值一定是x坐标，另一个默认垂直居中<br>7.如果指定的两个值是 精确单位和方位名字混合使用，则第一个值是x坐标，第二个值是y坐标</p></blockquote><p> <strong>实际工作用的最多的，就是背景图片居中对齐了。</strong></p><h2 id="背景附着"><a href="#背景附着" class="headerlink" title="背景附着"></a>背景附着</h2><p> <strong>语法:</strong><br> <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">background-attachment : scroll | fixed</span><br></pre></td></tr></table></figure></p><table><thead><tr><th>参数</th><th align="center">作用</th></tr></thead><tbody><tr><td>scroll</td><td align="center">背景图像是随对象内容滚动</td></tr><tr><td>fixed</td><td align="center">背景图像固定</td></tr></tbody></table><h2 id="背景透明-CSS3"><a href="#背景透明-CSS3" class="headerlink" title="背景透明(CSS3)"></a>背景透明(CSS3)</h2><p> <strong>语法:</strong><br> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.3</span>);</span><br></pre></td></tr></table></figure></p><ul><li>最后一个参数是alpha 透明度  取值范围 0~1之间</li><li>我们习惯把0.3 的 0 省略掉  这样写  background: rgba(0, 0, 0, .3);</li><li>注意：  背景半透明是指盒子背景半透明， 盒子里面的内容不受影响</li><li>因为是CSS3 ，所以 低于 ie9 的版本是不支持的。</li></ul><h2 id="背景总结"><a href="#背景总结" class="headerlink" title="背景总结"></a>背景总结</h2><table><thead><tr><th>属性</th><th align="left">作用</th><th align="left">值</th></tr></thead><tbody><tr><td>background-color</td><td align="left">背景颜色</td><td align="left">预定义的颜色值/十六进制/RGB代码</td></tr><tr><td>background-image</td><td align="left">背景图片</td><td align="left">url(图片路径)</td></tr><tr><td>background-repeat</td><td align="left">是否平铺</td><td align="left">repeat/no-repeat/repeat-x/repeat-y</td></tr><tr><td>background-position</td><td align="left">背景位置</td><td align="left">length/position    分别是x  和 y坐标， 切记 如果有 精确数值单位，则必须按照先X 后Y 的写法</td></tr><tr><td>background-attachment</td><td align="left">背景固定还是滚动</td><td align="left">scroll/fixed</td></tr><tr><td>背景简写</td><td align="left">更简单</td><td align="left">背景颜色 背景图片地址 背景平铺 背景滚动 背景位置;  他们没有顺序</td></tr><tr><td>背景透明</td><td align="left">让盒子半透明</td><td align="left">background: rgba(0,0,0,0.3);   后面必须是 4个值</td></tr></tbody></table><h1 id="CSS-三大特性"><a href="#CSS-三大特性" class="headerlink" title="CSS 三大特性"></a>CSS 三大特性</h1><h2 id="CSS层叠性"><a href="#CSS层叠性" class="headerlink" title="CSS层叠性"></a>CSS层叠性</h2><p> 所谓层叠性是指多种CSS样式的叠加,是浏览器处理冲突的一个能力,如果一个属性通过两个相同选择器设置到同一个元素上，那么这个时候一个属性就会将另一个属性层叠掉,样式冲突，遵循的原则是就近原则,那个样式离着结构近，就执行那个样式, 样式不冲突，不会层叠</p><h2 id="CSS继承性"><a href="#CSS继承性" class="headerlink" title="CSS继承性"></a>CSS继承性</h2><p> 子标签会继承父标签的某些样式，如文本颜色和字号,想要设置一个可继承的属性，只需将它应用于父元素即可。</p><blockquote><p><strong>注意：</strong><br>1.恰当地使用继承可以简化代码，降低CSS样式的复杂性。比如有很多子级孩子都需要某个样式，可以给父级指定一个，这些孩子继承过来就好了。<br>2.子元素可以继承父元素的样式（text-，font-，line-这些元素开头的可以继承，以及color属性）</p></blockquote><h2 id="CSS优先级（重点）"><a href="#CSS优先级（重点）" class="headerlink" title="CSS优先级（重点）"></a>CSS优先级（重点）</h2><p> 定义CSS样式时，经常出现两个或更多规则应用在同一元素上，此时，选择器相同，则执行层叠性,选择器不同，就会出现优先级的问题。</p><ol><li><p>权重计算公式<br>关于<code>CSS</code>权重，我们需要一套计算公式来去计算，这个就是 <code>CSS Specificity（特殊性）</code></p><table><thead><tr><th>标签选择器</th><th>计算权重公式</th></tr></thead><tbody><tr><td>继承或者 *</td><td>0,0,0,0</td></tr><tr><td>每个元素（标签选择器）</td><td>0,0,0,1</td></tr><tr><td>每个类，伪类</td><td>0,0,1,0</td></tr><tr><td>每个ID</td><td>0,1,0,0</td></tr><tr><td>每个行内样式 style=””</td><td>1,0,0,0</td></tr><tr><td>每个!important  重要的</td><td>∞ 无穷大</td></tr></tbody></table></li><li><p>权重叠加<br>我们经常用交集选择器，后代选择器等，是有多个基础选择器组合而成，那么此时，就会出现权重叠加。</p><p><strong>就是一个简单的加法计算</strong></p><ul><li>div ul  li   ——&gt;      0,0,0,3</li><li>.nav ul li   ——&gt;      0,0,1,2</li><li>a:hover      —–—&gt;      0,0,1,1</li><li>.nav a       ——&gt;      0,0,1,1</li></ul></li><li><p>继承的权重是0</p></li></ol><h1 id="CSS注释"><a href="#CSS注释" class="headerlink" title="CSS注释"></a>CSS注释</h1><p> <strong>CSS注释规则：</strong><br> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*  需要注释的内容  */</span></span><br></pre></td></tr></table></figure></p><h1 id="盒子模型（CSS重点）"><a href="#盒子模型（CSS重点）" class="headerlink" title="盒子模型（CSS重点）"></a>盒子模型（CSS重点）</h1><h2 id="盒子模型（Box-Model）"><a href="#盒子模型（Box-Model）" class="headerlink" title="盒子模型（Box Model）"></a>盒子模型（Box Model）</h2><ul><li>盒子模型有元素的内容、边框（border）、内边距（padding）、和外边距（margin）组成。</li><li>盒子里面的文字和图片等元素是 内容区域</li><li>盒子的厚度 我们成为 盒子的边框 </li><li>盒子内容与边框的距离是内边距（类似单元格的 cellpadding)</li><li>盒子与盒子之间的距离是外边距（类似单元格的 cellspacing）</li></ul><h2 id="盒子边框（border）"><a href="#盒子边框（border）" class="headerlink" title="盒子边框（border）"></a>盒子边框（border）</h2><p> <strong>语法：</strong><br> <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">border : border-width || border-style || border-color</span><br></pre></td></tr></table></figure></p><table><thead><tr><th>属性</th><th align="center">作用</th></tr></thead><tbody><tr><td>border-width</td><td align="center">定义边框粗细，单位是px</td></tr><tr><td>border-style</td><td align="center">边框的样式</td></tr><tr><td>border-color</td><td align="center">边框颜色</td></tr></tbody></table><p>  <strong>边框的样式：</strong></p><ul><li>none：没有边框即忽略所有边框的宽度（默认值）</li><li>solid：边框为单实线(最为常用的)</li><li>dashed：边框为虚线  </li><li>dotted：边框为点线</li></ul><h3 id="边框综合设置"><a href="#边框综合设置" class="headerlink" title="边框综合设置"></a>边框综合设置</h3> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> border : border-width || border-style || border-color</span><br><span class="line">``` </span><br><span class="line">```<span class="selector-tag">css</span></span><br><span class="line"> <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-tag">red</span>;  没有顺序</span><br></pre></td></tr></table></figure><h3 id="盒子边框写法总结表"><a href="#盒子边框写法总结表" class="headerlink" title="盒子边框写法总结表"></a>盒子边框写法总结表</h3><p> 很多情况下，我们不需要指定4个边框，我们是可以单独给4个边框分别指定的。</p><table><thead><tr><th align="left">上边框</th><th align="left">下边框</th><th align="left">左边框</th><th align="left">右边框</th></tr></thead><tbody><tr><td align="left">border-top-style:样式;</td><td align="left">border-bottom-style:样式;</td><td align="left">border-left-style:样式;</td><td align="left">border-right-style:样式;</td></tr><tr><td align="left">border-top-width:宽度;</td><td align="left">border- bottom-width:宽度;</td><td align="left">border-left-width:宽度;</td><td align="left">border-right-width:宽度;</td></tr><tr><td align="left">border-top-color:颜色;</td><td align="left">border- bottom-color:颜色;</td><td align="left">border-left-color:颜色;</td><td align="left">border-right-color:颜色;</td></tr><tr><td align="left">border-top:宽度 样式 颜色;</td><td align="left">border-bottom:宽度 样式 颜色;</td><td align="left">border-left:宽度 样式 颜色;</td><td align="left">border-right:宽度 样式 颜色;</td></tr></tbody></table><h2 id="内边距（padding）"><a href="#内边距（padding）" class="headerlink" title="内边距（padding）"></a>内边距（padding）</h2><pre><code>`padding`属性用于设置内边距。 是指 边框与内容之间的距离。</code></pre><table><thead><tr><th>属性</th><th align="left">作用</th></tr></thead><tbody><tr><td>padding-left</td><td align="left">左内边距</td></tr><tr><td>padding-right</td><td align="left">右内边距</td></tr><tr><td>padding-top</td><td align="left">上内边距</td></tr><tr><td>padding-bottom</td><td align="left">下内边距</td></tr></tbody></table><p><strong>当我们给盒子指定padding值之后， 发生了2件事情：</strong></p><ul><li>内容和边框 有了距离，添加了内边距。</li><li>盒子会变大了。</li></ul><table><thead><tr><th>值的个数</th><th>表达意思</th></tr></thead><tbody><tr><td>1个值</td><td>padding：上下左右内边距;</td></tr><tr><td>2个值</td><td>padding: 上下内边距    左右内边距 ；</td></tr><tr><td>3个值</td><td>padding：上内边距   左右内边距   下内边距；</td></tr><tr><td>4个值</td><td>padding: 上内边距 右内边距 下内边距 左内边距 ；</td></tr></tbody></table><blockquote><p><strong>注意：</strong><br>行内元素为了照顾兼容性， 尽量只设置左右内外边距， 不要设置上下内外边距。</p></blockquote><h3 id="内盒尺寸计算（元素实际大小）"><a href="#内盒尺寸计算（元素实际大小）" class="headerlink" title="内盒尺寸计算（元素实际大小）"></a>内盒尺寸计算（元素实际大小）</h3><ul><li>宽度<br>Element Height = content height + padding + border （Height为内容高度）</li><li>高度<br>Element Width = content width + padding + border （Width为内容宽度）</li><li>盒子的实际的大小 =   内容的宽度和高度 +  内边距   +  边框   </li></ul><h3 id="内边距产生的问题"><a href="#内边距产生的问题" class="headerlink" title="内边距产生的问题"></a>内边距产生的问题</h3><p> <strong>会撑大原来的盒子</strong><br> <img src="../image/h6.png" alt=""></p><p> <strong>解决：通过给设置了宽高的盒子，减去相应的内边距的值，维持盒子原有的大小</strong><br> <img src="../image/h7.png" alt=""></p><h3 id="padding不影响盒子大小情况"><a href="#padding不影响盒子大小情况" class="headerlink" title="padding不影响盒子大小情况"></a>padding不影响盒子大小情况</h3><p> 如果没有给一个盒子指定宽度， 此时，如果给这个盒子指定<code>padding</code>， 则不会撑开盒子。</p><h2 id="外边距（margin）"><a href="#外边距（margin）" class="headerlink" title="外边距（margin）"></a>外边距（margin）</h2><p> <code>margin</code>属性用于设置外边距,<code>margin</code>就是控制盒子和盒子之间的距离</p><table><thead><tr><th>属性</th><th align="left">作用</th></tr></thead><tbody><tr><td>margin-left</td><td align="left">左外边距</td></tr><tr><td>margin-right</td><td align="left">右外边距</td></tr><tr><td>margin-top</td><td align="left">上外边距</td></tr><tr><td>margin-bottom</td><td align="left">下外边距</td></tr></tbody></table><h3 id="块级盒子水平居中"><a href="#块级盒子水平居中" class="headerlink" title="块级盒子水平居中"></a>块级盒子水平居中</h3><p> <strong>让一个块级盒子实现水平居中必须：</strong></p><ul><li>盒子必须指定了宽度（width）</li><li>然后就给左右的外边距都设置为auto，<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.header</span>&#123; <span class="attribute">width</span>:<span class="number">960px</span>; <span class="attribute">margin</span>:<span class="number">0</span> auto;&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="清除元素的默认内外边距-重要"><a href="#清除元素的默认内外边距-重要" class="headerlink" title="清除元素的默认内外边距(重要)"></a>清除元素的默认内外边距(重要)</h3><p> 为了更灵活方便地控制网页中的元素，制作网页时，我们需要将元素的默认内外边距清除<br> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">padding</span>:<span class="number">0</span>;         <span class="comment">/* 清除内边距 */</span></span><br><span class="line">  <span class="attribute">margin</span>:<span class="number">0</span>;          <span class="comment">/* 清除外边距 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="外边距合并"><a href="#外边距合并" class="headerlink" title="外边距合并"></a>外边距合并</h3><p> 使用<code>margin</code>定义块元素的<code>垂直外边距</code>时，可能会出现外边距的合并。</p><ol><li>相邻块元素垂直外边距的合并<br>当上下相邻的两个块元素相遇时，如果上面的元素有下外边距<code>margin-bottom</code>，下面的元素有上外边距<code>margin-top</code>，则他们之间的垂直间距不是<code>margin-bottom</code>与<code>margin-top</code>之和，取两个值中的较大者这种现象被称为相邻块元素垂直外边距的合并（也称外边距塌陷）。<br><img src="../image/h8.png" alt=""></li></ol><ul><li>解决方案:<br>1.可以为父元素定义上边框。<br>2.可以为父元素定义上内边距<br>3.可以为父元素添加<code>overflow:hidden</code>。</li></ul><ol start="2"><li>嵌套块元素垂直外边距的合并（塌陷）<br>对于两个嵌套关系的块元素，如果父元素没有上内边距及边框，父元素的上外边距会与子元素的上外边距发生合并，合并后的外边距为两者中的较大者<br><img src="../image/h9.png" alt=""></li></ol><ul><li>解决方案:<br>1.可以为父元素定义上边框。<br>2.可以为父元素定义上内边距<br>3.可以为父元素添加<code>overflow:hidden</code>。</li></ul><h2 id="盒子模型布局稳定性"><a href="#盒子模型布局稳定性" class="headerlink" title="盒子模型布局稳定性"></a>盒子模型布局稳定性</h2><p> <strong>学习完盒子模型，内边距和外边距，什么情况下用内边距，什么情况下用外边距？</strong><br> 大部分情况下是可以混用的，就是说，你用内边距也可以，用外边距也可，你觉得哪个方便，就用哪个。</p><ol><li>我们根据稳定性来分，建议如下，按照 优先使用<code>宽度（width）</code>其次使用<code>内边距（padding）</code>再次<code>外边距（margin）</code>。 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">width &gt;  padding  &gt;   margin</span><br></pre></td></tr></table></figure></li><li><strong>原因：</strong><ul><li><code>margin</code> 会有外边距合并 还有 <code>ie6</code> 下面<code>margin</code> 加倍的<code>bug（讨厌）</code>所以最后使用。</li><li><code>padding</code>  会影响盒子大小， 需要进行加减计算（麻烦） 其次使用。</li><li><code>width</code> 没有问题（嗨皮）我们经常使用宽度剩余法 高度剩余法来做。</li></ul></li></ol><h1 id="圆角边框-CSS3"><a href="#圆角边框-CSS3" class="headerlink" title="圆角边框(CSS3)"></a>圆角边框(CSS3)</h1><p> <strong>语法：</strong><br>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">border-radius</span><span class="selector-pseudo">:length</span>;</span><br></pre></td></tr></table></figure></p><ol><li>如果你在 <code>border-radius</code> 属性中只指定一个值，那么将生成 4 个 圆角，但是，如果你要在四个角上一一指定，可以使用以下规则，其中每一个值可以为 数值或百分比的形式。 <ul><li><strong>四个值:</strong> 第一个值为左上角，第二个值为右上角，第三个值为右下角，第四个值为左下角。</li><li><strong>三个值:</strong> 第一个值为左上角, 第二个值为右上角和左下角，第三个值为右下角</li><li><strong>两个值:</strong>第一个值为左上角与右下角，第二个值为右上角与左下角</li><li><strong>一个值:</strong> 四个圆角值相同</li></ul></li></ol><h1 id="盒子阴影-CSS3"><a href="#盒子阴影-CSS3" class="headerlink" title="盒子阴影(CSS3)"></a>盒子阴影(CSS3)</h1><p> <strong>语法：</strong><br>  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">box-shadow:水平阴影 垂直阴影 模糊距离（虚实）  阴影尺寸（影子大小）  阴影颜色  内/外阴影；</span><br></pre></td></tr></table></figure><br>  <img src="../image/h10.png" alt=""></p><ul><li>前两个属性是必须写的。其余的可以省略。</li><li><code>外阴影(outset)</code> 是默认的但是不能写  想要内阴影可以写 <code>inset</code><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">10px</span> solid red;</span><br><span class="line">    <span class="comment">/* box-shadow: 5px 5px 3px 4px rgba(0, 0, 0, .4);  */</span></span><br><span class="line">    <span class="comment">/* box-shadow:水平位置 垂直位置 模糊距离 阴影尺寸（影子大小） 阴影颜色  内/外阴影； */</span></span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">15px</span> <span class="number">30px</span>  <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">4</span>);     </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></li></ul><h1 id="浮动"><a href="#浮动" class="headerlink" title="浮动"></a>浮动</h1><h2 id="CSS-布局的三种机制"><a href="#CSS-布局的三种机制" class="headerlink" title="CSS 布局的三种机制"></a>CSS 布局的三种机制</h2><p> <code>CSS</code> 提供了 <code>3</code> 种机制来设置盒子的摆放位置，分别是<code>普通流</code>（标准流）、<code>浮动</code>和<code>定位</code></p><ol><li><strong>普通流（标准流）</strong><ul><li><code>块级元素</code>会独占一行，从上向下顺序排列，常用元素：<code>div、hr、p、h1~h6、ul、ol、dl、form、table</code></li><li><code>行内元素</code>会按照顺序，从左到右顺序排列，碰到父元素边缘则自动换行，常用元素：<code>span、a、i、em</code>等</li></ul></li><li><strong>浮动</strong><br>让盒子从普通流中浮起来,主要作用让多个块级盒子一行显示。</li><li><strong>定位</strong><br>将盒子定在浏览器的某一个位置——CSS 离不开定位，特别是后面的 <code>js</code> 特效。</li></ol><h2 id="什么是浮动"><a href="#什么是浮动" class="headerlink" title="什么是浮动"></a>什么是浮动</h2><p> 元素的浮动是指设置了浮动属性的元素会脱离标准普通流的控制，移动到指定位置。</p><p> <strong>语法:</strong><br> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">选择器 &#123; <span class="attribute">float</span>: 属性值; &#125;</span><br></pre></td></tr></table></figure></p><table><thead><tr><th>属性值</th><th>描述</th></tr></thead><tbody><tr><td><strong>none</strong></td><td>元素不浮动（<strong>默认值</strong>）</td></tr><tr><td><strong>left</strong></td><td>元素向<strong>左</strong>浮动</td></tr><tr><td><strong>right</strong></td><td>元素向<strong>右</strong>浮动</td></tr></tbody></table><ol><li><p>浮动口诀之 浮<br>漂浮在普通流的上面，脱离标准流。 俗称 “脱标”，<code>float</code>属性会让盒子漂浮在标准流的上面  </p></li><li><p>浮动口诀之 漏<br>浮动的盒子，把自己原来的位置漏给下面标准流的盒子，就是不占有原来位置，是脱离标准流的，我们俗称 “脱标”。</p></li><li><p>浮动口诀之 特<br>浮动——特性  float属性会改变元素display属性，任何元素都可以浮动。浮动元素会生成一个块级框，而不论它本身是何种元素，生成的块级框和我们前面的行内块极其相似。</p><blockquote><p><strong>注意：</strong><br>浮动的元素互相贴靠一起的，但是如果父级宽度装不下这些浮动的盒子， 多出的盒子会另起一行对齐</p></blockquote></li></ol><h2 id="浮动-float-小结"><a href="#浮动-float-小结" class="headerlink" title="浮动(float)小结"></a>浮动(float)小结</h2><p> 我们使用浮动的核心目的——让多个块级盒子在同一行显示。 因为这是我们最常见的一种布局方式</p><table><thead><tr><th>特点</th><th>说明</th></tr></thead><tbody><tr><td>浮</td><td>加了浮动的盒子<strong>是浮起来</strong>的，漂浮在其他标准流盒子的上面。</td></tr><tr><td>漏</td><td>加了浮动的盒子<strong>是不占位置的</strong>，它原来的位置<strong>漏给了标准流的盒子</strong>。</td></tr><tr><td>特</td><td><strong>特别注意</strong>：浮动元素会改变<code>display</code>属性， 类似转换为了行内块，但是元素之间没有空白缝隙</td></tr></tbody></table><h2 id="清除浮动"><a href="#清除浮动" class="headerlink" title="清除浮动"></a>清除浮动</h2><h3 id="为什么要清除浮动"><a href="#为什么要清除浮动" class="headerlink" title="为什么要清除浮动"></a>为什么要清除浮动</h3><p> 因为父级盒子很多情况下，不方便给高度，但是子盒子浮动就不占有位置，最后父级盒子高度为<code>0</code>，就影响了下面的标准流盒子。</p><h3 id="清除浮动本质"><a href="#清除浮动本质" class="headerlink" title="清除浮动本质"></a>清除浮动本质</h3><p> 清除浮动主要为了解决父级元素因为子级浮动引起内部高度为0 的问题。清除浮动之后， 父级就会根据浮动的子盒子自动检测高度。父级有了高度，就不会影响下面的标准流了</p><h3 id="清除浮动的方法"><a href="#清除浮动的方法" class="headerlink" title="清除浮动的方法"></a>清除浮动的方法</h3><p> 在<code>CSS</code>中，<code>clear</code>属性用于清除浮动，在这里，我们先记住清除浮动的方法，具体的原理，等我们学完<code>css</code>会再回头分析。</p><p> <strong>语法：</strong><br> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">选择器&#123;<span class="attribute">clear</span>:属性值;&#125;   <span class="selector-tag">clear</span> 清除</span><br></pre></td></tr></table></figure></p><table><thead><tr><th>属性值</th><th>描述</th></tr></thead><tbody><tr><td>left</td><td>不允许左侧有浮动元素（清除左侧浮动的影响）</td></tr><tr><td>right</td><td>不允许右侧有浮动元素（清除右侧浮动的影响）</td></tr><tr><td>both</td><td>同时清除左右两侧浮动的影响</td></tr></tbody></table><p> <strong>但是我们实际工作中， 几乎只用 <code>clear: both;</code></strong></p><ol><li>额外标签法(隔墙法)<br>是<code>W3C</code>推荐的做法是通过在浮动元素末尾添加一个空的标签例如 <code>&lt;div style=”clear:both”&gt;&lt;/div&gt;</code>，或则其他标签<code>br</code>等亦可。<ul><li>优点： 通俗易懂，书写方便</li><li>缺点： 添加许多无意义的标签，结构化较差。</li></ul></li><li>父级添加overflow属性方法<br>可以给父级添加：<code>overflow为 hidden| auto| scroll</code>都可以实现。<ul><li>代码简洁</li><li>内容增多时候容易造成不会自动换行导致内容被隐藏掉，无法显示需要溢出的元素。</li></ul></li><li>使用after伪元素清除浮动<br><code>:after</code> 方式为空元素额外标签法的升级版，好处是不用单独加标签了 <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span> &#123;  <span class="attribute">content</span>: <span class="string">""</span>; <span class="attribute">display</span>: block; <span class="attribute">height</span>: <span class="number">0</span>; <span class="attribute">clear</span>: both; <span class="attribute">visibility</span>: hidden;  &#125;   </span><br><span class="line"></span><br><span class="line">.clearfix &#123;*zoom: 1;&#125;   /* IE6、7 专有 */</span><br></pre></td></tr></table></figure><ul><li>优点: 符合闭合浮动思想  结构语义化正确</li><li>缺点: 由于IE6-7不支持:after，使用 zoom:1触发 hasLayout。</li></ul></li><li>使用双伪元素清除浮动<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:before</span>,<span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span> &#123; </span><br><span class="line">  <span class="attribute">content</span>:<span class="string">""</span>;</span><br><span class="line">  <span class="attribute">display</span>:table; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line"><span class="attribute">clear</span>:both;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearfix</span> &#123;</span><br><span class="line">  *zoom:1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>代码更简洁</li><li>缺点：  由于IE6-7不支持:after，使用 zoom:1触发 hasLayout。</li></ul></li></ol><h1 id="定位"><a href="#定位" class="headerlink" title="定位"></a>定位</h1><h2 id="边偏移"><a href="#边偏移" class="headerlink" title="边偏移"></a>边偏移</h2><p> 在 <code>CSS</code> 中，通过 <code>top、bottom、left 和 right</code> 属性定义元素的边偏移：（方位名词）</p><table><thead><tr><th>边偏移属性</th><th align="left">示例</th><th>描述</th></tr></thead><tbody><tr><td><code>top</code></td><td align="left"><code>top: 80px</code></td><td><strong>顶端</strong>偏移量，定义元素相对于其父元素<strong>上边线的距离</strong>。</td></tr><tr><td><code>bottom</code></td><td align="left"><code>bottom: 80px</code></td><td><strong>底部</strong>偏移量，定义元素相对于其父元素<strong>下边线的距离</strong>。</td></tr><tr><td><code>left</code></td><td align="left"><code>left: 80px</code></td><td><strong>左侧</strong>偏移量，定义元素相对于其父元素<strong>左边线的距离</strong>。</td></tr><tr><td><code>right</code></td><td align="left"><code>right: 80px</code></td><td><strong>右侧</strong>偏移量，定义元素相对于其父元素<strong>右边线的距离</strong></td></tr></tbody></table><h2 id="定位模式"><a href="#定位模式" class="headerlink" title="定位模式"></a>定位模式</h2><p> 在 <code>CSS</code> 中，通过 <code>position</code> 属性定义元素的定位模式，语法如下：<br> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">选择器 &#123; <span class="attribute">position</span>: 属性值; &#125;</span><br></pre></td></tr></table></figure></p><p> <strong>定位模式是有不同分类的，在不同情况下，我们用到不同的定位模式。</strong></p><table><thead><tr><th>值</th><th align="center">语义</th></tr></thead><tbody><tr><td><code>static</code></td><td align="center"><strong>静态</strong>定位</td></tr><tr><td><code>relative</code></td><td align="center"><strong>相对</strong>定位</td></tr><tr><td><code>absolute</code></td><td align="center"><strong>绝对</strong>定位</td></tr><tr><td><code>fixed</code></td><td align="center"><strong>固定</strong>定位</td></tr></tbody></table><h3 id="静态定位-static-了解"><a href="#静态定位-static-了解" class="headerlink" title="静态定位(static) - 了解"></a>静态定位(static) - 了解</h3><p> <code>静态定位</code> 按照标准流特性摆放位置，它没有边偏移，静态定位在布局时我们几乎不用的。</p><h3 id="相对定位-relative-重要"><a href="#相对定位-relative-重要" class="headerlink" title="相对定位(relative) - 重要"></a>相对定位(relative) - 重要</h3><p> 相对定位是元素相对于它原来在标准流中的位置 来说的。</p><p> <strong>相对定位的特点：</strong></p><ul><li>相对于自己原来在标准流中位置来移动的</li><li>原来在标准流的区域继续占有。</li></ul><h3 id="绝对定位-absolute-重要"><a href="#绝对定位-absolute-重要" class="headerlink" title="绝对定位(absolute) - 重要"></a>绝对定位(absolute) - 重要</h3><p> 绝对定位是元素以带有定位的父级元素来移动位置</p><ol><li>脱离文档流</li><li>父元素没有定位，则以浏览器为准定位（Document 文档）。</li><li>父元素要有定位<br>将元素依据最近的已经定位（绝对、固定或相对定位）的父元素（祖先）进行定位。</li></ol><h3 id="固定定位-fixed-重要"><a href="#固定定位-fixed-重要" class="headerlink" title="固定定位(fixed) - 重要"></a>固定定位(fixed) - 重要</h3><ol><li><p>脱离文档流</p></li><li><p>以浏览器的可视窗口开始定位</p></li><li><p>不随滚动条滚动。</p><blockquote><p><strong>提示：</strong><br>IE 6 等低版本浏览器不支持固定定位。</p></blockquote></li></ol><h3 id="绝对定位的盒子居中"><a href="#绝对定位的盒子居中" class="headerlink" title="绝对定位的盒子居中"></a>绝对定位的盒子居中</h3><p> 在使用绝对定位时要想实现水平居中，可以按照下图的方法：<br> <img src="../image/h11.png" alt=""><br> 1.left: 50%;：让盒子的左侧移动到父级元素的水平中心位置；<br> 2.margin-left: -100px;：让盒子向左移动自身宽度的一半。</p><blockquote><p><strong>注意：</strong><br>绝对定位/固定定位的盒子不能通过设置 <code>margin: auto</code> 设置水平居中。</p></blockquote><h3 id="堆叠顺序（z-index）"><a href="#堆叠顺序（z-index）" class="headerlink" title="堆叠顺序（z-index）"></a>堆叠顺序（z-index）</h3><p> 在使用<code>定位布局</code>时，可能会<code>出现盒子重叠的情况</code>，加了定位的盒子，默认<code>后来者居上</code>，后面的盒子会压住前面的盒子，应用 z-index 层叠等级属性可以<code>调整盒子的堆叠顺序</code>。</p><p> <strong>z-index 的特性如下：</strong><br> 1.属性值：正整数、负整数或 0，默认值是 0，数值越大，盒子越靠上；<br> 2.如果属性值相同，则按照书写顺序，后来居上；<br> 3.数字后面不能加单位。</p><blockquote><p><strong>注意：</strong><br><code>z-index</code>只能应用于相对定位、绝对定位和固定定位的元素，其他标准流、浮动和静态定位无效。</p></blockquote><h3 id="定位改变display属性"><a href="#定位改变display属性" class="headerlink" title="定位改变display属性"></a>定位改变display属性</h3><p> 定位转换的特性 转换为行内块，所以说， 一个行内的盒子，如果加了<code>浮动</code>、<code>固定定位</code>和<code>绝对定位</code>，不用转换，就可以给这个盒子直接设置宽度和高度等。</p><blockquote><p><strong>注意：</strong><br><code>浮动元素</code>、<code>绝对定位(固定定位）</code>元素的都不会触发外边距合并的问题。 （我们以前是用<code>padding border overflow</code>解决的），也就是说，我们给盒子改为了浮动或者定位，就不会有垂直外边距合并的问题了。</p></blockquote><h3 id="定位小结"><a href="#定位小结" class="headerlink" title="定位小结"></a>定位小结</h3><table><thead><tr><th>定位模式</th><th>是否脱标占有位置</th><th align="left">移动位置基准</th><th>模式转换（行内块）</th><th>使用情况</th></tr></thead><tbody><tr><td>静态static</td><td>不脱标，正常模式</td><td align="left">正常模式</td><td>不能</td><td>几乎不用</td></tr><tr><td>相对定位relative</td><td>不脱标，占有位置</td><td align="left">相对自身位置移动</td><td>不能</td><td>基本单独使用</td></tr><tr><td>绝对定位absolute</td><td>完全脱标，不占有位置</td><td align="left">相对于定位父级移动位置</td><td>能</td><td>要和定位父级元素搭配使用</td></tr><tr><td>固定定位fixed</td><td>完全脱标，不占有位置</td><td align="left">相对于浏览器移动位置</td><td>能</td><td>单独使用，不需要父级</td></tr></tbody></table><h1 id="元素的显示与隐藏"><a href="#元素的显示与隐藏" class="headerlink" title="元素的显示与隐藏"></a>元素的显示与隐藏</h1><p> <strong>让一个元素在页面中消失或者显示出来</strong></p><h2 id="display-显示（重点）"><a href="#display-显示（重点）" class="headerlink" title="display 显示（重点）"></a>display 显示（重点）</h2><p> 设置元素的<code>显示</code>和<code>隐藏</code></p><ul><li><p><code>display: none</code> 隐藏对象</p></li><li><p><code>display：block</code> 除了转换为块级元素之外，同时还有显示元素的意思。</p><blockquote><p><strong>特点：</strong><br>隐藏之后，不再保留位置。</p></blockquote></li></ul><h2 id="visibility-可见性-了解"><a href="#visibility-可见性-了解" class="headerlink" title="visibility 可见性 (了解)"></a>visibility 可见性 (了解)</h2><p> 设置元素的<code>显示</code>和<code>隐藏</code></p><ul><li><p>visibility：visible ; 　对象可视</p></li><li><p>visibility：hidden; 　  对象隐藏</p><blockquote><p><strong>特点：</strong><br>隐藏之后，继续保留原有位置</p></blockquote></li></ul><h2 id="overflow-溢出-重点"><a href="#overflow-溢出-重点" class="headerlink" title="overflow 溢出(重点)"></a>overflow 溢出(重点)</h2><p> <strong>设置当前元素的内容超过其指定高度及宽度时如何管理内容</strong></p><table><thead><tr><th>属性值</th><th>描述</th></tr></thead><tbody><tr><td><strong>visible</strong></td><td>不剪切内容也不添加滚动条</td></tr><tr><td><strong>hidden</strong></td><td>不显示超过对象尺寸的内容，超出的部分隐藏掉</td></tr><tr><td><strong>scroll</strong></td><td>不管超出内容否，总是显示滚动条</td></tr><tr><td><strong>auto</strong></td><td>超出自动显示滚动条，不超出不显示滚动条</td></tr></tbody></table><h2 id="显示与隐藏总结"><a href="#显示与隐藏总结" class="headerlink" title="显示与隐藏总结"></a>显示与隐藏总结</h2><table><thead><tr><th>属性</th><th>区别</th><th>用途</th></tr></thead><tbody><tr><td><strong>display</strong></td><td>隐藏对象，不保留位置</td><td>配合后面js做特效，比如下拉菜单，原先没有，鼠标经过，显示下拉菜单， 应用极为广泛</td></tr><tr><td><strong>visibility</strong></td><td>隐藏对象，保留位置</td><td>使用较少</td></tr><tr><td><strong>overflow</strong></td><td>只是隐藏超出大小的部分</td><td>1. 可以清除浮动 2. 保证盒子里面的内容不会超出该盒子范围</td></tr></tbody></table><h1 id="CSS用户界面样式"><a href="#CSS用户界面样式" class="headerlink" title="CSS用户界面样式"></a>CSS用户界面样式</h1><h2 id="鼠标样式cursor"><a href="#鼠标样式cursor" class="headerlink" title="鼠标样式cursor"></a>鼠标样式cursor</h2><p>  设置鼠标指针采用何种光标形状。</p><table><thead><tr><th>属性值</th><th>描述</th></tr></thead><tbody><tr><td><strong>default</strong></td><td>小白  默认</td></tr><tr><td><strong>pointer</strong></td><td>小手</td></tr><tr><td><strong>move</strong></td><td>移动</td></tr><tr><td><strong>text</strong></td><td>文本</td></tr><tr><td><strong>not-allowed</strong></td><td>禁止</td></tr></tbody></table><h2 id="轮廓线-outline"><a href="#轮廓线-outline" class="headerlink" title="轮廓线 outline"></a>轮廓线 outline</h2><p> <img src="../image/h12.png" alt=""><br>  是绘制于表单周围的一条线，位于边框边缘的外围，可起到突出元素的作用。<br>  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">outline : outline-color ||outline-style || outline-width</span><br></pre></td></tr></table></figure><br>  去掉表单外围边框最直接的写法是:<code>outline: 0;   或者  outline: none;</code><br>  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input  type="text"  style="outline: 0;"/&gt;</span><br></pre></td></tr></table></figure></p><h2 id="防止拖拽文本域resize"><a href="#防止拖拽文本域resize" class="headerlink" title="防止拖拽文本域resize"></a>防止拖拽文本域resize</h2><p> <img src="../image/h13.png" alt=""><br> 实际开发中，我们文本域右下角是不可以拖拽：<br> <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;textarea  style="resize: none;"&gt;&lt;/textarea&gt;</span><br></pre></td></tr></table></figure></p><h2 id="用户界面样式总结"><a href="#用户界面样式总结" class="headerlink" title="用户界面样式总结"></a>用户界面样式总结</h2><table><thead><tr><th>属性</th><th>用途</th><th>用途</th></tr></thead><tbody><tr><td><strong>鼠标样式</strong></td><td>更改鼠标样式cursor</td><td>样式很多，重点记住 pointer</td></tr><tr><td><strong>轮廓线</strong></td><td>表单默认outline</td><td>outline 轮廓线，我们一般直接去掉，border是边框，我们会经常用</td></tr><tr><td>防止拖拽</td><td>主要针对文本域resize</td><td>防止用户随意拖拽文本域，造成页面布局混乱，我们resize:none</td></tr></tbody></table><h1 id="vertical-align-垂直对齐"><a href="#vertical-align-垂直对齐" class="headerlink" title="vertical-align 垂直对齐"></a>vertical-align 垂直对齐</h1><p> <img src="../image/h14.jpg" alt=""><br> <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vertical-align : baseline |top |middle |bottom</span><br></pre></td></tr></table></figure></p><blockquote><p><strong>注意：</strong><br>vertical-align 不影响块级元素中的内容对齐，它只针对于行内元素或者行内块元素，特别是行内块元素， 通常用来控制图片/表单与文字的对齐。</p></blockquote><h2 id="图片、表单和文字对齐"><a href="#图片、表单和文字对齐" class="headerlink" title="图片、表单和文字对齐"></a>图片、表单和文字对齐</h2><p> 所以我们知道，我们可以通过 <code>vertical-align</code> 控制图片和文字的垂直关系了。 默认的图片会和文字基线对齐。<br> <img src="../image/h15.png" alt=""></p><h2 id="去除图片底侧空白缝隙"><a href="#去除图片底侧空白缝隙" class="headerlink" title="去除图片底侧空白缝隙"></a>去除图片底侧空白缝隙</h2><p> <img src="../image/h16.png" alt=""><br> 图片或者表单等行内块元素，他的底线会和父级盒子的基线对齐，就是图片底侧会有一个空白缝隙。</p><p> <strong>解决的方法就是：</strong></p><ul><li>给<code>img</code> 添加 <code>display：block;</code> 转换为块级元素就不会存在问题了。</li></ul><h1 id="溢出的文字省略号显示"><a href="#溢出的文字省略号显示" class="headerlink" title="溢出的文字省略号显示"></a>溢出的文字省略号显示</h1><h2 id="white-space"><a href="#white-space" class="headerlink" title="white-space"></a>white-space</h2><p> <code>white-space</code>设置文本显示方式。通常我们使用于强制一行显示内容</p><ul><li>white-space:normal ；默认处理方式</li><li>white-space:nowrap ；　强制在同一行内显示所有文本，直到文本结束或者遭遇br标签对象才换行。</li></ul><h2 id="text-overflow-文字溢出"><a href="#text-overflow-文字溢出" class="headerlink" title="text-overflow 文字溢出"></a>text-overflow 文字溢出</h2><p> 设置文本是否使用一个省略标记（…）标示文本的溢出</p><ul><li>text-overflow : clip ；不显示省略标记（…），而是简单的裁切 </li><li>text-overflow：ellipsis ； 当对象内文本溢出时显示省略标记（…）</li></ul><p> <strong>文本强制一行显示</strong><br> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/*1. 先强制一行内显示文本*/</span></span><br><span class="line">    <span class="selector-tag">white-space</span>: <span class="selector-tag">nowrap</span>;</span><br><span class="line"><span class="comment">/*2. 超出的部分隐藏*/</span></span><br><span class="line">    <span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</span><br><span class="line"><span class="comment">/*3. 文字用省略号替代超出的部分*/</span></span><br><span class="line">    <span class="selector-tag">text-overflow</span>: <span class="selector-tag">ellipsis</span>;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> html </category>
          
      </categories>
      
      
        <tags>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jquery</title>
      <link href="/jquery/"/>
      <url>/jquery/</url>
      
        <content type="html"><![CDATA[<h1 id="jQuery-的基本使用"><a href="#jQuery-的基本使用" class="headerlink" title="jQuery 的基本使用"></a>jQuery 的基本使用</h1><h2 id="jQuery-的下载"><a href="#jQuery-的下载" class="headerlink" title="jQuery 的下载"></a>jQuery 的下载</h2><p> <a href="https://jquery.com/" target="_blank" rel="noopener">jQuery的官网地址</a></p><p> 版本介绍:</p><ul><li>1x: 兼容 IE 678 等低版本浏览器， 官网不再更新</li><li>2x: 不兼容 IE 678 等低版本浏览器， 官网不再更新</li><li>3x: 不兼容 IE 678 等低版本浏览器， 是官方主要更新维护的版本</li></ul><h2 id="体验jQuery"><a href="#体验jQuery" class="headerlink" title="体验jQuery"></a>体验jQuery</h2><p> 步骤：</p><ul><li>引入<code>jQuery</code>文件。</li><li>在文档最末尾插入 <code>script</code> 标签，书写体验代码。</li><li><code>$(&#39;div&#39;).hide()</code> 可以隐藏盒子。</li></ul><h2 id="jQuery的入口函数"><a href="#jQuery的入口函数" class="headerlink" title="jQuery的入口函数"></a>jQuery的入口函数</h2><pre><code>jQuery中常见的两种入口函数：</code></pre>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一种: 简单易用。</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;   </span><br><span class="line">    ...  <span class="comment">// 此处是页面 DOM 加载完成的入口</span></span><br><span class="line">&#125;) ; </span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二种: 繁琐，但是也可以实现</span></span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  ...  <span class="comment">//  此处是页面DOM加载完成的入口</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>  <strong>总结：</strong></p><ul><li><code>DOM</code> 结构渲染完毕即可执行内部代码，不必等到所有外部资源加载完成，jQuery 帮我们完成了封装。</li><li>相当于原生 <code>js</code> 中的 <code>DOMContentLoaded</code></li><li>不同于原生 <code>js</code> 中的 <code>load</code> 事件是等页面文档、外部的 <code>js文件</code>、<code>css文件</code>、<code>图片加载完毕</code>才执行内部代码。`</li><li>更推荐使用第一种方式.</li></ul><h2 id="jQuery中的顶级对象"><a href="#jQuery中的顶级对象" class="headerlink" title="jQuery中的顶级对象$"></a>jQuery中的顶级对象$</h2><ul><li><code>$</code> 是 <code>jQuery</code> 的别称，在代码中可以使用 <code>jQuery</code> 代替，但一般为了方便，通常都直接使用 $ 。</li><li><code>$</code> 是 <code>jQuery</code> 的顶级对象，相当于原生``JavaScript<code>中的</code>window<code>。把元素利用$包装成</code>jQuery<code>对象，就可以调用</code>jQuery` 的方法。</li></ul><h2 id="jQuery-对象和-DOM-对象"><a href="#jQuery-对象和-DOM-对象" class="headerlink" title="jQuery 对象和 DOM 对象"></a>jQuery 对象和 DOM 对象</h2><p> 使用 <code>jQuery</code> 方法和原生 <code>JS</code> 获取的元素是不一样的，总结如下 : </p><ul><li><p>用原生 <code>JS</code> 获取来的对象就是 <code>DOM</code> 对象。</p></li><li><p><code>jQuery</code> 方法获取的元素就是 <code>jQuery</code> 对象。</p></li><li><p><code>jQuery</code> 对象本质是： 利用 <code>$</code> 对 <code>DOM</code> 对象包装后产生的对象（伪数组形式存储）。</p><blockquote><p><strong>注意:</strong><br>只有 jQuery 对象才能使用 jQuery 方法，DOM 对象则使用原生的 JavaScirpt 方法。</p></blockquote><p><img src="../image/java80.png" alt=""></p></li></ul><h2 id="jQuery-对象和-DOM-对象转换"><a href="#jQuery-对象和-DOM-对象转换" class="headerlink" title="jQuery 对象和 DOM 对象转换"></a>jQuery 对象和 DOM 对象转换</h2><p> <code>DOM</code> 对象与 <code>jQuery</code> 对象之间是可以相互转换的。因为原生 <code>js</code> 比 <code>jQuery</code> 更大，原生的一些属性和方法 <code>jQuery</code>没有给我们封装, 要想使用这些属性和方法需要把<code>jQuery</code>对象转换为 <code>DOM</code> 对象才能使用。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.DOM对象转换成jQuery对象，方法只有一种</span></span><br><span class="line"><span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);  <span class="comment">// 获取DOM对象</span></span><br><span class="line"><span class="keyword">var</span> jQueryObject = $(box);  <span class="comment">// 把DOM对象转换为 jQuery 对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.jQuery 对象转换为 DOM 对象有两种方法：</span></span><br><span class="line"><span class="comment">//   2.1 jQuery对象[索引值]</span></span><br><span class="line"><span class="keyword">var</span> domObject1 = $(<span class="string">'div'</span>)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">//   2.2 jQuery对象.get(索引值)</span></span><br><span class="line"><span class="keyword">var</span> domObject2 = $(<span class="string">'div'</span>).get(<span class="number">0</span>)</span><br></pre></td></tr></table></figure></p><blockquote><p><strong>总结:</strong><br>实际开发比较常用的是把DOM对象转换为jQuery对象，这样能够调用功能更加强大的jQuery中的方法。</p></blockquote><h1 id="jQuery-选择器"><a href="#jQuery-选择器" class="headerlink" title="jQuery 选择器"></a>jQuery 选择器</h1><p> 原生 <code>JS</code> 获取元素方式很多，很杂，而且兼容性情况不一致，因此 <code>jQuery</code> 给我们做了封装，使获取元素统一标准。</p><h2 id="基础选择器"><a href="#基础选择器" class="headerlink" title="基础选择器"></a>基础选择器</h2><p> <code>$(&quot;选择器&quot;)</code> 里面选择器直接写 <code>CSS</code> 选择器即可，但是要加引号<br> <img src="../image/java81.png" alt=""></p><h2 id="层级选择器"><a href="#层级选择器" class="headerlink" title="层级选择器"></a>层级选择器</h2><p> 层级选择器最常用的两个分别为：<code>后代选择器</code>和<code>子代选择器</code>。<br>  <img src="../image/java82.png" alt=""></p><p>  <strong>基础选择器和层级选择器案例代码</strong><br>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>我是div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span>我是nav div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是p<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是ul 的<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是ul 的<span class="tag">&lt;/<span class="name">li</span>&gt;</span>        </span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是ul 的<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log($(<span class="string">".nav"</span>));</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log($(<span class="string">"ul li"</span>));</span></span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="筛选选择器"><a href="#筛选选择器" class="headerlink" title="筛选选择器"></a>筛选选择器</h2><p> 筛选选择器，顾名思义就是在所有的选项中选择满足条件的进行筛选选择。常见如下:<br> <img src="../image/java83.png" alt=""><br> <strong>案例代码</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>多个里面筛选几个<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>多个里面筛选几个<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>多个里面筛选几个<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>多个里面筛选几个<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>多个里面筛选几个<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>多个里面筛选几个<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>多个里面筛选几个<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>多个里面筛选几个<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>多个里面筛选几个<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>多个里面筛选几个<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>多个里面筛选几个<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>多个里面筛选几个<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"ul li:first"</span>).css(<span class="string">"color"</span>, <span class="string">"red"</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"ul li:eq(2)"</span>).css(<span class="string">"color"</span>, <span class="string">"blue"</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"ol li:odd"</span>).css(<span class="string">"color"</span>, <span class="string">"skyblue"</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"ol li:even"</span>).css(<span class="string">"color"</span>, <span class="string">"pink"</span>);</span></span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="知识铺垫"><a href="#知识铺垫" class="headerlink" title="知识铺垫"></a>知识铺垫</h2><ol><li>jQuery 设置样式<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'div'</span>).css(<span class="string">'属性'</span>, <span class="string">'值'</span>)</span><br></pre></td></tr></table></figure></li><li>jQuery 里面的排他思想<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 想要多选一的效果，排他思想：当前元素设置样式，其余的兄弟元素清除样式。</span></span><br><span class="line">$(<span class="keyword">this</span>).css(“color”,”red”);</span><br><span class="line">$(<span class="keyword">this</span>).siblings(). css(“color”,””);</span><br></pre></td></tr></table></figure></li><li>隐式迭代<br>遍历内部 <code>DOM</code> 元素（伪数组形式存储）的过程就叫做隐式迭代。 简单理解：给匹配到的所有元素进行循环遍历，执行相应的方法，而不用我们再进行循环，简化我们的操作，方便我们调用。<code>$(&#39;div&#39;).hide();</code>页面中所有的div全部隐藏，不用循环操作</li><li>链式编程<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 链式编程是为了节省代码量，看起来更优雅。</span></span><br><span class="line">$(<span class="keyword">this</span>).css(<span class="string">'color'</span>, <span class="string">'red'</span>).sibling().css(<span class="string">'color'</span>, <span class="string">''</span>);</span><br></pre></td></tr></table></figure></li></ol><h1 id="jQuery-样式操作"><a href="#jQuery-样式操作" class="headerlink" title="jQuery 样式操作"></a>jQuery 样式操作</h1><p> <code>jQuery</code>中常用的样式操作有两种：<code>css()</code> 和 <code>设置类样式方法</code></p><h2 id="方法1-操作-css-方法"><a href="#方法1-操作-css-方法" class="headerlink" title="方法1: 操作 css 方法"></a>方法1: 操作 css 方法</h2><p> <code>jQuery</code> 可以使用 <code>css</code>方法来修改简单元素样式； 也可以操作类，修改多个样式。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.参数只写属性名，则是返回属性值</span></span><br><span class="line"><span class="keyword">var</span> strColor = $(<span class="keyword">this</span>).css(<span class="string">'color'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.  参数是属性名，属性值，逗号分隔，是设置一组样式，属性必须加引号，值如果是数字可以不用跟单位和引号</span></span><br><span class="line">$(<span class="keyword">this</span>).css(<span class="string">''</span>color<span class="string">''</span>, <span class="string">''</span>red<span class="string">''</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.  参数可以是对象形式，方便设置多组样式。属性名和属性值用冒号隔开， 属性可以不用加引号</span></span><br><span class="line">$(<span class="keyword">this</span>).css(&#123; <span class="string">"color"</span>:<span class="string">"white"</span>,<span class="string">"font-size"</span>:<span class="string">"20px"</span>&#125;);</span><br></pre></td></tr></table></figure></p><blockquote><p><strong>注意：</strong><br>css() 多用于样式少时操作，多了则不太方便。</p></blockquote><h2 id="方法2-设置类样式方法"><a href="#方法2-设置类样式方法" class="headerlink" title="方法2: 设置类样式方法"></a>方法2: 设置类样式方法</h2><p> 作用等同于原生dom的 classList，可以操作类样式， 注意操作类里面的参数不要加点。</p><p> 常用的三种设置类样式方法：<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.添加类</span></span><br><span class="line">$(<span class="string">"div"</span>).addClass(<span class="string">"current"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.删除类</span></span><br><span class="line">$(<span class="string">"div"</span>).removeClass(<span class="string">"current"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.切换类</span></span><br><span class="line">$(<span class="string">"div"</span>).toggleClass(<span class="string">"current"</span>);</span><br></pre></td></tr></table></figure></p><blockquote><p><strong>注意：</strong><br>1.设置类样式方法比较适合样式多时操作，可以弥补css()的不足。<br>2.原生 JS 中 className 会覆盖元素原先里面的类名，jQuery 里面类操作只是对指定类进行操作，不影响原先的类名</p></blockquote><h1 id="jQuery-效果"><a href="#jQuery-效果" class="headerlink" title="jQuery 效果"></a>jQuery 效果</h1><p> <code>jQuery</code> 给我们封装了很多动画效果，最为常见的如下：</p><ul><li>显示隐藏：<code>show()</code> / <code>hide()</code> / <code>toggle()</code> ;</li><li>划入画出：<code>slideDown()</code> / <code>slideUp()</code> / <code>slideToggle()</code> ; </li><li>淡入淡出：<code>fadeIn()</code> / <code>fadeOut()</code> / <code>fadeToggle()</code> /<code>fadeTo()</code>; </li><li>自定义动画：<code>animate()</code> ;<blockquote><p><strong>注意：</strong><br>动画或者效果一旦触发就会执行，如果多次触发，就造成多个动画或者效果排队执行。<br><code>jQuery</code>为我们提供另一个方法，可以停止动画排队：<code>stop()</code> ;</p></blockquote></li></ul><h2 id="显示隐藏"><a href="#显示隐藏" class="headerlink" title="显示隐藏"></a>显示隐藏</h2><p> 显示隐藏动画，常见有三个方法：<code>show()</code> / <code>hide()</code> / <code>toggle()</code> ;<br> <img src="../image/jq1.png" alt=""><br> <img src="../image/jq2.png" alt=""><br> <img src="../image/jq3.png" alt=""><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>显示<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>隐藏<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"button"</span>).eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">"div"</span>).show(<span class="number">1000</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">                    alert(1);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;)</span><br><span class="line"><span class="javascript">            $(<span class="string">"button"</span>).eq(<span class="number">1</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">"div"</span>).hide(<span class="number">1000</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">                    alert(1);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;)</span><br><span class="line"><span class="javascript">            $(<span class="string">"button"</span>).eq(<span class="number">2</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"div"</span>).toggle(<span class="number">1000</span>);</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="actionscript">            <span class="comment">// 一般情况下，我们都不加参数直接显示隐藏就可以了</span></span></span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="滑入滑出"><a href="#滑入滑出" class="headerlink" title="滑入滑出"></a>滑入滑出</h2><p> 滑入滑出动画，常见有三个方法：<code>slideDown()</code> / <code>slideUp()</code> / <code>slideToggle()</code> ;</p><p> <strong>语法规范如下:</strong><br>  <img src="../image/jq4.png" alt=""><br>  <img src="../image/jq5.png" alt=""><br>  <img src="../image/jq6.png" alt=""><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>下拉滑动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>上拉滑动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>切换滑动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"button"</span>).eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 下滑动 slideDown()</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">"div"</span>).slideDown();</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="javascript">            $(<span class="string">"button"</span>).eq(<span class="number">1</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 上滑动 slideUp()</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">"div"</span>).slideUp(<span class="number">500</span>);</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="javascript">            $(<span class="string">"button"</span>).eq(<span class="number">2</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 滑动切换 slideToggle()</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">"div"</span>).slideToggle(<span class="number">500</span>);</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="淡入淡出"><a href="#淡入淡出" class="headerlink" title="淡入淡出"></a>淡入淡出</h2><p> 淡入淡出动画，常见有四个方法：<code>fadeIn()</code> / <code>fadeOut()</code> / <code>fadeToggle()</code> / <code>fadeTo()</code>;<br> <strong>语法规范如下:</strong><br>  <img src="../image/jq7.png" alt=""><br>  <img src="../image/jq8.png" alt=""><br>  <img src="../image/jq9.png" alt=""><br>  <img src="../image/jq10.png" alt=""><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>淡入效果<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>淡出效果<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>淡入淡出切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>修改透明度<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"button"</span>).eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 淡入 fadeIn()</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">"div"</span>).fadeIn(<span class="number">1000</span>);</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="javascript">            $(<span class="string">"button"</span>).eq(<span class="number">1</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 淡出 fadeOut()</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">"div"</span>).fadeOut(<span class="number">1000</span>);</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="javascript">            $(<span class="string">"button"</span>).eq(<span class="number">2</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 淡入淡出切换 fadeToggle()</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">"div"</span>).fadeToggle(<span class="number">1000</span>);</span></span><br><span class="line">            &#125;);</span><br><span class="line"><span class="javascript">            $(<span class="string">"button"</span>).eq(<span class="number">3</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">//  修改透明度 fadeTo() 这个速度和透明度要必须写</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">"div"</span>).fadeTo(<span class="number">1000</span>, <span class="number">0.5</span>);</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="自定义动画"><a href="#自定义动画" class="headerlink" title="自定义动画"></a>自定义动画</h2><p> 自定义动画非常强大，通过参数的传递可以模拟以上所有动画，方法为：<code>animate()</code> ;</p><p> <strong>语法规范如下:</strong><br>   <img src="../image/jq11.png" alt=""></p><p> <strong>代码演示</strong><br>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>动起来<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">"div"</span>).animate(&#123;</span></span><br><span class="line">                    left: 500,</span><br><span class="line">                    top: 300,</span><br><span class="line">                    opacity: .4,</span><br><span class="line">                    width: 500</span><br><span class="line">                &#125;, 500);</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="停止动画排队"><a href="#停止动画排队" class="headerlink" title="停止动画排队"></a>停止动画排队</h2><p> 动画或者效果一旦触发就会执行，如果多次触发，就造成多个动画或者效果排队执行。</p><p> 停止动画排队的方法为：stop() ; </p><ul><li>stop() 方法用于停止动画或效果。</li><li>stop() 写到动画或者效果的前面， 相当于停止结束上一次的动画。<blockquote><p><strong>总结</strong><br>每次使用动画之前，先调用 stop() ,在调用动画。</p></blockquote></li></ul><h2 id="事件切换"><a href="#事件切换" class="headerlink" title="事件切换"></a>事件切换</h2><p> <code>jQuery</code>中为我们添加了一个新事件 <code>hover()</code></p><p> <strong>语法</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hover([over,]out)     // 其中over和out为两个函数</span><br></pre></td></tr></table></figure></p><ul><li><code>over</code>:鼠标移到元素上要触发的函数（相当于<code>mouseenter</code>）</li><li><code>out</code>:鼠标移出元素要触发的函数（相当于<code>mouseleave</code>）</li><li>如果只写一个函数，则鼠标经过和离开都会触发它</li></ul><p>  <strong>hover事件和停止动画排列案例</strong><br>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>微博<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>私信<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>评论<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>@我<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>微博<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>私信<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>评论<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>@我<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 鼠标经过</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// $(".nav&gt;li").mouseover(function() &#123;</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     // $(this) jQuery 当前元素  this不要加引号</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     // show() 显示元素  hide() 隐藏元素</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     $(this).children("ul").slideDown(200);</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// &#125;);</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// // 鼠标离开</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// $(".nav&gt;li").mouseout(function() &#123;</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     $(this).children("ul").slideUp(200);</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// &#125;);</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 1. 事件切换 hover 就是鼠标经过和离开的复合写法</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// $(".nav&gt;li").hover(function() &#123;</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     $(this).children("ul").slideDown(200);</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// &#125;, function() &#123;</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     $(this).children("ul").slideUp(200);</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// &#125;);</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 2. 事件切换 hover  如果只写一个函数，那么鼠标经过和鼠标离开都会触发这个函数</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">".nav&gt;li"</span>).hover(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// stop 方法必须写到动画的前面</span></span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).children(<span class="string">"ul"</span>).stop().slideToggle();</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="jQuery-属性操作"><a href="#jQuery-属性操作" class="headerlink" title="jQuery 属性操作"></a>jQuery 属性操作</h2><p> <code>jQuery</code> 常用属性操作有三种：<code>prop()</code> / <code>attr()</code> / <code>data()</code> ;</p><h2 id="元素固有属性值-prop"><a href="#元素固有属性值-prop" class="headerlink" title="元素固有属性值 prop()"></a>元素固有属性值 prop()</h2><p> 所谓元素固有属性就是元素本身自带的属性，比如 <code>&lt;a&gt;</code> 元素里面的 <code>href</code> ，比如 <code>&lt;input&gt;</code> 元素里面的 <code>type</code>。 </p><p> <strong>语法</strong><br> <img src="../image/jq12.png" alt=""></p><blockquote><p><strong>注意：</strong><br><code>prop()</code> 除了普通属性操作，更适合操作表单属性：<code>disabled</code> / <code>checked</code> / <code>selected</code> 等。</p></blockquote><h2 id="元素自定义属性值-attr"><a href="#元素自定义属性值-attr" class="headerlink" title="元素自定义属性值 attr()"></a>元素自定义属性值 attr()</h2><p> 用户自己给元素添加的属性，我们称为自定义属性。 比如给 <code>div</code> 添加 <code>index =“1”</code>。 </p><p>  <strong>语法</strong><br> <img src="../image/jq13.png" alt=""></p><blockquote><p> <strong>注意：</strong><br><code>attr()</code> 除了普通属性操作，更适合操作自定义属性。（该方法也可以获取 H5 自定义属性）</p></blockquote><h2 id="数据缓存-data"><a href="#数据缓存-data" class="headerlink" title="数据缓存 data()"></a>数据缓存 data()</h2><p> <code>data()</code> 方法可以在指定的元素上存取数据，并不会修改 <code>DOM</code> 元素结构。一旦页面刷新，之前存放的数据都将被移除。</p><p> <strong>语法</strong><br> <img src="../image/jq14.png" alt=""></p><blockquote><p> <strong>注意：</strong><br>同时，还可以读取 <code>HTML5</code> 自定义属性  <code>data-index</code> ，得到的是数字型。</p></blockquote><p> <strong>演示代码</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.itcast.cn"</span> <span class="attr">title</span>=<span class="string">"都挺好"</span>&gt;</span>都挺好<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">checked</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">index</span>=<span class="string">"1"</span> <span class="attr">data-index</span>=<span class="string">"2"</span>&gt;</span>我是div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>123<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">//1. element.prop("属性名") 获取元素固有的属性值</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log($(<span class="string">"a"</span>).prop(<span class="string">"href"</span>));</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"a"</span>).prop(<span class="string">"title"</span>, <span class="string">"我们都挺好"</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"input"</span>).change(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log($(<span class="keyword">this</span>).prop(<span class="string">"checked"</span>));</span></span><br><span class="line">            &#125;);</span><br><span class="line"><span class="actionscript">            <span class="comment">// console.log($("div").prop("index"));</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 2. 元素的自定义属性 我们通过 attr()</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log($(<span class="string">"div"</span>).attr(<span class="string">"index"</span>));</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"div"</span>).attr(<span class="string">"index"</span>, <span class="number">4</span>);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log($(<span class="string">"div"</span>).attr(<span class="string">"data-index"</span>));</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 3. 数据缓存 data() 这个里面的数据是存放在元素的内存里面</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">"span"</span>).data(<span class="string">"uname"</span>, <span class="string">"andy"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log($(<span class="string">"span"</span>).data(<span class="string">"uname"</span>));</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 这个方法获取data-index h5自定义属性 第一个 不用写data-  而且返回的是数字型</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log($(<span class="string">"div"</span>).data(<span class="string">"index"</span>));</span></span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h1 id="jQuery-文本属性值"><a href="#jQuery-文本属性值" class="headerlink" title="jQuery 文本属性值"></a>jQuery 文本属性值</h1><p> <code>jQuery</code> 的文本属性值常见操作有三种：<code>html()</code> / <code>text()</code> / <code>val()</code> ; 分别对应 <code>JS</code>中的 <code>innerHTML</code> 、<code>innerText</code> 和 <code>value</code> 属性。</p><h2 id="jQuery内容文本值"><a href="#jQuery内容文本值" class="headerlink" title="jQuery内容文本值"></a>jQuery内容文本值</h2><p> 常见操作有三种：<code>html()</code> / <code>text()</code> / <code>val()</code> ; 分别对应<code>JS</code>中的 <code>innerHTML</code> 、<code>innerText</code> 和 <code>value</code> 属性，主要针对元素的内容还有表单的值操作。</p><p> <strong>语法</strong><br> <img src="../image/jq15.png" alt=""></p><blockquote><p><strong>注意：</strong><br>html() 可识别标签，text() 不识别标签。</p></blockquote><p> <strong>演示代码</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>我是内容<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">value</span>=<span class="string">"请输入内容"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 1. 获取设置元素内容 html()</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log($(<span class="string">"div"</span>).html());</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// $("div").html("123");</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 2. 获取设置元素文本内容 text()</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log($(<span class="string">"div"</span>).text());</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"div"</span>).text(<span class="string">"123"</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 3. 获取设置表单值 val()</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log($(<span class="string">"input"</span>).val());</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"input"</span>).val(<span class="string">"123"</span>);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h1 id="jQuery-元素操作"><a href="#jQuery-元素操作" class="headerlink" title="jQuery 元素操作"></a>jQuery 元素操作</h1><p> <code>jQuery</code> 元素操作主要讲的是用 <code>jQuery</code> 方法，操作标签的<code>遍历</code>、<code>创建</code>、<code>添加</code>、<code>删除</code>等操作。</p><h2 id="遍历元素"><a href="#遍历元素" class="headerlink" title="遍历元素"></a>遍历元素</h2><p> <code>jQuery</code> 隐式迭代是对同一类元素做了同样的操作。 如果想要给同一类元素做不同操作，就需要用到遍历。</p><p> <strong>语法1</strong><br> <img src="../image/jq16.png" alt=""></p><blockquote><p><strong>注意：</strong><br>此方法用于遍历 <code>jQuery</code> 对象中的每一项，回调函数中元素为 <code>DOM</code> 对象，想要使用 <code>jQuery</code> 方法需要转换。</p></blockquote><p>  <strong>语法2</strong><br>  <img src="../image/jq17.png" alt=""></p><blockquote><p><strong>注意：</strong><br>此方法用于遍历 <code>jQuery</code> 对象中的每一项，回调函数中元素为 <code>DOM</code> 对象，想要使用 <code>jQuery</code> 方法需要转换。</p></blockquote><p>  <strong>演示代码</strong><br>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 如果针对于同一类元素做不同操作，需要用到遍历元素（类似for，但是比for强大）</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> sum = <span class="number">0</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> arr = [<span class="string">"red"</span>, <span class="string">"green"</span>, <span class="string">"blue"</span>];</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 1. each() 方法遍历元素 </span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">"div"</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">i, domEle</span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 回调函数第一个参数一定是索引号  可以自己指定索引号号名称</span></span></span><br><span class="line"><span class="actionscript">                <span class="comment">// console.log(i);</span></span></span><br><span class="line"><span class="actionscript">                <span class="comment">// 回调函数第二个参数一定是 dom 元素对象，也是自己命名</span></span></span><br><span class="line"><span class="actionscript">                <span class="comment">// console.log(domEle);  // 使用jQuery方法需要转换 $(domEle)</span></span></span><br><span class="line"><span class="javascript">                $(domEle).css(<span class="string">"color"</span>, arr[i]);</span></span><br><span class="line"><span class="javascript">                sum += <span class="built_in">parseInt</span>($(domEle).text());</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(sum);</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 2. $.each() 方法遍历元素 主要用于遍历数据，处理数据</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// $.each($("div"), function(i, ele) &#123;</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     console.log(i);</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     console.log(ele);</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// &#125;);</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// $.each(arr, function(i, ele) &#123;</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     console.log(i);</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     console.log(ele);</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="javascript">            $.each(&#123;</span></span><br><span class="line"><span class="actionscript">                name: <span class="string">"andy"</span>,</span></span><br><span class="line">                age: 18</span><br><span class="line"><span class="actionscript">            &#125;, <span class="function"><span class="keyword">function</span><span class="params">(i, ele)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(i); <span class="comment">// 输出的是 name age 属性名</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(ele); <span class="comment">// 输出的是 andy  18 属性值</span></span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="创建、添加、删除"><a href="#创建、添加、删除" class="headerlink" title="创建、添加、删除"></a>创建、添加、删除</h2><p> <code>jQuery</code>方法操作元素的<code>创建</code>、<code>添加</code>、<code>删除</code>方法很多，则重点使用部分，如下：</p><p> <strong>语法</strong><br> <img src="../image/jq18.png" alt=""><br> <img src="../image/jq19.png" alt=""><br> <img src="../image/jq20.png" alt=""><br> <img src="../image/jq21.png" alt=""></p><blockquote><p><strong>注意：</strong><br>以上只是元素的创建、添加、删除方法的常用方法，其他方法请参详API。</p></blockquote><p> <strong>案例代码</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>原先的li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test"</span>&gt;</span>我是原先的div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 1. 创建元素</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> li = $(<span class="string">"&lt;li&gt;我是后来创建的li&lt;/li&gt;"</span>);</span></span><br><span class="line">    </span><br><span class="line"><span class="actionscript">            <span class="comment">// 2. 添加元素</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 2.1 内部添加</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// $("ul").append(li);  内部添加并且放到内容的最后面 </span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">"ul"</span>).prepend(li); <span class="comment">// 内部添加并且放到内容的最前面</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//  2.2 外部添加</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> div = $(<span class="string">"&lt;div&gt;我是后妈生的&lt;/div&gt;"</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// $(".test").after(div);</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">".test"</span>).before(div);</span></span><br><span class="line">    </span><br><span class="line"><span class="actionscript">            <span class="comment">// 3. 删除元素</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// $("ul").remove(); 可以删除匹配的元素 自杀</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// $("ul").empty(); // 可以删除匹配的元素里面的子节点 孩子</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">"ul"</span>).html(<span class="string">""</span>); <span class="comment">// 可以删除匹配的元素里面的子节点 孩子</span></span></span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h1 id="jQuery-尺寸、位置操作"><a href="#jQuery-尺寸、位置操作" class="headerlink" title="jQuery 尺寸、位置操作"></a>jQuery 尺寸、位置操作</h1><p> <code>jQuery</code> 中分别为我们提供了两套快速获取和设置元素尺寸和位置的<code>API</code>，方便易用，内容如下。</p><h2 id="jQuery-尺寸操作"><a href="#jQuery-尺寸操作" class="headerlink" title="jQuery 尺寸操作"></a>jQuery 尺寸操作</h2><p>  <code>jQuery</code> 尺寸操作包括元素宽高的获取和设置，且不一样的API对应不一样的盒子模型。</p><p>  <strong>语法</strong><br>  <img src="../image/jq22.png" alt=""></p><p>  <strong>代码演示</strong><br>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 1. width() / height() 获取设置元素 width和height大小 </span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log($(<span class="string">"div"</span>).width());</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// $("div").width(300);</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 2. innerWidth() / innerHeight()  获取设置元素 width和height + padding 大小 </span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log($(<span class="string">"div"</span>).innerWidth());</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 3. outerWidth()  / outerHeight()  获取设置元素 width和height + padding + border 大小 </span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log($(<span class="string">"div"</span>).outerWidth());</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 4. outerWidth(true) / outerHeight(true) 获取设置 width和height + padding + border + margin</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log($(<span class="string">"div"</span>).outerWidth(<span class="literal">true</span>));</span></span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><blockquote><p><strong>注意：</strong><br>有了这套 <code>API</code> 我们将可以快速获取和子的宽高，至于其他属性想要获取和设置，还要使用 <code>css()</code> 等方法配合。</p></blockquote><h2 id="jQuery-位置操作"><a href="#jQuery-位置操作" class="headerlink" title="jQuery 位置操作"></a>jQuery 位置操作</h2><p> <code>jQuery</code>的位置操作主要有三个： <code>offset()</code>、<code>position()</code>、<code>scrollTop()</code>/<code>scrollLeft()</code> , 具体介绍如下: </p><p> <strong>语法：</strong><br> <img src="../image/jq23.png" alt=""><br> <img src="../image/jq24.png" alt=""><br> <img src="../image/jq25.png" alt=""></p><p> <strong>代码演示</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"father"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"son"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"back"</span>&gt;</span>返回顶部<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 1. 获取设置距离文档的位置（偏移） offset</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log($(<span class="string">".son"</span>).offset());</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log($(<span class="string">".son"</span>).offset().top);</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// $(".son").offset(&#123;</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     top: 200,</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     left: 200</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// &#125;);</span></span></span><br><span class="line">    </span><br><span class="line"><span class="actionscript">            <span class="comment">// 2. 获取距离带有定位父级位置（偏移） position   如果没有带有定位的父级，则以文档为准</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 这个方法只能获取不能设置偏移</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log($(<span class="string">".son"</span>).position());</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// $(".son").position(&#123;</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     top: 200,</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     left: 200</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// &#125;);</span></span></span><br><span class="line">    </span><br><span class="line"><span class="actionscript">            <span class="comment">// 3. 被卷去的头部</span></span></span><br><span class="line"><span class="javascript">            $(<span class="built_in">document</span>).scrollTop(<span class="number">100</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 被卷去的头部 scrollTop()  / 被卷去的左侧 scrollLeft()</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 页面滚动事件</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> boxTop = $(<span class="string">".container"</span>).offset().top;</span></span><br><span class="line"><span class="javascript">            $(<span class="built_in">window</span>).scroll(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// console.log(11);</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log($(<span class="built_in">document</span>).scrollTop());</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> ($(<span class="built_in">document</span>).scrollTop() &gt;= boxTop) &#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">".back"</span>).fadeIn();</span></span><br><span class="line"><span class="actionscript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">".back"</span>).fadeOut();</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line"><span class="actionscript">            <span class="comment">// 返回顶部</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">".back"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// $(document).scrollTop(0);</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">"body, html"</span>).stop().animate(&#123;</span></span><br><span class="line">                    scrollTop: 0</span><br><span class="line">                &#125;);</span><br><span class="line"><span class="actionscript">                <span class="comment">// $(document).stop().animate(&#123;</span></span></span><br><span class="line"><span class="actionscript">                <span class="comment">//     scrollTop: 0</span></span></span><br><span class="line"><span class="actionscript">                <span class="comment">// &#125;); 不能是文档而是 html和body元素做动画</span></span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h1 id="jQuery-事件注册"><a href="#jQuery-事件注册" class="headerlink" title="jQuery 事件注册"></a>jQuery 事件注册</h1><p> <code>jQuery</code> 为我们提供了方便的事件注册机制，是开发人员抑郁操作优缺点如下：</p><ul><li>优点: 操作简单，且不用担心事件覆盖等问题。</li><li>缺点: 普通的事件注册不能做事件委托，且无法实现事件解绑，需要借助其他方法。</li></ul><p> <strong>语法</strong><br> <img src="../image/jq26.png" alt=""></p><p> <strong>演示代码</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 1. 单个事件注册</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">"div"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).css(<span class="string">"background"</span>, <span class="string">"purple"</span>);</span></span><br><span class="line">            &#125;);</span><br><span class="line"><span class="javascript">            $(<span class="string">"div"</span>).mouseenter(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).css(<span class="string">"background"</span>, <span class="string">"skyblue"</span>);</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h1 id="jQuery-事件处理"><a href="#jQuery-事件处理" class="headerlink" title="jQuery 事件处理"></a>jQuery 事件处理</h1><p> 因为普通注册事件方法的不足，<code>jQuery</code>又开发了多个处理方法，重点讲解如下：</p><ul><li>on(): 用于事件绑定，目前最好用的事件绑定方法</li><li>off(): 事件解绑</li><li>trigger() / triggerHandler(): 事件触发</li></ul><h2 id="事件处理-on-绑定事件"><a href="#事件处理-on-绑定事件" class="headerlink" title="事件处理 on() 绑定事件"></a>事件处理 on() 绑定事件</h2><p> 因为普通注册事件方法的不足，<code>jQuery</code>又创建了多个新的事件绑定方法<code>bind()</code> / <code>live()</code>/ <code>delegate()</code> / <code>on()</code>等，其中最好用的是: <code>on()</code></p><p> <code>语法</code><br> <img src="../image/jq27.png" alt=""><br> <img src="../image/jq28.png" alt=""><br> <img src="../image/jq29.png" alt=""></p><p> <strong>演示代码</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>我们都是好孩子<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>我们都是好孩子<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>我们都是好孩子<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ol</span>&gt;</span><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// (1) on可以绑定1个或者多个事件处理程序</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// $("div").on(&#123;</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     mouseenter: function() &#123;</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//         $(this).css("background", "skyblue");</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     &#125;,</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     click: function() &#123;</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//         $(this).css("background", "purple");</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// &#125;);</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">"div"</span>).on(<span class="string">"mouseenter mouseleave"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).toggleClass(<span class="string">"current"</span>);</span></span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// (2) on可以实现事件委托（委派）</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// click 是绑定在ul 身上的，但是 触发的对象是 ul 里面的小li</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// $("ul li").click();</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">"ul"</span>).on(<span class="string">"click"</span>, <span class="string">"li"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">                alert(11);</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// (3) on可以给未来动态创建的元素绑定事件</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">"ol"</span>).on(<span class="string">"click"</span>, <span class="string">"li"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">                alert(11);</span><br><span class="line">            &#125;)</span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> li = $(<span class="string">"&lt;li&gt;我是后来创建的&lt;/li&gt;"</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"ol"</span>).append(li);</span></span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="事件处理-off-解绑事件"><a href="#事件处理-off-解绑事件" class="headerlink" title="事件处理 off() 解绑事件"></a>事件处理 off() 解绑事件</h2><p> 当某个事件上面的逻辑，在特定需求下不需要的时候，可以把该事件上的逻辑移除，这个过程我们称为事件解绑。<code>jQuery</code> 为我们提供 了多种事件解绑方法：<code>die()</code> / <code>undelegate()</code> / <code>off()</code> 等，甚至还有只触发一次的事件绑定方法 <code>one()</code>，在这里我们重点讲解一下 <code>off()</code> ;</p><p> <strong>语法</strong><br> <img src="../image/jq30.png" alt=""></p><p> <strong>演示代码</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>我们都是好孩子<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>我们都是好孩子<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>我们都是好孩子<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是一个P标签<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 事件绑定</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">"div"</span>).on(&#123;</span></span><br><span class="line"><span class="actionscript">                click: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="string">"我点击了"</span>);</span></span><br><span class="line">                &#125;,</span><br><span class="line"><span class="actionscript">                mouseover: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="string">'我鼠标经过了'</span>);</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line"><span class="javascript">            $(<span class="string">"ul"</span>).on(<span class="string">"click"</span>, <span class="string">"li"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">                alert(11);</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 1. 事件解绑 off </span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// $("div").off();  // 这个是解除了div身上的所有事件</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">"div"</span>).off(<span class="string">"click"</span>); <span class="comment">// 这个是解除了div身上的点击事件</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">"ul"</span>).off(<span class="string">"click"</span>, <span class="string">"li"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 2. one() 但是它只能触发事件一次</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">"p"</span>).one(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">                alert(11);</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="事件处理-trigger-自动触发事件"><a href="#事件处理-trigger-自动触发事件" class="headerlink" title="事件处理 trigger() 自动触发事件"></a>事件处理 trigger() 自动触发事件</h2><p> 有些时候，在某些特定的条件下，我们希望某些事件能够自动触发, 比如轮播图自动播放功能跟点击右侧按钮一致。可以利用定时器自动触发右侧按钮点击事件，不必鼠标点击触发。由此 <code>jQuery</code> 为我们提供了两个自动触发事件 <code>trigger()</code> 和 <code>triggerHandler()</code> ; </p><p> <strong>语法</strong><br> <img src="../image/jq31.png" alt=""><br> <img src="../image/jq32.png" alt=""></p><p> <strong>演示代码</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 绑定事件</span></span></span><br><span class="line"><span class="javascript">    $(<span class="string">"div"</span>).on(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        alert(11);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="comment">// 自动触发事件</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 1. 元素.事件()</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// $("div").click();会触发元素的默认行为</span></span></span><br><span class="line">    </span><br><span class="line"><span class="actionscript">    <span class="comment">// 2. 元素.trigger("事件")</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// $("div").trigger("click");会触发元素的默认行为</span></span></span><br><span class="line"><span class="javascript">    $(<span class="string">"input"</span>).trigger(<span class="string">"focus"</span>);</span></span><br><span class="line">    </span><br><span class="line"><span class="actionscript">    <span class="comment">// 3. 元素.triggerHandler("事件") 就是不会触发元素的默认行为</span></span></span><br><span class="line"><span class="javascript">    $(<span class="string">"input"</span>).on(<span class="string">"focus"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="keyword">this</span>).val(<span class="string">"你好吗"</span>);</span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="actionscript">    <span class="comment">// 一个会获取焦点，一个不会</span></span></span><br><span class="line"><span class="javascript">    $(<span class="string">"div"</span>).triggerHandler(<span class="string">"click"</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// $("input").triggerHandler("focus");</span></span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h1 id="jQuery-事件对象"><a href="#jQuery-事件对象" class="headerlink" title="jQuery 事件对象"></a>jQuery 事件对象</h1><p> <code>jQuery</code> 对<code>DOM</code>中的事件对象 <code>event</code> 进行了封装，兼容性更好，获取更方便，使用变化不大。事件被触发，就会有事件对象的产生。</p><p> <strong>语法</strong><br> <img src="../image/jq33.png" alt=""></p><p> <strong>演示代码</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="built_in">document</span>).on(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">"点击了document"</span>);</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="javascript">            $(<span class="string">"div"</span>).on(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// console.log(event);</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">"点击了div"</span>);</span></span><br><span class="line">                event.stopPropagation();</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><blockquote><p><strong>注意：</strong><br><code>jQuery</code>中的 <code>event</code> 对象使用，可以借鉴 <code>API</code> 和 <code>DOM</code>中的<code>event</code> 。</p></blockquote><h1 id="jQuery-拷贝对象"><a href="#jQuery-拷贝对象" class="headerlink" title="jQuery 拷贝对象"></a>jQuery 拷贝对象</h1><p> 如果想要把某个对象拷贝（合并）给另外一个对象使用，此时可以使用<code>$.extend()</code>方法</p><p> <strong>语法</strong><br> <img src="../image/jq34.png" alt=""></p><p> <strong>演示代码</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 1.合并数据</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> targetObj = &#123;&#125;;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> obj = &#123;</span></span><br><span class="line">            id: 1,</span><br><span class="line"><span class="actionscript">            name: <span class="string">"andy"</span></span></span><br><span class="line">        &#125;;</span><br><span class="line"><span class="actionscript">        <span class="comment">// $.extend(target, obj);</span></span></span><br><span class="line"><span class="javascript">        $.extend(targetObj, obj);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(targetObj);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// 2. 会覆盖 targetObj 里面原来的数据</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> targetObj = &#123;</span></span><br><span class="line">            id: 0</span><br><span class="line">        &#125;;</span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> obj = &#123;</span></span><br><span class="line">            id: 1,</span><br><span class="line"><span class="actionscript">            name: <span class="string">"andy"</span></span></span><br><span class="line">        &#125;;</span><br><span class="line"><span class="actionscript">        <span class="comment">// $.extend(target, obj);</span></span></span><br><span class="line"><span class="javascript">        $.extend(targetObj, obj);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(targetObj); </span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h1 id="jQuery-多库共存"><a href="#jQuery-多库共存" class="headerlink" title="jQuery 多库共存"></a>jQuery 多库共存</h1><p> 实际开发中，很多项目连续开发十多年，<code>jQuery</code>版本不断更新，最初的 <code>jQuery</code> 版本无法满足需求，这时就需要保证在旧有版本正常运行的情况下，新的功能使用新的<code>jQuery</code>版本实现，这种情况被称为，<code>jQuery</code> 多库共存</p><p> <strong>语法</strong><br> <img src="../image/jq35.png" alt=""></p><p> <strong>演示代码</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 让jquery 释放对$ 控制权 让用自己决定</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> suibian = jQuery.noConflict();</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(suibian(<span class="string">"span"</span>));</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h1 id="jQuery-插件"><a href="#jQuery-插件" class="headerlink" title="jQuery 插件"></a>jQuery 插件</h1><p> <code>jQuery</code> 功能比较有限，想要更复杂的特效效果，可以借助于 <code>jQuery</code> 插件完成。 这些插件也是依赖于<code>jQuery</code>来完成的，所以必须要先引入</p><p> <code>jQuery</code>文件，因此也称为 <code>jQuery</code> 插件。</p><p> <strong>jQuery 插件常用的网站:</strong><br> <a href="http://www.jq22.com/" target="_blank" rel="noopener">jQuery 插件库</a><br> <a href="http://www.htmleaf.com/" target="_blank" rel="noopener">jQuery 之家</a></p><p> <strong>jQuery 插件使用步骤：</strong></p><ol><li>引入相关文件。（jQuery 文件 和 插件文件）    </li><li>复制相关html、css、js (调用插件)。</li></ol>]]></content>
      
      
      <categories>
          
          <category> jquery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jquery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo</title>
      <link href="/Hexo/"/>
      <url>/Hexo/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> 技能 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 博客 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>小程序</title>
      <link href="/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
      <url>/%E5%B0%8F%E7%A8%8B%E5%BA%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="微信⼩程序介绍"><a href="#微信⼩程序介绍" class="headerlink" title="微信⼩程序介绍"></a>微信⼩程序介绍</h1><p> 微信⼩程序，简称⼩程序，英⽂名 Mini Program ，是⼀种不需要下载安装即可使⽤的应⽤，它实现 了应⽤“触⼿可及”的梦想，⽤⼾扫⼀扫或搜⼀下即可打开应⽤</p><h1 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h1><p> 开发微信⼩程序之前，必须要准备好相应的环境</p><h2 id="注册账号"><a href="#注册账号" class="headerlink" title="注册账号"></a>注册账号</h2><p> 建议使用全新的邮箱，没有注册过其他小程序或者公众号的。访问<a href="https://mp.weixin.qq.com/wxopen/waregister?action=step1" target="_blank" rel="noopener">注册⻚⾯</a>耐⼼完成注册即可。</p><h2 id="获取APPID"><a href="#获取APPID" class="headerlink" title="获取APPID"></a>获取APPID</h2><p> 由于后期调⽤微信⼩程序的接⼝等功能，需要索取开发者的⼩程序中的 APPID ，所以在注册成功后， 可登录，然后获取APPID。</p><p> <a href="https://mp.weixin.qq.com/wxamp/home/guide?lang=zh_CN&token=1571393054" target="_blank" rel="noopener">登录</a>，成功后可看到如下界⾯</p><p> 然后复制你的APPID,悄悄的保存起来，不要给别⼈看到😄。<br> <img src="../image/xiao1.png" alt=""><br> <img src="../image/xiao2.png" alt=""></p><h2 id="开发⼯具"><a href="#开发⼯具" class="headerlink" title="开发⼯具"></a>开发⼯具</h2><p> <a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html" target="_blank" rel="noopener">下载地址</a></p><p> <img src="../image/xiao3.png" alt=""><br> 微信⼩程序⾃带开发者⼯具，集 <code>开发</code> <code>预览</code> <code>调试</code> <code>发布</code> 于⼀⾝的 完整环境。</p><p> 但是由于编码的体验不算好，因此 建议使⽤ <code>vs code</code> + <code>微信小程序编辑工具</code> 来实现编码</p><p> <code>vs code</code> 负责敲代码， <code>微信编辑工具</code>负责预览</p><h1 id="第⼀个微信⼩程序"><a href="#第⼀个微信⼩程序" class="headerlink" title="第⼀个微信⼩程序"></a>第⼀个微信⼩程序</h1><h2 id="打开微信开发者⼯具"><a href="#打开微信开发者⼯具" class="headerlink" title="打开微信开发者⼯具"></a>打开微信开发者⼯具</h2><p> 注意 第⼀次登录的时候 需要扫码登录<br> <img src="../image/xiao4.png" alt=""></p><h2 id="新建⼩程序项⽬"><a href="#新建⼩程序项⽬" class="headerlink" title="新建⼩程序项⽬"></a>新建⼩程序项⽬</h2><p> <img src="../image/xiao5.png" alt=""></p><h2 id="填写项⽬信息"><a href="#填写项⽬信息" class="headerlink" title="填写项⽬信息"></a>填写项⽬信息</h2><p> <img src="../image/xiao6.png" alt=""></p><h2 id="成功"><a href="#成功" class="headerlink" title="成功"></a>成功</h2><p> <img src="../image/xiao3.png" alt=""></p><h1 id="微信开发者⼯具介绍"><a href="#微信开发者⼯具介绍" class="headerlink" title="微信开发者⼯具介绍"></a>微信开发者⼯具介绍</h1><p> 详细的使⽤，可以查看<a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/devtools.html" target="_blank" rel="noopener">官⽹</a></p><p> <img src="../image/xiao7.png" alt=""></p><h1 id="⼩程序结构⽬录"><a href="#⼩程序结构⽬录" class="headerlink" title="⼩程序结构⽬录"></a>⼩程序结构⽬录</h1><p> <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/MINA.html" target="_blank" rel="noopener">⼩程序框架</a>的⽬标是通过尽可能简单、⾼效的⽅式让开发者可以在微信中开发具有原⽣ <code>APP</code> 体验的服务。</p><p> ⼩程序框架提供了⾃⼰的视图层描述语⾔ <code>WXML</code> 和 <code>WXSS</code> ，以及 <code>JavaScript</code> ，并在视图层与逻辑层间提供了数据传输和事件系统，让开发者能够专注于数据与逻辑。</p><h2 id="⼩程序⽂件结构和传统web对⽐"><a href="#⼩程序⽂件结构和传统web对⽐" class="headerlink" title="⼩程序⽂件结构和传统web对⽐"></a>⼩程序⽂件结构和传统web对⽐</h2><table><thead><tr><th>结构</th><th>传统web</th><th>微信小程序</th></tr></thead><tbody><tr><td>结构</td><td>HTML</td><td>WXML</td></tr><tr><td>样式</td><td>CSS</td><td>WXSS</td></tr><tr><td>逻辑</td><td>Javascript</td><td>Javascript</td></tr><tr><td>配置</td><td>无</td><td>JSON</td></tr></tbody></table><p> 通过以上对⽐得出，传统web 是三层结构。⽽微信⼩程序 是四层结构，多了⼀层 配置<code>.json</code></p><h2 id="基本的项⽬⽬录"><a href="#基本的项⽬⽬录" class="headerlink" title="基本的项⽬⽬录"></a>基本的项⽬⽬录</h2><p> <img src="../image/xiao8.png" alt=""></p><h1 id="⼩程序配置⽂件"><a href="#⼩程序配置⽂件" class="headerlink" title="⼩程序配置⽂件"></a>⼩程序配置⽂件</h1><p>⼀个⼩程序应⽤程序会包括最基本的两种配置⽂件。⼀种是全局的 <code>app.json</code> 和 ⻚⾯⾃⼰的<code>page.json</code></p><blockquote><p>注意：配置文件中不能出现注释</p></blockquote><h2 id="全局配置-app-json"><a href="#全局配置-app-json" class="headerlink" title="全局配置 app.json"></a><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html" target="_blank" rel="noopener">全局配置 app.json</a></h2><p> <code>app.json</code> 是当前⼩程序的全局配置，包括了⼩程序的所有⻚⾯路径、界⾯表现、⽹络超时时间、底 部 <code>tab</code> 等。普通快速启动项⽬⾥边的 <code>app.json</code> 配置<br> <img src="../image/xiao9.png" alt=""><br> 字段的含义</p><ol><li><code>pages</code> 字段⸺⽤于描述当前⼩程序所有⻚⾯路径，这是为了让微信客⼾端知道当前你的⼩程序 ⻚⾯定义在哪个⽬录。</li><li><code>window</code> 字段⸺定义⼩程序所有⻚⾯的顶部背景颜⾊，⽂字颜⾊定义等。</li><li>完整的配置信息请参考 <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html" target="_blank" rel="noopener">app.json配置</a></li></ol><h3 id="tabbar"><a href="#tabbar" class="headerlink" title="tabbar"></a><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#tabBar" target="_blank" rel="noopener">tabbar</a></h3><p> <img src="../image/xiao10.png" alt=""></p><h2 id="⻚⾯配置-page-json"><a href="#⻚⾯配置-page-json" class="headerlink" title="⻚⾯配置 page.json"></a><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html" target="_blank" rel="noopener">⻚⾯配置 page.json</a></h2><p> 这⾥的 <code>page.json</code> 其实⽤来表⽰⻚⾯⽬录下的 <code>page.json</code> 这类和⼩程序⻚⾯相关的配置。 开发者可以独⽴定义每个⻚⾯的⼀些属性，如顶部颜⾊、是否允许下拉刷新等等。</p><p> ⻚⾯的配置只能设置 <code>app.json</code> 中部分 <code>window</code> 配置项的内容，⻚⾯中配置项会覆盖 <code>app.json</code>的 <code>window</code> 中相同的配置项。<br> <img src="../image/xiao11.png" alt=""></p><h2 id="sitemap-配置-了解即可"><a href="#sitemap-配置-了解即可" class="headerlink" title="sitemap 配置-了解即可"></a><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html" target="_blank" rel="noopener">sitemap 配置-了解即可</a></h2><p> ⼩程序根⽬录下的 <code>sitemap.json</code> ⽂件⽤于配置⼩程序及其⻚⾯是否允许被微信索引。</p><h1 id="模板语法"><a href="#模板语法" class="headerlink" title="模板语法"></a>模板语法</h1><p> WXML（WeiXin Markup Language）是框架设计的⼀套标签语⾔，结合<a href="https://developers.weixin.qq.com/miniprogram/dev/component/" target="_blank" rel="noopener">基础组件</a>、<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html" target="_blank" rel="noopener">事件系统</a>，可以构 建出⻚⾯的结构。</p><h2 id="数据绑定"><a href="#数据绑定" class="headerlink" title="数据绑定"></a>数据绑定</h2><h3 id="普通写法"><a href="#普通写法" class="headerlink" title="普通写法"></a>普通写法</h3><ul><li><code>text</code> 相当于以前<code>web</code>中的 <code>span</code>标签 行内元素  不会换行</li><li><code>view</code> 相当于以前<code>web</code>中的 <code>div</code>标签 块级元素  会换行<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;view&gt; &#123;&#123; message &#125;&#125; &lt;<span class="regexp">/view&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line"> data: &#123;</span><br><span class="line">   message: <span class="string">'Hello MINA!'</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><h3 id="组件属性"><a href="#组件属性" class="headerlink" title="组件属性"></a>组件属性</h3>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;view id=<span class="string">"item-&#123;&#123;id&#125;&#125;"</span>&gt; &lt;<span class="regexp">/view&gt;</span></span><br></pre></td></tr></table></figure> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line"> data: &#123;</span><br><span class="line">   id: <span class="number">0</span></span><br><span class="line"> &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="bool类型"><a href="#bool类型" class="headerlink" title="bool类型"></a>bool类型</h3><p> 不要直接写 checked=false，其计算结果是⼀个字符串<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;checkbox checked=<span class="string">"&#123;&#123;false&#125;&#125;"</span>&gt; &lt;<span class="regexp">/checkbox&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h2><h3 id="三元运算"><a href="#三元运算" class="headerlink" title="三元运算"></a>三元运算</h3> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;view hidden=<span class="string">"&#123;&#123;flag ? true : false&#125;&#125;"</span>&gt; Hidden &lt;<span class="regexp">/view&gt;</span></span><br></pre></td></tr></table></figure><h3 id="算数运算"><a href="#算数运算" class="headerlink" title="算数运算"></a>算数运算</h3> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;view&gt; &#123;&#123;a + b&#125;&#125; + &#123;&#123;c&#125;&#125; + d &lt;<span class="regexp">/view&gt;</span></span><br></pre></td></tr></table></figure> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line"> data: &#123;</span><br><span class="line">   a: <span class="number">1</span>,</span><br><span class="line">   b: <span class="number">2</span>,</span><br><span class="line">   c: <span class="number">3</span></span><br><span class="line"> &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="逻辑判断"><a href="#逻辑判断" class="headerlink" title="逻辑判断"></a>逻辑判断</h3> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;view wx:<span class="keyword">if</span>=<span class="string">"&#123;&#123;length &gt; 5&#125;&#125;"</span>&gt; &lt;<span class="regexp">/view&gt;</span></span><br></pre></td></tr></table></figure><h3 id="字符串运算"><a href="#字符串运算" class="headerlink" title="字符串运算"></a>字符串运算</h3> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;view&gt;&#123;&#123;<span class="string">"hello"</span> + name&#125;&#125;&lt;<span class="regexp">/view&gt;</span></span><br></pre></td></tr></table></figure> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line"> data:&#123;</span><br><span class="line">   name: <span class="string">'MINA'</span></span><br><span class="line"> &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h2><h3 id="wx-for"><a href="#wx-for" class="headerlink" title="wx:for"></a>wx:for</h3><h4 id="列表循环"><a href="#列表循环" class="headerlink" title="列表循环"></a>列表循环</h4><ol><li><code>wx:for=&quot;&quot;</code>  <code>wx:for-item=&quot;循环项的名称&quot;</code>  <code>wx:for-index=&quot;循环项的索引&quot;</code></li><li><code>wx:key=&quot;唯一的值&quot;</code> 用来提高列表渲染的性能<ul><li><code>wx:key</code> 绑定一个普通的字符串的时候 那么这个字符串名称 肯定是 循环数组 中的 对象的 唯一属性</li><li><code>wx:key =&quot;*this&quot;</code>  就表示 你的数组 是一个普通的数组  <code>*this</code> 表示是 循环项<br><code>[1,2,3,44,5]</code><br><code>[&quot;1&quot;,&quot;222&quot;,&quot;adfdf&quot;]</code></li></ul></li><li>当出现 数组的嵌套循环的时候 尤其要注意  以下绑定的名称 不要重名<pre><code>`wx:for-item=&quot;item&quot;` `wx:for-index=&quot;index&quot;`</code></pre></li><li>默认情况下 我们 不写 <code>wx:for-item=&quot;item&quot;</code> <code>wx:for-index=&quot;index&quot;</code><br>小程序也会把 循环项的名称 和 索引的名称设置为 <code>item</code> 和<code>index</code><br>只有一层循环的话 （<code>wx:for-item=&quot;item&quot;</code> <code>wx:for-index=&quot;index&quot;</code>） 可以省略<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> &lt;view&gt;</span><br><span class="line">   &lt;view </span><br><span class="line">   wx:<span class="keyword">for</span>=<span class="string">"&#123;&#123;list&#125;&#125;"</span></span><br><span class="line">   wx:<span class="keyword">for</span>-item=<span class="string">"item"</span></span><br><span class="line">   wx:<span class="keyword">for</span>-index=<span class="string">"index"</span></span><br><span class="line">   wx:key=<span class="string">"id"</span></span><br><span class="line">   &gt;</span><br><span class="line">     索引：&#123;&#123;index&#125;&#125;</span><br><span class="line">     --</span><br><span class="line">     值:&#123;&#123;item.name&#125;&#125;</span><br><span class="line">   &lt;<span class="regexp">/view&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>view&gt;</span><br></pre></td></tr></table></figure></li></ol><h4 id="对象循环"><a href="#对象循环" class="headerlink" title="对象循环"></a>对象循环</h4><ol><li><code>wx:for=&quot;&quot;</code> <code>wx:for-item=&quot;对象的值&quot;</code>  <code>wx:for-index=&quot;对象的属性&quot;</code></li><li>循环对象的时候 最好把 <code>item</code>和<code>index</code>的名称都修改一下<br><code>wx:for-item=&quot;value&quot;</code>  <code>wx:for-index=&quot;key&quot;</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;view </span><br><span class="line">wx:<span class="keyword">for</span>=<span class="string">"&#123;&#123;person&#125;&#125;"</span></span><br><span class="line">wx:<span class="keyword">for</span>-item=<span class="string">"value"</span></span><br><span class="line">wx:<span class="keyword">for</span>-index=<span class="string">"key"</span></span><br><span class="line">wx:key=<span class="string">"age"</span></span><br><span class="line">&gt;</span><br><span class="line">  索引：&#123;&#123;key&#125;&#125;</span><br><span class="line">  值: &#123;&#123;value&#125;&#125;</span><br><span class="line">&lt;<span class="regexp">/view&gt;</span></span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 小程序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TypeScript</title>
      <link href="/TypeScript/"/>
      <url>/TypeScript/</url>
      
        <content type="html"><![CDATA[<h1 id="什么是TypeScript"><a href="#什么是TypeScript" class="headerlink" title="什么是TypeScript"></a>什么是TypeScript</h1><p> <code>TypeScript</code>是 <code>Javascript</code><strong>类型</strong>的<strong>超集</strong>，它可以编译成纯 <code>Javascript</code>, <code>TypeScript</code>可以在任何浏览器、任何计算机和任何操作系统上运行，并且是开源的</p><ol><li>类型：这里的类型机制是指<strong>静态类型</strong><ul><li>在<code>javaScript</code>中的类型机制是<strong>动态类型</strong>，定义完类型，在后面的代码中可以更改类型<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">123</span></span><br><span class="line">a = <span class="string">'123'</span> <span class="comment">// 不会报错</span></span><br></pre></td></tr></table></figure></li><li><code>TypeScript</code>与<code>javaScript</code>有所不同，类型机制是<strong>静态类型</strong>，一旦定义完类型，将无法改变其类型。<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> b = <span class="number">1</span></span><br><span class="line">b = <span class="string">'1'</span> <span class="comment">// 代码报错</span></span><br></pre></td></tr></table></figure></li></ul></li><li>超集<br><code>TypeScript</code>是<code>javaScript</code>的超集，<code>TypeScript</code>不但包含<code>javaScript</code>的语法特性，而且还延伸出了自己的语法特性。<blockquote><p><strong>注意</strong><br><code>TypeScript</code>不能直接在浏览器中运行，需要编译成<code>javaScript</code>，浏览器才能识别</p></blockquote></li></ol><h1 id="TypeScript的安装与环境的搭建"><a href="#TypeScript的安装与环境的搭建" class="headerlink" title="TypeScript的安装与环境的搭建"></a>TypeScript的安装与环境的搭建</h1><ol><li>TypeScript安装<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g typescript</span><br></pre></td></tr></table></figure></li><li>编译<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tsc helloworld.ts</span><br><span class="line">node helloworld.js</span><br></pre></td></tr></table></figure></li><li>安装工具简化便于过程<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g ts-node</span><br></pre></td></tr></table></figure><ul><li>这样我们就可以这样编译<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ts-node helloworld.ts</span><br></pre></td></tr></table></figure></li><li>还是不够简洁<br>推荐在<code>vscode</code>编译器中安装<code>Code Runner</code>插件，直接右键，<code>Run Code</code>执行代码</li></ul></li></ol><h1 id="静态类型的深入理解"><a href="#静态类型的深入理解" class="headerlink" title="静态类型的深入理解"></a>静态类型的深入理解</h1><p> 静态类型不仅规定了这个变量的类型(类型一旦规定，将无法改变)，而且这个变量将具备这个类型所有的属性和方法<br> <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a: <span class="built_in">number</span> = <span class="number">1</span> <span class="comment">// 规定了a的类型，并且a具有number的所有属性和方法</span></span><br></pre></td></tr></table></figure></p><h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p> <code>TypeScript</code> 的类型分为两种：<code>原始数据</code>类型（Primitive data types）和<code>对象类型</code>（Object types）。</p><h3 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h3><p>  基本数据类型包括：<code>布尔值</code>、<code>数值</code>、<code>字符串</code>、<code>null</code>、<code>undefined</code>以及 ES6 中的新类型 <code>Symbol</code>和<code>void</code>。</p><ol><li><strong>boolean</strong><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isDone: <span class="built_in">boolean</span> = <span class="literal">false</span></span><br></pre></td></tr></table></figure></li><li><strong>number</strong><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a: <span class="built_in">number</span> = <span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 当变量采用两句话声明时，ts无法自动推断出类型</span></span><br><span class="line"><span class="keyword">let</span> count: <span class="built_in">number</span> </span><br><span class="line">count = <span class="number">123</span> <span class="comment">//count为number类型</span></span><br></pre></td></tr></table></figure></li><li><strong>string</strong><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> username: <span class="built_in">string</span> = <span class="string">'wormnimaya'</span></span><br></pre></td></tr></table></figure></li><li><strong>undefined</strong><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> u: <span class="literal">undefined</span> = <span class="literal">undefined</span></span><br></pre></td></tr></table></figure></li><li><strong>null</strong><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> n: <span class="literal">null</span> = <span class="literal">null</span></span><br></pre></td></tr></table></figure></li><li><strong>void</strong><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'hello'</span>)</span><br><span class="line">&#125;</span><br><span class="line">sayHello()</span><br></pre></td></tr></table></figure></li><li><strong>|</strong><br>可以通过<code>|</code>来规定变量有多种静态类型<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> temp: <span class="built_in">number</span> | <span class="built_in">string</span> = <span class="number">124</span></span><br><span class="line">temp = <span class="string">'str'</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="对象类型"><a href="#对象类型" class="headerlink" title="对象类型"></a>对象类型</h3><p> 基本数据类型包括：<code>对象</code>，<code>数组</code>，<code>类</code>，<code>函数</code></p><ol><li><strong>对象</strong><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> teacher: &#123;</span><br><span class="line">  name: <span class="built_in">string</span>,</span><br><span class="line">  age: <span class="built_in">number</span></span><br><span class="line">&#125; = &#123;</span><br><span class="line">  name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">  age: <span class="number">12</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><strong>数组</strong><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a: <span class="built_in">number</span>[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br></pre></td></tr></table></figure></li><li><strong>函数</strong><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getTotal: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">number</span> = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">123</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以为数组指定返回值</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">firstNumber: <span class="built_in">number</span>, secondNumber: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> firstNumber + secondNumber</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> total = add(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数无返回值</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'hello'</span>)</span><br><span class="line">&#125;</span><br><span class="line">sayHello()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数永远执行不完</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">errorEmitter</span>(<span class="params"></span>): <span class="title">never</span> </span>&#123;</span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解构赋值传参</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">&#123; first, second &#125;: &#123; first: <span class="built_in">number</span>, second: <span class="built_in">number</span> &#125;</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> first + second</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(add(&#123; first: <span class="number">1</span>, second: <span class="number">2</span> &#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 声明函数的两种定义方法：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 第一种</span></span><br><span class="line"><span class="keyword">const</span> func = (str: <span class="built_in">string</span>) :<span class="function"><span class="params">number</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">parseInt</span>(str,<span class="number">10</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> total = func(<span class="string">'ha'</span>) <span class="comment">// total number类型</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> func = <span class="function">(<span class="params">str: <span class="built_in">string</span></span>) =&gt;</span> &#123; <span class="comment">// 这里的number可以省略，函数自己能够推断出类型</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">parseInt</span>(str,<span class="number">10</span>) </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> total = func(<span class="string">'ha'</span>) <span class="comment">// total number类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//第二种</span></span><br><span class="line"><span class="keyword">const</span> func1: <span class="function">(<span class="params">str: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">number</span> = <span class="function">(<span class="params">str</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">parseInt</span>(str, <span class="number">10</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> total = func1(<span class="string">'ha'</span>)</span><br></pre></td></tr></table></figure></li><li><strong>类</strong><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Person&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dell: Person = <span class="keyword">new</span> Person()</span><br></pre></td></tr></table></figure></li></ol><h2 id="类型的注解和类型的推断"><a href="#类型的注解和类型的推断" class="headerlink" title="类型的注解和类型的推断"></a>类型的注解和类型的推断</h2><p> 如果<code>TS</code>能够自动分析变量类型，我们就什么也不需要做了，如果<code>TS</code>无法分析变量类型的话，我们就需要使用类型注解</p><ol><li><strong>type annotation 类型注解</strong><br><code>type annotation</code>类型注解，我们来告诉<code>TS</code>变量是什么类型，<strong>大部分用在函数的形参上</strong><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">getToal</span>(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(getToal(<span class="number">1</span>, <span class="number">2</span>));</span><br></pre></td></tr></table></figure></li><li><strong>type inference类型推断</strong><br><code>type inference</code>类型推断，<code>TS</code>会自动的去尝试分析变量的类型, <strong>用于大部分的基本数据类型</strong><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">123</span></span><br><span class="line"><span class="keyword">let</span> username = <span class="string">'wormnimaya'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> firstNumber = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> secondNumber = <span class="number">2</span></span><br><span class="line"><span class="keyword">let</span> total = firstNumber + sencondNumber</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'dell'</span>,</span><br><span class="line">  age: <span class="string">'18'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="数组和元组"><a href="#数组和元组" class="headerlink" title="数组和元组"></a>数组和元组</h2><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// (string | number) [] 代表数组每个元素式string类型或number类型</span></span><br><span class="line"><span class="keyword">const</span> arr:(<span class="built_in">string</span> | <span class="built_in">number</span>) [] = [<span class="number">1</span>, <span class="string">'a'</span>, <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// string[] 代表数组每个元素式string类型</span></span><br><span class="line"><span class="keyword">const</span> stringArr: <span class="built_in">string</span>[] = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 数组中每个都是这个类型的对象</span></span><br><span class="line"><span class="comment">//第一种写法：</span></span><br><span class="line"><span class="keyword">const</span> objectArr: &#123; name: <span class="built_in">string</span>, age: <span class="built_in">number</span> &#125;[] = [</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">    age: <span class="number">22</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二种 type alias 类型别名</span></span><br><span class="line"><span class="keyword">type</span> User = &#123; name: <span class="built_in">string</span>, age: <span class="built_in">number</span> &#125;</span><br><span class="line"><span class="keyword">const</span> objectArr: User[] = [</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">    age: <span class="number">22</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 数组中每个都是这个类型的对象</span></span><br><span class="line"><span class="keyword">class</span> Teacher &#123;</span><br><span class="line">  name: <span class="built_in">string</span></span><br><span class="line">  age: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> objectArr: Teacher[] = [</span><br><span class="line">  <span class="keyword">new</span> Teacher(),</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">    age: <span class="number">22</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li></ol><h3 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h3><p> 元组就是有<code>固定长度</code>，并且每个元素有<code>固定的静态类型</code>的数组<br> <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 元组 tuple</span></span><br><span class="line"> <span class="keyword">const</span> teacherInfo: [<span class="built_in">string</span>, <span class="built_in">string</span>, <span class="built_in">number</span>] = [<span class="string">'wormnimaya'</span>, <span class="string">'male'</span>, <span class="number">22</span>]</span><br><span class="line"></span><br><span class="line"> <span class="keyword">const</span> teacherList: [<span class="built_in">string</span>, <span class="built_in">string</span>, <span class="built_in">number</span>] [] = [</span><br><span class="line">   [<span class="string">'dell'</span>, <span class="string">'male'</span>, <span class="number">22</span>],</span><br><span class="line">   [<span class="string">'wormnimaya'</span>, <span class="string">'male'</span>, <span class="number">21</span>],</span><br><span class="line">   [<span class="string">'jack'</span>, <span class="string">'male'</span>, <span class="number">12</span>],</span><br><span class="line"> ]</span><br></pre></td></tr></table></figure></p><h1 id="interface"><a href="#interface" class="headerlink" title="interface"></a>interface</h1><h2 id="用interface来进行类型规范的检验"><a href="#用interface来进行类型规范的检验" class="headerlink" title="用interface来进行类型规范的检验"></a>用<code>interface</code>来进行类型规范的检验</h2><ol><li><strong><code>interface</code>定义对象规范</strong><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">  <span class="comment">// redonly name: string 这个redonly属性的意思是只能读不能写</span></span><br><span class="line">  name: <span class="built_in">string</span> <span class="comment">// 对象中必须含有 name 属性</span></span><br><span class="line">  age?: <span class="built_in">number</span> <span class="comment">// 可以 含有也可以不含有 age 属性</span></span><br><span class="line">  [propName: <span class="built_in">string</span>]: <span class="built_in">any</span> <span class="comment">// 对象中可以添加string类型的任意名称的 属性名 属性值任意类型</span></span><br><span class="line">  say(): <span class="built_in">string</span> <span class="comment">// 方法必须返回string类型的数组</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> getPersonName = (person: Person): <span class="function"><span class="params">void</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(person.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">  sex: <span class="string">'male'</span>,</span><br><span class="line">  say() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'hello'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">getPersonName(person)</span><br></pre></td></tr></table></figure></li><li><strong>在<code>class</code>类中应用<code>interface</code></strong><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">   <span class="comment">// redonly name: string 这个redonly属性的意思是只能读不能写</span></span><br><span class="line">   name: <span class="built_in">string</span> <span class="comment">// 对象中必须含有 name 属性</span></span><br><span class="line">   age?: <span class="built_in">number</span> <span class="comment">// 可以 含有也可以不含有 age 属性</span></span><br><span class="line">   [propName: <span class="built_in">string</span>]: <span class="built_in">any</span> <span class="comment">// 对象中可以添加string类型的任意名称的 属性名 属性值任意类型</span></span><br><span class="line">   say(): <span class="built_in">string</span> <span class="comment">// 方法必须返回string类型的数组</span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> User <span class="keyword">implements</span> Person &#123;</span><br><span class="line">   name: <span class="string">'wormnimaya'</span></span><br><span class="line">   grade: <span class="number">95</span></span><br><span class="line">   say() &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="string">'123'</span></span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></li><li><strong><code>interface</code>的继承</strong><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">   name: <span class="built_in">string</span> <span class="comment">// 对象中必须含有 name 属性</span></span><br><span class="line">   age?: <span class="built_in">number</span> <span class="comment">// 可以 含有也可以不含有 age 属性</span></span><br><span class="line">   [propName: <span class="built_in">string</span>]: <span class="built_in">any</span> <span class="comment">// 对象中可以添加string类型的任意名称的 属性名 属性值任意类型</span></span><br><span class="line">   say(): <span class="built_in">string</span> <span class="comment">// 方法必须返回string类型的数组</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">interface</span> Teacher <span class="keyword">extends</span> Person &#123;</span><br><span class="line">   sayHello(): <span class="built_in">string</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">const</span> getPersonName = (person: Teacher): <span class="function"><span class="params">void</span> =&gt;</span> &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(person.name);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">const</span> person = &#123;</span><br><span class="line">   name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">   sex: <span class="string">'male'</span>,</span><br><span class="line">   say() &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="string">'hello'</span></span><br><span class="line">   &#125;,</span><br><span class="line">   sayHello() &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="string">'hello world'</span></span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> getPersonName(person)</span><br></pre></td></tr></table></figure></li><li><strong><code>interface</code>应用于函数</strong><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> SayHi &#123;</span><br><span class="line">   (word: <span class="built_in">string</span>): <span class="built_in">string</span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> func: SayHi = <span class="function">(<span class="params">word: <span class="built_in">string</span></span>) =&gt;</span> &#123;</span><br><span class="line">   <span class="keyword">return</span> word</span><br><span class="line"> &#125;</span><br><span class="line"><span class="built_in">console</span>.log(func(<span class="string">'hi'</span>))</span><br></pre></td></tr></table></figure><h2 id="interface和type-alias的区别"><a href="#interface和type-alias的区别" class="headerlink" title="interface和type alias的区别"></a><strong>interface和type alias的区别</strong></h2><code>type alias</code>可以声明基本类型，但是<code>interface</code>不可以，在<code>typescript</code>的规范当中能用<code>interface</code>表述类型就用<code>interface</code>，<code>interface</code>表述不出来才用<code>type</code><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Person = <span class="built_in">string</span></span><br></pre></td></tr></table></figure></li></ol><h1 id="class类"><a href="#class类" class="headerlink" title="class类"></a>class类</h1><h2 id="class类定义与继承"><a href="#class类定义与继承" class="headerlink" title="class类定义与继承"></a>class类定义与继承</h2><ol><li><strong>类的定义</strong><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Person &#123;</span><br><span class="line">   name = <span class="string">'wormnimaya'</span></span><br><span class="line">   getName() &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">this</span>.name</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> person = <span class="keyword">new</span> Person()</span><br><span class="line"><span class="built_in">console</span>.log(person.getName());</span><br></pre></td></tr></table></figure></li><li><strong>类的继承</strong><br>子类继承父类后，<code>子类</code>有父类的<code>所有方法和属性</code>，同时子类还可以<code>重写父类的方法</code>，重写父类的方法后可以利用<code>super调用</code>父类被重写的方法。<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">class</span> Person &#123;</span><br><span class="line">    name = <span class="string">'wormnimaya'</span></span><br><span class="line">    getName() &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.name</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> Teacher <span class="keyword">extends</span> Person &#123;</span><br><span class="line">  getTeacher() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'my teacher'</span></span><br><span class="line">  &#125;</span><br><span class="line">  getName() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'我重写了父类的方法'</span> + <span class="keyword">super</span>.getName()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> teacher = <span class="keyword">new</span> Teacher()</span><br><span class="line"><span class="built_in">console</span>.log(teacher.getName());</span><br><span class="line"><span class="built_in">console</span>.log(teacher.getTeacher());</span><br></pre></td></tr></table></figure></li></ol><h2 id="类的访问类型"><a href="#类的访问类型" class="headerlink" title="类的访问类型"></a>类的访问类型</h2><p> <code>private</code>, <code>protected</code>, <code>public</code>访问类型</p><ul><li><code>public</code>允许我在类的内外被调用</li><li><code>private</code>允许在类内被使用</li><li><code>protected</code>允许在类内及继承的子类中使用<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Person &#123;</span><br><span class="line">   <span class="keyword">private</span> name = <span class="string">'wormnimaya'</span></span><br><span class="line">   <span class="keyword">protected</span> age = <span class="number">22</span></span><br><span class="line">   <span class="keyword">public</span> getName() &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">this</span>.name</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">class</span> Student <span class="keyword">extends</span> Person &#123;</span><br><span class="line">   say() &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">this</span>.age <span class="comment">// protected定义的属性子类和自身能够访问和使用</span></span><br><span class="line">     <span class="keyword">this</span>.getName() <span class="comment">// public 定义的属性允许我在类的内外被调用和子类中使用</span></span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">const</span> person = <span class="keyword">new</span> Person()</span><br><span class="line"> <span class="comment">// person.name 属性name定义了private只能在类的内部访问和使用</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="constructor构造器"><a href="#constructor构造器" class="headerlink" title="constructor构造器"></a>constructor构造器</h2><p> <strong><code>super</code>可以调用父类的方法，也可以调用<code>父类的构造器</code>向父类传值</strong><br> <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Person &#123;</span><br><span class="line">   <span class="comment">// 传统写法</span></span><br><span class="line">   <span class="comment">// public name: string</span></span><br><span class="line">   <span class="comment">// constructor(name: string) &#123;</span></span><br><span class="line">   <span class="comment">//   this.name = name</span></span><br><span class="line">   <span class="comment">// &#125;</span></span><br><span class="line">   <span class="keyword">constructor</span>(<span class="params"><span class="keyword">public</span> name: <span class="built_in">string</span></span>) &#123;&#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">const</span> person = <span class="keyword">new</span> Person(<span class="string">'wormnimaya'</span>)</span><br><span class="line"> <span class="built_in">console</span>.log(person.name)</span><br></pre></td></tr></table></figure><br> <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Person &#123;</span><br><span class="line">   <span class="keyword">constructor</span>(<span class="params"><span class="keyword">public</span> name: <span class="built_in">string</span></span>) &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> Teacher <span class="keyword">extends</span> Person &#123;</span><br><span class="line">   <span class="keyword">constructor</span>(<span class="params"><span class="keyword">public</span> name: <span class="built_in">string</span>, <span class="keyword">public</span> age: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">     <span class="keyword">super</span>(name) <span class="comment">// 在子类的构造其中必须调用super(), 不管是否需要传参</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> teacher = <span class="keyword">new</span> Teacher(<span class="string">'wormnimaya'</span>, <span class="number">22</span>)</span><br><span class="line"><span class="built_in">console</span>.log(teacher.name)</span><br><span class="line"><span class="built_in">console</span>.log(teacher.age)</span><br></pre></td></tr></table></figure></p><h2 id="setter和getter"><a href="#setter和getter" class="headerlink" title="setter和getter"></a>setter和getter</h2><p> 外部无法访问private定义的内容，可以通过setter和getter来实现<br> <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Person &#123;</span><br><span class="line">   <span class="keyword">constructor</span>(<span class="params"><span class="keyword">private</span> _name: <span class="built_in">string</span></span>)&#123;&#125;</span><br><span class="line">   <span class="keyword">get</span> name() &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">this</span>._name</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">set</span> name(name: <span class="built_in">string</span>) &#123;</span><br><span class="line">     <span class="keyword">this</span>._name = name</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">const</span> person = <span class="keyword">new</span> Person(<span class="string">'wormnimya'</span>)</span><br><span class="line"> <span class="built_in">console</span>.log(person.name)</span><br><span class="line"> person.name = <span class="string">'xiaoming'</span></span><br><span class="line"> <span class="built_in">console</span>.log(person.name)</span><br></pre></td></tr></table></figure></p><h2 id="利用static实现单例模式"><a href="#利用static实现单例模式" class="headerlink" title="利用static实现单例模式"></a>利用static实现单例模式</h2><p>  在<code>TypeScript</code>中与<code>ES6</code>不同，<code>ES6</code>只能用<code>static</code>修饰方法，不能修饰属性，<code>TypeScrip</code>t中<code>static</code>既能修饰方法又能修饰属性<br>  <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Demo &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> instance: Demo</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">constructor</span>(<span class="params"><span class="keyword">public</span> name: <span class="built_in">string</span></span>) &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> getInstance() &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.instance) &#123;</span><br><span class="line">      <span class="keyword">this</span>.instance = <span class="keyword">new</span> Demo(<span class="string">'wormnimaya'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.instance</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> demo = Demo.getInstance()</span><br><span class="line"><span class="built_in">console</span>.log(demo.name)</span><br></pre></td></tr></table></figure></p><h2 id="abstract"><a href="#abstract" class="headerlink" title="abstract"></a>abstract</h2><p> 可以把<code>类中公共的部分定义</code>在<code>抽象类中</code>，抽象类不能通过<code>new</code>关键字来创建实例，只能<code>进行类的继承</code>，抽象类也可以有自己的<code>属性</code>和<code>方法</code>，如果在抽象类的方法前面加上关键字<code>abstract</code>，表明这个方法是<code>抽象方法</code>，具体实现由<code>被继承的类实现</code><br> <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> shape &#123;</span><br><span class="line">   <span class="keyword">constructor</span>(<span class="params">width: <span class="built_in">number</span></span>) &#123;&#125;</span><br><span class="line">   getType() &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="string">'shape'</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">abstract</span> getArea(): <span class="built_in">number</span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">class</span> Circle <span class="keyword">extends</span> shape &#123;</span><br><span class="line">   getArea() &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="number">123</span></span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">class</span> Square <span class="keyword">extends</span> shape &#123;</span><br><span class="line">   getArea() &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="number">456</span></span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></p><blockquote><p><strong>注意</strong><br>继承了抽象类，必须实现抽象类中的抽象方法</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ajax</title>
      <link href="/ajax/"/>
      <url>/ajax/</url>
      
        <content type="html"><![CDATA[<p><a href="https://javascript.ruanyifeng.com/bom/ajax.html" target="_blank" rel="noopener">阮一峰ajax</a></p><h1 id="快速上手"><a href="#快速上手" class="headerlink" title="快速上手"></a>快速上手</h1> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 创建一个 XMLHttpRequest 类型的对象 —— 相当于打开了一个浏览器 </span></span><br><span class="line"> <span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest() </span><br><span class="line"><span class="comment">// 2. 打开与一个网址之间的连接 —— 相当于在地址栏输入访问地址</span></span><br><span class="line"> xhr.open(<span class="string">'GET'</span>, <span class="string">'./time.php'</span>) </span><br><span class="line"> <span class="comment">// 3. 通过连接发送一次请求 —— 相当于回车或者点击访问发送请求 </span></span><br><span class="line"> xhr.send(<span class="literal">null</span>) </span><br><span class="line"> <span class="comment">// 4. 指定 xhr 状态变化事件处理函数 —— 相当于处理网页呈现后的操作 </span></span><br><span class="line"> xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; </span><br><span class="line">   <span class="comment">// 通过 xhr 的 readyState 判断此次请求的响应是否接收完成 </span></span><br><span class="line">   <span class="keyword">if</span> (<span class="keyword">this</span>.readyState === <span class="number">4</span>) &#123; </span><br><span class="line">     <span class="comment">// 通过 xhr 的 responseText 获取到响应的响应体</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>) </span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h1 id="readyState"><a href="#readyState" class="headerlink" title="readyState"></a>readyState</h1><p> 由于 <code>readystatechange</code> 事件是在 <code>xhr</code> 对象状态变化时触发（不单是在得到响应时），也就意味着这个事件会被 触发多次，所以我们有必要了解每一个状态值代表的含义：</p><table><thead><tr><th>readyState</th><th>状态描述</th><th>说明</th></tr></thead><tbody><tr><td>0</td><td>UNSENT</td><td>代理（XHR）被创建，但尚未调用 <code>open()</code> 方法。</td></tr><tr><td>1</td><td>OPENED</td><td><code>open()</code> 方法已经被调用，建立了连接。</td></tr><tr><td>2</td><td>HEADERS_RECEIVED</td><td><code>send()</code> 方法已经被调用，并且已经可以获取状态行和响应头。</td></tr><tr><td>3</td><td>LOADING</td><td>响应体下载中， <code>responseText</code> 属性可能已经包含部分数据。</td></tr><tr><td>4</td><td>DONE</td><td>响应体下载完成，可以直接使用 <code>responseText</code> 。</td></tr></tbody></table><h1 id="时间轴"><a href="#时间轴" class="headerlink" title="时间轴"></a>时间轴</h1> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest() </span><br><span class="line"><span class="built_in">console</span>.log(xhr.readyState) </span><br><span class="line"><span class="comment">// =&gt; 0 </span></span><br><span class="line"><span class="comment">// 初始化 请求代理对象</span></span><br><span class="line"></span><br><span class="line">xhr.open(<span class="string">'GET'</span>, <span class="string">'time.php'</span>) </span><br><span class="line"><span class="built_in">console</span>.log(xhr.readyState) </span><br><span class="line"><span class="comment">// =&gt; 1 </span></span><br><span class="line"><span class="comment">// open 方法已经调用，建立一个与服务端特定端口的连接</span></span><br><span class="line"></span><br><span class="line">xhr.send()</span><br><span class="line"></span><br><span class="line">xhr.addEventListener(<span class="string">'readystatechange'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="keyword">switch</span> (<span class="keyword">this</span>.readyState) &#123;</span><br><span class="line">     <span class="keyword">case</span> <span class="number">2</span>: </span><br><span class="line">       <span class="comment">// =&gt; 2 </span></span><br><span class="line">       <span class="comment">// 已经接受到了响应报文的响应头 </span></span><br><span class="line"></span><br><span class="line">       <span class="comment">// 可以拿到头 </span></span><br><span class="line">       <span class="comment">// console.log(this.getAllResponseHeaders()) </span></span><br><span class="line">       <span class="built_in">console</span>.log(<span class="keyword">this</span>.getResponseHeader(<span class="string">'server'</span>)) </span><br><span class="line">       <span class="comment">// 但是还没有拿到体 console.log(this.responseText) </span></span><br><span class="line">       <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">case</span> <span class="number">3</span>: </span><br><span class="line">       <span class="comment">// =&gt; 3 </span></span><br><span class="line">       <span class="comment">// 正在下载响应报文的响应体，有可能响应体为空，也有可能不完整 </span></span><br><span class="line"></span><br><span class="line">       <span class="comment">// 在这里处理响应体不保险（不可靠） </span></span><br><span class="line">       <span class="built_in">console</span>.log(<span class="keyword">this</span>.responseText) </span><br><span class="line">       <span class="keyword">break</span> </span><br><span class="line">     </span><br><span class="line">     <span class="keyword">case</span> <span class="number">4</span>: </span><br><span class="line">       <span class="comment">// =&gt; 4 </span></span><br><span class="line">       <span class="comment">// 一切 OK （整个响应报文已经完整下载下来了） </span></span><br><span class="line"></span><br><span class="line">       <span class="comment">// 这里处理响应体 </span></span><br><span class="line">       <span class="built_in">console</span>.log(<span class="keyword">this</span>.responseText) </span><br><span class="line">       <span class="keyword">break</span> </span><br><span class="line">   &#125; </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p> 通过理解每一个状态值的含义得出一个结论：一般我们都是在 <code>readyState</code> 值为 4 时，执行响应的后续逻辑。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.readyState === <span class="number">4</span>) &#123; </span><br><span class="line">    <span class="comment">// 后续逻辑...... </span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="遵循-HTTP"><a href="#遵循-HTTP" class="headerlink" title="遵循 HTTP"></a>遵循 HTTP</h1><p> 本质上 <code>XMLHttpRequest</code> 就是 <code>JavaScript</code> 在 <code>Web</code> 平台中发送 <code>HTTP</code> 请求的手段，所以我们发送出去的请求任然是 <code>HTTP</code> 请求，同样符合 <code>HTTP</code> 约定的格式：<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置请求报文的请求行 </span></span><br><span class="line">xhr.open(<span class="string">'GET'</span>, <span class="string">'./time.php'</span>) </span><br><span class="line"><span class="comment">// 设置请求头 </span></span><br><span class="line">xhr.setRequestHeader(<span class="string">'Accept'</span>, <span class="string">'text/plain'</span>) </span><br><span class="line"><span class="comment">// 设置请求体 </span></span><br><span class="line">xhr.send(<span class="literal">null</span>) </span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.readyState === <span class="number">4</span>) &#123; </span><br><span class="line">    <span class="comment">// 获取响应状态码 </span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.status) </span><br><span class="line">    <span class="comment">// 获取响应状态描述 </span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.statusText) </span><br><span class="line">    <span class="comment">// 获取响应头信息 </span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.getResponseHeader(<span class="string">'Content‐Type'</span>)) <span class="comment">// 指定响应头 </span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.getAllResponseHeader()) <span class="comment">// 全部响应头 </span></span><br><span class="line">    <span class="comment">// 获取响应体 </span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.responseText) <span class="comment">// 文本形式</span></span><br><span class="line">   <span class="built_in">console</span>.log(<span class="keyword">this</span>.responseXML) <span class="comment">// XML 形式，了解即可不用了 </span></span><br><span class="line"> &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p><strong>参考文档</strong></p><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest</a></li></ul></blockquote><h1 id="具体用法"><a href="#具体用法" class="headerlink" title="具体用法"></a>具体用法</h1><h2 id="GET-请求"><a href="#GET-请求" class="headerlink" title="GET 请求"></a>GET 请求</h2><blockquote><p>通常在一次 GET 请求过程中，参数传递都是通过 URL 地址中的 ? 参数传递。</p></blockquote> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest() </span><br><span class="line"><span class="comment">// GET 请求传递参数通常使用的是问号传参 </span></span><br><span class="line"><span class="comment">// 这里可以在请求地址后面加上参数，从而传递数据到服务端 </span></span><br><span class="line">xhr.open(<span class="string">'GET'</span>, <span class="string">'./delete.php?id=1'</span>) </span><br><span class="line"><span class="comment">// 一般在 GET 请求时无需设置响应体，可以传 null 或者干脆不传 </span></span><br><span class="line">xhr.send(<span class="literal">null</span>) </span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.readyState === <span class="number">4</span>) &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="keyword">this</span>.responseText) </span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 一般情况下 URL 传递的都是参数性质的数据，而 POST 一般都是业务数据</span></span><br></pre></td></tr></table></figure><h2 id="POST-请求"><a href="#POST-请求" class="headerlink" title="POST 请求"></a>POST 请求</h2><blockquote><p>POST 请求过程中，都是采用请求体承载需要提交的数据。</p></blockquote> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest() </span><br><span class="line"><span class="comment">// open 方法的第一个参数的作用就是设置请求的 method </span></span><br><span class="line">xhr.open(<span class="string">'POST'</span>, <span class="string">'./add.php'</span>) </span><br><span class="line"><span class="comment">// 设置请求头中的 Content‐Type 为 application/x‐www‐form‐urlencoded </span></span><br><span class="line"><span class="comment">// 标识此次请求的请求体格式为 urlencoded 以便于服务端接收数据 </span></span><br><span class="line">xhr.setRequestHeader(<span class="string">"Content-type"</span>, <span class="string">"application/x-www-form-urlencoded"</span>) </span><br><span class="line"><span class="comment">// 需要提交到服务端的数据可以通过 send 方法的参数传递 </span></span><br><span class="line"><span class="comment">// 格式：key1=value1&amp;key2=value2 </span></span><br><span class="line">xhr.send(<span class="string">'key1=value1&amp;key2=value2'</span>) </span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (<span class="keyword">this</span>.readyState === <span class="number">4</span>) &#123; </span><br><span class="line">     <span class="built_in">console</span>.log(<span class="keyword">this</span>.responseText) </span><br><span class="line">   &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="同步与异步"><a href="#同步与异步" class="headerlink" title="同步与异步"></a>同步与异步</h2><p> 关于同步与异步的概念在生活中有很多常见的场景，举例说明。</p><blockquote><p>同步：一个人在同一个时刻只能做一件事情，在执行一些耗时的操作（不需要看管）不去做别的事，只是等待<br>异步：在执行一些耗时的操作（不需要看管）去做别的事，而不是等待</p></blockquote><p> <code>xhr.open()</code> 方法第三个参数要求传入的是一个 <code>bool</code> 值，其作用就是设置此次请求是否采用异步方式执行，默认 为 <code>true</code> ，如果需要同步执行可以通过传递 <code>false</code> 实现：<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'before ajax'</span>) </span><br><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest() </span><br><span class="line"><span class="comment">// 默认第三个参数为 true 意味着采用异步方式执行 </span></span><br><span class="line">xhr.open(<span class="string">'GET'</span>, <span class="string">'./time.php'</span>, <span class="literal">true</span>) </span><br><span class="line">xhr.send(<span class="literal">null</span>) xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (<span class="keyword">this</span>.readyState === <span class="number">4</span>) &#123; </span><br><span class="line">     <span class="comment">// 这里的代码最后执行 console.log('request done') </span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'after ajax'</span>)</span><br></pre></td></tr></table></figure><br> 如果采用同步方式执行，则代码会卡死在 <code>xhr.send()</code> 这一步：<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'before ajax'</span>) </span><br><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest() </span><br><span class="line"><span class="comment">// 同步方式 xhr.open('GET', './time.php', false) </span></span><br><span class="line"><span class="comment">// 同步方式 执行需要 先注册事件再调用 send，否则 readystatechange 无法触发 </span></span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.readyState === <span class="number">4</span>) &#123; </span><br><span class="line">    <span class="comment">// 这里的代码最后执行 </span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'request done'</span>) </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">xhr.send(<span class="literal">null</span>) </span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'after ajax'</span>)</span><br></pre></td></tr></table></figure><br> 演示同步异步差异。<br> 一定在发送请求 send() 之前注册 readystatechange （不管同步或者异步）</p><ul><li>为了让这个事件可以更加可靠（一定触发），一定是先注册<br>了解同步模式即可，切记不要使用同步模式。<br>至此，我们已经大致了解了 AJAX 的基本 API 。</li></ul><h2 id="XML"><a href="#XML" class="headerlink" title="XML"></a>XML</h2><p> 一种数据描述手段<br> 老掉牙的东西，简单演示一下，不在这里浪费时间，基本现在的项目不用了。<br> 淘汰的原因：数据冗余太多</p><h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><p> 也是一种数据描述手段，类似于 JavaScript 字面量方式<br> 服务端采用 JSON 格式返回数据，客户端按照 JSON 格式解析数据。</p><blockquote><p>不管是 JSON 也好，还是 XML，只是在 AJAX 请求过程中用到，并不代表它们之间有必然的联系，它们只是 数据协议罢了</p></blockquote><h2 id="response、responseText和resonpseXML"><a href="#response、responseText和resonpseXML" class="headerlink" title="response、responseText和resonpseXML"></a>response、responseText和resonpseXML</h2><p> <strong>都是返回数据</strong></p><ol><li><p><code>resonpseXML</code> 专门用于获取服务器返回的 XML 数据，操作方式就是通过 <code>DOM</code> 的方式操作，但是需要服务端响应头中设置 <code>Content-Type</code></p></li><li><p><code>reponse</code> 获取的结果会根据 <code>responseType</code>的变化而变化</p><ul><li><code>xhr.responseType = &#39;&#39;</code>的方式告诉服务器，客户端想获取的格式。</li></ul></li><li><p><code>reponseText</code> 永远获得的结果都是字符串形式的响应体</p></li></ol><h2 id="处理响应数据渲染"><a href="#处理响应数据渲染" class="headerlink" title="处理响应数据渲染"></a>处理响应数据渲染</h2><blockquote><p><strong>模板引擎：</strong></p><ul><li>artTemplate: <a href="https://aui.github.io/art-template/" target="_blank" rel="noopener">https://aui.github.io/art-template/</a><br>模板引擎实际上就是一个 API，模板引擎有很多种，使用方式大同小异，目的为了可以更容易的将数据渲染到 HTML中</li></ul></blockquote><h2 id="兼容方案"><a href="#兼容方案" class="headerlink" title="兼容方案"></a>兼容方案</h2><p> XMLHttpRequest 在老版本浏览器（IE5/6）中有兼容问题，可以通过另外一种方式代替<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="built_in">window</span>.XMLHttpRequest ? <span class="keyword">new</span> XMLHttpRequest() : <span class="keyword">new</span> ActiveXObject(<span class="string">'Microsoft.XMLHTTP'</span>)</span><br></pre></td></tr></table></figure></p><h1 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h1><h2 id="AJAX-请求封装"><a href="#AJAX-请求封装" class="headerlink" title="AJAX 请求封装"></a>AJAX 请求封装</h2><blockquote><p>函数就可以理解为一个想要做的事情，函数体中约定了这件事情做的过程，直到调用时才开始工作。 将函数作为参数传递就像是将一个事情交给别人，这就是委托的概念</p></blockquote> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 发送一个 AJAX 请求 </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>method 请求方法 </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>url 请求地址 </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Object&#125;</span> </span>params 请求参数 </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Function&#125;</span> </span>done 请求完成过后需要做的事情（委托/回调） </span></span><br><span class="line"><span class="comment"> */</span> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span> (<span class="params">method, url, params, done</span>) </span>&#123; </span><br><span class="line">  <span class="comment">// 统一转换为大写便于后续判断 </span></span><br><span class="line">  method = method.toUpperCase() </span><br><span class="line"></span><br><span class="line">  <span class="comment">// 对象形式的参数转换为 urlencoded 格式 </span></span><br><span class="line">  <span class="keyword">var</span> pairs = [] </span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> params) &#123; </span><br><span class="line">    pairs.push(key + <span class="string">'='</span> + params[key]) </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> querystring = pairs.join(<span class="string">'&amp;'</span>) </span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> xhr = <span class="built_in">window</span>.XMLHttpRequest ? <span class="keyword">new</span> XMLHttpRequest() : <span class="keyword">new</span> ActiveXObject(<span class="string">'Microsoft.XMLHTTP'</span>) </span><br><span class="line"></span><br><span class="line">  xhr.addEventListener(<span class="string">'readystatechange'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; </span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.readyState !== <span class="number">4</span>) <span class="keyword">return</span> </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 尝试通过 JSON 格式解析响应体 </span></span><br><span class="line">    <span class="keyword">try</span> &#123; </span><br><span class="line">      done(<span class="built_in">JSON</span>.parse(<span class="keyword">this</span>.responseText)) </span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123; </span><br><span class="line">      done(<span class="keyword">this</span>.responseText) </span><br><span class="line">    &#125; </span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 如果是 GET 请求就设置 URL 地址 问号参数 </span></span><br><span class="line">   <span class="keyword">if</span> (method === <span class="string">'GET'</span>) &#123; </span><br><span class="line">     url += <span class="string">'?'</span> + querystring </span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   xhr.open(method, url) </span><br><span class="line"></span><br><span class="line">   <span class="comment">// 如果是 POST 请求就设置请求体 </span></span><br><span class="line">   <span class="keyword">var</span> data = <span class="literal">null</span> </span><br><span class="line">   <span class="keyword">if</span> (method === <span class="string">'POST'</span>) &#123;</span><br><span class="line">      xhr.setRequestHeader(<span class="string">'Content‐Type'</span>, <span class="string">'application/x‐www‐form‐urlencoded'</span>) </span><br><span class="line">      data = querystring </span><br><span class="line">   &#125;</span><br><span class="line">   xhr.send(data) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ajax(<span class="string">'get'</span>, <span class="string">'./get.php'</span>, &#123; <span class="attr">id</span>: <span class="number">123</span> &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123; </span><br><span class="line">  <span class="built_in">console</span>.log(data) </span><br><span class="line">&#125;)</span><br><span class="line">ajax(<span class="string">'post'</span>, <span class="string">'./post.php'</span>, &#123; <span class="attr">foo</span>: <span class="string">'posted data'</span> &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123; <span class="built_in">console</span>.log(data) </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="jQuery-中的-AJAX"><a href="#jQuery-中的-AJAX" class="headerlink" title="jQuery 中的 AJAX"></a>jQuery 中的 AJAX</h2><p> jQuery 中有一套专门针对 AJAX 的封装，功能十分完善，经常使用，需要着重注意。</p><blockquote><p><strong>参考：</strong></p><ul><li><a href="http://www.jquery123.com/category/ajax/" target="_blank" rel="noopener">http://www.jquery123.com/category/ajax/</a></li><li><a href="http://www.w3school.com.cn/jquery/jquery_ref_ajax.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jquery/jquery_ref_ajax.asp</a></li></ul></blockquote><h3 id="ajax"><a href="#ajax" class="headerlink" title="$.ajax"></a>$.ajax</h3><p> 常用选项参数介绍：</p><ul><li><p>url：请求地址</p></li><li><p>type：请求方法，默认为 get</p></li><li><p>dataType：服务端响应数据类型</p></li><li><p>contentType：请求体内容类型，默认 application/x-www-form-urlencoded</p></li><li><p>data：需要传递到服务端的数据，如果 GET 则通过 URL 传递，如果 POST 则通过请求体传递</p></li><li><p>timeout：请求超时时间</p></li><li><p>beforeSend：请求发起之前触发</p></li><li><p>success：请求成功之后触发（响应状态码 200）</p></li><li><p>error：请求失败触发</p></li><li><p>complete：请求完成触发（不管成功与否）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">   url: <span class="string">'./get.php'</span>, </span><br><span class="line">   type: <span class="string">'get'</span>, </span><br><span class="line">   dataType: <span class="string">'json'</span>, </span><br><span class="line">   data: &#123; <span class="attr">id</span>: <span class="number">1</span> &#125;, </span><br><span class="line">   beforeSend: <span class="function"><span class="keyword">function</span> (<span class="params">xhr</span>) </span>&#123; </span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'before send'</span>) </span><br><span class="line">   &#125;,</span><br><span class="line">   success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123; </span><br><span class="line">     <span class="built_in">console</span>.log(data) </span><br><span class="line">   &#125;,</span><br><span class="line">   error: <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123; </span><br><span class="line">     <span class="built_in">console</span>.log(err) </span><br><span class="line">   &#125;,</span><br><span class="line">   complete: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; </span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'request completed'</span>) </span><br><span class="line">   &#125; </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><h3 id="get"><a href="#get" class="headerlink" title="$.get"></a>$.get</h3><p> GET 请求快捷方法</p><h3 id="post"><a href="#post" class="headerlink" title="$.post"></a>$.post</h3><p> POST 请求快捷方法</p><h3 id="全局事件处理"><a href="#全局事件处理" class="headerlink" title="全局事件处理"></a>全局事件处理</h3><p> <a href="http://www.jquery123.com/category/ajax/global-ajax-event-handlers/" target="_blank" rel="noopener">http://www.jquery123.com/category/ajax/global-ajax-event-handlers/</a></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 请求 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>markdown如何写出项目目录结构</title>
      <link href="/markdown%E5%A6%82%E4%BD%95%E5%86%99%E5%87%BA%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/"/>
      <url>/markdown%E5%A6%82%E4%BD%95%E5%86%99%E5%87%BA%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<p><a href="https://juejin.im/post/5d536d3b6fb9a06ad229c449" target="_blank" rel="noopener">文章转自</a></p><ol><li>就是使用mddir来生成项目目录的结构<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install mddir --save</span><br><span class="line">cd node_modules/mddir/src</span><br><span class="line">node mddir "../../../" // 根目录(也可以自定义要输出的目录，必须写相对路径，相对于node_modules/mddir/src)</span><br></pre></td></tr></table></figure></li><li>命令完成后，在node_modules/mddir/src下生成了一个文件“directoryList.md”，直接给我们生成了md格式的项目目录，打开可以看到是这样子：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">|-- webpack-demo</span><br><span class="line">    |-- .browserslistrc</span><br><span class="line">    |-- .eslintrc.js</span><br><span class="line">    |-- .gitignore</span><br><span class="line">    |-- README.md</span><br><span class="line">    |-- babel.config.js</span><br><span class="line">    |-- package-lock.json</span><br><span class="line">    |-- package.json</span><br><span class="line">    |-- postcss.config.js</span><br><span class="line">    |-- vue.config.js</span><br><span class="line">    |-- public</span><br><span class="line">    |   |-- favicon.ico</span><br><span class="line">    |   |-- index.html</span><br><span class="line">    |-- src</span><br><span class="line">        |-- App.vue</span><br><span class="line">        |-- iview-variables.css</span><br><span class="line">        |-- iview-variables.less</span><br><span class="line">        |-- main.js</span><br><span class="line">        |-- router.js</span><br><span class="line">        |-- store.js</span><br><span class="line">        |-- assets</span><br><span class="line">        |   |-- logo.png</span><br><span class="line">        |-- components</span><br><span class="line">        |   |-- HelloWorld.vue</span><br><span class="line">        |-- plugins</span><br><span class="line">        |   |-- iview.js</span><br><span class="line">        |-- views</span><br><span class="line">            |-- About.vue</span><br><span class="line">            |-- Home.vue</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES6~ES10</title>
      <link href="/ES%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/"/>
      <url>/ES%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p><a href="http://es.xiecheng.live/" target="_blank" rel="noopener">原作者文章ECMAScript2015~2020语法全解析</a></p><h1 id="ECMAScript2015-ES6"><a href="#ECMAScript2015-ES6" class="headerlink" title="ECMAScript2015(ES6)"></a>ECMAScript2015(ES6)</h1><h2 id="新的声明方式"><a href="#新的声明方式" class="headerlink" title="新的声明方式"></a>新的声明方式</h2><h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><p> <strong>什么是作用域？</strong><br> 几乎所有编程语言就是在变量中存储值，并且能读取和修改此值。事实上，在变量中存储值和取出值的能力，给程序赋予了状态。 如果没有这样的概念，一个程序虽然可以执行一些任务，但是它们将会受到极大的限制而且不会非常有趣。 但是这些变量该存储在哪，又给如何读取？为了完成这个目标，需要制定一些规则，这个规则就是：作用域。</p><p> 常见的作用域主要分为几个类型：全局作用域、函数作用域、块状作用域、动态作用域。</p><table><thead><tr><th>对象</th><th>类型</th></tr></thead><tbody><tr><td>global/window</td><td>全局作用域</td></tr><tr><td>function</td><td>函数作用域（局部作用域）</td></tr><tr><td>{}</td><td>块状作用域</td></tr><tr><td>this</td><td>动态作用域</td></tr></tbody></table><blockquote><p>TIP 如果一个 变量 或者其他表达式不在 “当前的作用域”，那么JavaScript机制会继续沿着作用域链上查找直到全局作用域（global或浏览器中的window）如果找不到将不可被使用。 作用域也可以根据代码层次分层，以便子作用域可以访问父作用域，通常是指沿着链式的作用域链查找，而不能从父作用域引用子作用域中的变量和引用</p></blockquote><ol><li><p>全局作用域<br>变量在函数或者代码块 {} 外定义，即为全局作用域。不过，在函数或者代码块 {} 内未定义的变量也是拥有全局作用域的（不推荐）。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> course = <span class="string">"es"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 此处可调用 course 变量</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 函数内可调用 course 变量</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上述代码中变量 course 就是在函数外定义的，它是拥有全局作用域的。这个变量可以在任意地方被读取或者修改，当然如果变量在函数内没有声明（没有使用 var 关键字），该变量依然为全局变量。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 此处可调用 course 变量</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    course = <span class="string">"es"</span></span><br><span class="line">    <span class="comment">// 此处可调用 course 变量</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以上实例中 course 在函数内，但是拥有全局作用域，它将作为 global 或者 window 的属性存在。</p><blockquote><p>注意：在函数内部或代码块中没有定义的变量实际上是作为 window/global 的属性存在，而不是全局变量。换句话说没有使用 var 定义的变量虽然拥有全局作用域，但是它是可以被 delete 的，而全局变量不可以。参考：<a href="https://www.runoob.com/js/js-scope.html" target="_blank" rel="noopener">https://www.runoob.com/js/js-scope.html</a></p></blockquote></li><li><p>函数作用域</p><p>在函数内部定义的变量，就是局部作用域。函数作用域内，对外是封闭的，从外层的作用域无法直接访问函数内部的作用域！</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> testValue = <span class="string">'inner'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(testValue) <span class="comment">// 报错：ReferenceError: testValue is not defined</span></span><br></pre></td></tr></table></figure><p>如果想读取函数内的变量，必须借助 return 或者闭包。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> testValue = <span class="string">'inner'</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> testValue + value</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(bar(<span class="string">'fun'</span>)) <span class="comment">// "innerfun"</span></span><br></pre></td></tr></table></figure><p>这是借助 return 的方式，下面是闭包的方式</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> testValue = <span class="string">'inner'</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> rusult = testValue + value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">innser</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> rusult</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> innser()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(bar(<span class="string">'fun'</span>)) <span class="comment">// "innerfun"</span></span><br></pre></td></tr></table></figure><p>通俗的讲，return 是函数对外交流的出口，而 return 可以返回的是函数，根据作用域的规则，函数内部的子函数是可以获取函数作用域内的变量的。</p><p>说到这其实大家会想到嵌套函数的作用域问题，如果 inner 函数再嵌套函数呢？这就涉及到另一个概念：作用域链。</p><p><img src="../image/es1.png" alt=""></p><p>仔细观察上图，其实不难理解作用域链是什么，因为你可以按照原型链那样去理解。任何一个作用域链都是一个堆栈，首先先把全局作用域压入栈底，再按照函数的嵌套关系一次压入堆栈。在执行的时候就按照这个作用域链寻找变量。</p></li><li><p>块状作用域<br>在其他编程语言中，块状作用域是很熟悉的概念，但是在JavaScript中不被支持，就像上述知识一样，除了全局作用域就是函数作用域，一直没有自己的块状作用域。在 ES6 中已经改变了这个现象，块状作用域得到普及。关于什么是块，只要认识 <code>{}</code> 就可以了。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">1</span></span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在这个代码中， <code>if 后 {}</code> 就是“块”，这个里面的变量就是拥有这个块状作用域，按照规则， <code>{}</code>之外是无法访问这个变量的。</p></li><li><p>动态作用域<br>在 JavaScript 中很多同学对 this 的指向时而清楚时而模糊，其实结合作用域会对 this 有一个清晰的理解。不妨先来看下这段代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.a = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test.bind(&#123;</span><br><span class="line">    a: <span class="number">2</span></span><br><span class="line">&#125;)() <span class="comment">// 2</span></span><br><span class="line">test() <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><p>在这里 bind 已经把作用域的范围进行了修改指向了 <code>{ a: 2 }</code>，而 this 指向的是当前作用域对象，是不是可以清楚的理解了呢？</p><p>接下来我们再思考另一个问题：作用域是在代码编写的时候就已经决定了呢，还是在代码执行的过程中才决定的？ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var course &#x3D; &quot; es&quot;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 此处可调用 course 变量</span><br><span class="line">function myFunction() &#123;</span><br><span class="line">    &#x2F;&#x2F; 函数内可调用 course 变量</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在看看这段代码，写代码的时候就知道 course 就是全局作用域，函数内部的用 var 定义的变量就是函数作用域。这个也就是专业术语：词法作用域。 通俗的讲变量的作用域是在定义时决定而不是执行时决定，也就是说词法作用域取决于源码，通过静态分析就能确定，因此词法作用域也叫做静态作用域。 相反，只能在执行阶段才能决定变量的作用域，那就是动态作用域。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a) <span class="comment">// 3  (不是 2!)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">3</span></span><br><span class="line">    foo()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">bar()</span><br></pre></td></tr></table></figure><p>为什么会这样？</p><p>因为当 foo() 不能为 a 解析出一个变量引用时，它不会沿着嵌套的（词法）作用域链向上走一层，而是沿着调用栈向上走，以找到 foo() 是 从何处 被调用的。因为 foo() 是从 bar() 中被调用的，它就会在 bar() 的作用域中检查变量，并且在这里找到持有值 3 的 a。</p><p><strong>推荐阅读</strong></p><ul><li><a href="https://www.kancloud.cn/kancloud/you-dont-know-js-scope-closures/516610" target="_blank" rel="noopener">什么是作用域</a></li><li><a href="https://github.com/mqyqingfeng/Blog/issues/3" target="_blank" rel="noopener">JavaScript深入之词法作用域和动态作用域</a></li><li><a href="https://github.com/creeperyang/blog/issues/16" target="_blank" rel="noopener">深入理解JS中声明提升、作用域（链）和 this 关键字</a></li></ul></li></ol><h3 id="Let"><a href="#Let" class="headerlink" title="Let"></a>Let</h3><p> ES6 新增了let命令，用来声明变量。</p><ol><li><p>let 声明的全局变量不是全局对象window的属性<br>这就意味着，你不可以通过 window. 变量名 的方式访问这些变量，而 var 声明的全局变量是 window 的属性，是可以通过 window. 变量名 的方式访问的。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">5</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.a) <span class="comment">// 5</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">5</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.a) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></li><li><p>用let定义变量不允许重复声明<br>这个很容易理解，使用 var 可以重复定义，使用 let 却不可以。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">5</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">// 5</span></span><br></pre></td></tr></table></figure><p>如果是 let ，则会报错</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">5</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">6</span></span><br><span class="line"><span class="comment">// VM131:1 Uncaught SyntaxError: Identifier 'a' has already been declared</span></span><br><span class="line"><span class="comment">//   at &lt;anonymous&gt;:1:1</span></span><br></pre></td></tr></table></figure></li><li><p>let声明的变量不存在变量提升</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">5</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo() <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure><p>上述代码中， a 的调用在声明之前，所以它的值是 undefined，而不是 Uncaught ReferenceError。实际上因为 var 会导致变量提升，上述代码和下面的代码等同：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a</span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line">    a = <span class="number">5</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo() <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure><p>而对于 let 而言，变量的调用是不能先于声明的，看如下代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">5</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo()</span><br><span class="line"><span class="comment">// Uncaught ReferenceError: Cannot access 'a' before initialization</span></span><br></pre></td></tr></table></figure><p>在这个代码中， a 的调用是在声明之前，因为 let 没有发生变量提升，所有读取 a 的时候，并没有找到，而在调用之后才找到 let 对 a 的定义，所以按照 tc39 的定义会报错。</p></li><li><p>let声明的变量具有暂时性死区<br>只要块级作用域内存在 <code>let</code> 命令，它所声明的变量就绑定在了这个区域，不再受外部的影响。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">5</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    a = <span class="number">6</span></span><br><span class="line">    <span class="keyword">let</span> a</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Uncaught ReferenceError: Cannot access 'a' before initialization</span></span><br></pre></td></tr></table></figure><p>上面代码中，存在全局变量 a ，但是块级作用域内 let 又声明了一个局部变量 a ，导致后者绑定这个块级作用域，所以在let声明变量前，对 a 赋值会报错。</p><p>ES6 明确规定，如果区块中存在 let 和 const 命令，这个区块对这些命令声明的变量，从一开始就形成了封闭作用域。凡是在声明之前就使用这些变量，就会报错。</p><p>总之，在代码块内，使用 let 命令声明变量之前，该变量都是不可用的。这在语法上，称为“暂时性死区”</p><p>有时“暂时性死区”比较隐蔽，比如：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">b = a, a = <span class="number">2</span></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a, b)</span><br><span class="line">&#125;</span><br><span class="line">foo()</span><br><span class="line"><span class="comment">// Uncaught ReferenceError: Cannot access 'a' before initialization</span></span><br></pre></td></tr></table></figure></li><li><p>let 声明的变量拥有块级作用域<br>let实际上为 JavaScript 新增了块级作用域</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">5</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><p>a 变量是在代码块 {} 中使用 let 定义的，它的作用域是这个代码块内部，外部无法访问。</p><p>我们再看一个项目中很常见的 for 循环:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span> i &lt; <span class="number">3</span> i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'循环内:'</span> + i) <span class="comment">// 0、1、2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'循环外:'</span> + i) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><p>如果改为 let 会怎么样呢？</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span> i &lt; <span class="number">3</span> i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'循环内:'</span> + i) <span class="comment">// 0、1、2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'循环外:'</span> + i) <span class="comment">// ReferenceError: i is not defined</span></span><br></pre></td></tr></table></figure><p>继续看下面两个例子的对比，这时 a 的值又是多少呢？</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">false</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">5</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">false</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">5</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a)</span><br><span class="line"><span class="comment">// Uncaught ReferenceError: a is not defined</span></span><br></pre></td></tr></table></figure><p><strong>思考</strong><br>请问 i 的值是多少？</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span> i &lt; <span class="number">3</span> i++) &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 3、3、3</span></span><br></pre></td></tr></table></figure><p>答案是3次3。<br>但我希望的值是0、1、2，也就是每次保存住循环时候 i 的值，应该如何做呢？</p><p>方案1：闭包</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span> i &lt; <span class="number">3</span> i++) &#123;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params">j</span>) </span>&#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(j)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>方案2：使用let</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span> i &lt; <span class="number">3</span> i++) &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>大家可以把上面这段代码粘贴到 babel 中：<a href="https://www.babeljs.cn/repl" target="_blank" rel="noopener">https://www.babeljs.cn/repl</a> , 看下经过 babel 转化为的 ES5 代码是什么样子的。</p><p>大家会发现其实 babel 把这段代码转化成了闭包的形式:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> _loop = <span class="function"><span class="keyword">function</span> <span class="title">_loop</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span> i &lt; <span class="number">3</span> i++) &#123;</span><br><span class="line">    _loop(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>相信通过这个思考题，大家对于 let 关键字的使用会有进一步的理解。</p><blockquote><p>总结<br>使用let声明的变量：</p><ul><li>不属于顶层对象window</li><li>不允许重复声明</li><li>不存在变量提升</li><li>暂时性死区</li><li>块级作用域</li></ul></blockquote><p><strong>推荐阅读</strong></p><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management" target="_blank" rel="noopener">内存管理</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/let" target="_blank" rel="noopener">let</a></li></ul></li></ol><h3 id="Const"><a href="#Const" class="headerlink" title="Const"></a>Const</h3><p> 不能被改变的叫做常量，请大家思考在 <code>ES5</code> 中如何定义一个常量呢？</p><p> <code>ES5</code> 中可以使用 <code>Object.defineProperty()</code> 来实现定义常量：<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.defineProperty(<span class="built_in">window</span>, <span class="string">'PI'</span>, &#123;</span><br><span class="line">    value: <span class="number">3.14</span>,</span><br><span class="line">    writable: <span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(PI)</span><br><span class="line">PI = <span class="number">5</span></span><br><span class="line"><span class="built_in">console</span>.log(PI)</span><br></pre></td></tr></table></figure><br> const 除了具有 let 的块级作用域和不会变量提升外，还有就是它定义的是常量，在用 const 定义变量后，我们就不能修改它了，对变量的修改会抛出异常。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> PI = <span class="number">3.1415</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(PI)</span><br><span class="line"></span><br><span class="line">PI = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(PI)</span><br><span class="line"><span class="comment">// Uncaught TypeError: Assignment to constant variable.</span></span><br></pre></td></tr></table></figure><br> 这个代码块中因为对 PI 尝试修改，导致浏览器报错，这就说明 const 定义的变量是不能被修改的，它是只读的。聪明的同学一定会发现只读属性是不是一定要进行初始化呢？<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> PI</span><br><span class="line"></span><br><span class="line">PI = <span class="number">3.1415</span></span><br><span class="line"><span class="comment">// Uncaught SyntaxError: Missing initializer in const declaration</span></span><br></pre></td></tr></table></figure></p><blockquote><p>注意<br>const 声明的变量必须进行初始化，不然会抛出异常 Uncaught SyntaxError: Missing initializer in const declaration。</p></blockquote><p> <strong>重点来喽</strong><br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'xiecheng'</span>,</span><br><span class="line">    age: <span class="number">34</span></span><br><span class="line">&#125;</span><br><span class="line">obj.school = <span class="string">'imooc'</span></span><br><span class="line"><span class="built_in">console</span>.log(obj)</span><br><span class="line"><span class="comment">// &#123;name: "xiecheng", age: 34, school: "imooc"&#125;</span></span><br></pre></td></tr></table></figure><br> 大家会发现 const 定义的 obj 竟然被改变了… 这到底是为什么呢？有点懵啊…</p><p> 这时我们就需要了解JS中的变量是如何存储的，见下图：<br> <img src="../image/es2.png" alt=""></p><p> 基本数据类型存储在 栈内存 中，引用数据类型存储在 堆内存 中然后在栈内存中保存 引用地址 。</p><blockquote><p>TIP<br>const 实际上保证的并不是变量的值不得改动，而是变量指向的那个内存地址所保存的数据不得改动。</p></blockquote><p> 如何让对象或者数组这种引用数据类型也不被改变呢？<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.freeze(obj)</span><br></pre></td></tr></table></figure></p><blockquote><p>注意<br><code>Object.freeze()</code> 只是浅层冻结，只会对最近一层的对象进行冻结，并不会对深层对象冻结。</p></blockquote><blockquote><p>总结<br>使用const声明的常量：</p><ul><li>不属于顶层对象window</li><li>不允许重复声明</li><li>不存在变量提升</li><li>暂时性死区</li><li>块级作用域</li></ul></blockquote><p> <strong>推荐阅读</strong></p><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/const" target="_blank" rel="noopener">const</a></li></ul><h2 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h2><p> 在 ES6 中新增了变量赋值的方式：解构赋值。允许按照一定模式，从数组和对象中提取值，对变量进行赋值。如果对这个概念不了解，我们可以快速展示一个小示例一睹风采：<br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> a = arr[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">let</span> b = arr[<span class="number">1</span>]</span><br><span class="line"><span class="keyword">let</span> c = arr[<span class="number">2</span>]</span><br></pre></td></tr></table></figure><br> 想从数组中找出有意义的项要单独赋值给变量，在 ES6 中就可以这样写了：<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a, b, c] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure></p><blockquote><p><strong>TIP</strong><br>解构赋值重点是在赋值，赋值的元素是要拷贝出来赋值给变量，赋值的元素本身是不会被改变的。</p></blockquote><p> 是不是非常的简洁，在解构赋值里用的最多的就是 Object 和 Array ，我们可以分别来看下两者的解构赋值是如何操作的。</p><h3 id="数组解构赋值"><a href="#数组解构赋值" class="headerlink" title="数组解构赋值"></a>数组解构赋值</h3><p> 上述的小示例已经在描述数组的解构赋值了，可是那只是开始。</p><ul><li><strong>赋值元素可以是任意可遍历的对象</strong><br>赋值的元素不仅是数组，它可以是任意可遍历的对象<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a, b, c] = <span class="string">"abc"</span> <span class="comment">// ["a", "b", "c"]</span></span><br><span class="line"><span class="keyword">let</span> [one, two, three] = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure></li><li><strong>左边的变量(测试报错)</strong><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Uncaught ReferenceError: Cannot access &#39;user&#39; before initialization</span><br></pre></td></tr></table></figure>被赋值的变量还可以是对象的属性，不局限于单纯的变量。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;&#125;</span><br><span class="line">[user.firstName, user.secondName] = <span class="string">'Kobe Bryant'</span>.split(<span class="string">' '</span>) <span class="comment">//split是以' '把字符串分割成了数组</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(user.firstName, user.secondName) <span class="comment">// Kobe Bryant</span></span><br></pre></td></tr></table></figure></li><li><strong>循环体</strong><br>解构赋值在循环体中的应用，可以配合 <code>entries</code> 使用。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">let</span> user = &#123;</span><br><span class="line">name: <span class="string">'John'</span>,</span><br><span class="line">age: <span class="number">30</span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// loop over keys-and-values</span></span><br><span class="line"> <span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> <span class="built_in">Object</span>.entries(user)) &#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;key&#125;</span>:<span class="subst">$&#123;value&#125;</span>`</span>) <span class="comment">// name:John, then age:30</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>当然，对于 <code>map</code> 对象依然适用：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">user.set(<span class="string">'name'</span>, <span class="string">'John'</span>)</span><br><span class="line">user.set(<span class="string">'age'</span>, <span class="string">'30'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> user.entries()) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;key&#125;</span>:<span class="subst">$&#123;value&#125;</span>`</span>) <span class="comment">// name:John, then age:30</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><strong>可以跳过赋值元素</strong><br>如果想忽略数组的某个元素对变量进行赋值，可以使用逗号来处理。 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// second element is not needed</span></span><br><span class="line"><span class="keyword">let</span> [name, , title] = [<span class="string">'John'</span>, <span class="string">'Jim'</span>, <span class="string">'Sun'</span>, <span class="string">'Moon'</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( title ) <span class="comment">// Sun</span></span><br></pre></td></tr></table></figure></li><li><strong>rest 参数</strong><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">let</span> [name1, name2, ...rest] = [<span class="string">"Julius"</span>, <span class="string">"Caesar"</span>, <span class="string">"Consul"</span>, <span class="string">"of the Roman Republic"</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(name1) <span class="comment">// Julius</span></span><br><span class="line"><span class="built_in">console</span>.log(name2) <span class="comment">// Caesar</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Note that type of `rest` is Array.</span></span><br><span class="line"><span class="built_in">console</span>.log(rest[<span class="number">0</span>]) <span class="comment">// Consul</span></span><br><span class="line"><span class="built_in">console</span>.log(rest[<span class="number">1</span>]) <span class="comment">// of the Roman Republic</span></span><br><span class="line"><span class="built_in">console</span>.log(rest.length) <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>注意</strong><br>我们可以使用 rest 来接受赋值数组的剩余元素，不过要确保这个 rest 参数是放在被赋值变量的最后一个位置上。</p></blockquote></li><li><strong>默认值</strong><br>如果数组的内容少于变量的个数，并不会报错，没有分配到内容的变量会是 undefined。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [firstName, surname] = []</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(firstName) <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(surname) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure> 当然你也可以给变量赋予默认值，防止 undefined 的情况出现： <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// default values</span></span><br><span class="line"><span class="keyword">let</span> [name = <span class="string">"Guest"</span>, surname = <span class="string">"Anonymous"</span>] = [<span class="string">"Julius"</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(name)    <span class="comment">// Julius (from array)</span></span><br><span class="line"><span class="built_in">console</span>.log(surname) <span class="comment">// Anonymous (default used)</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="对象解构赋值"><a href="#对象解构赋值" class="headerlink" title="对象解构赋值"></a>对象解构赋值</h3><ul><li><p><strong>基本用法</strong><br>解构赋值除了可以应用在 <code>Array</code>，也可以应用在 <code>Object</code>。基本的语法如下：</p><blockquote><p>let {var1, var2} = {var1:…, var2…}<br> 大致的意思是我们有一个 Object 想把里面的属性分别拿出来而无需通过调用属性的方式赋值给指定的变量。具体的做法是在赋值的左侧声明一个和 Object 结构等同的模板，然后把关心属性的 value 指定为新的变量即可。</p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> options = &#123;</span><br><span class="line">title: <span class="string">"Menu"</span>,</span><br><span class="line">width: <span class="number">100</span>,</span><br><span class="line">height: <span class="number">200</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;title, width, height&#125; = options</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(title)  <span class="comment">// Menu</span></span><br><span class="line"><span class="built_in">console</span>.log(width)  <span class="comment">// 100</span></span><br><span class="line"><span class="built_in">console</span>.log(height) <span class="comment">// 200</span></span><br></pre></td></tr></table></figure><p><strong>TIP</strong><br>在这个结构赋值的过程中，左侧的“模板”结构要与右侧的 Object 一致，但是属性的顺序无需一致。</p></blockquote><p> 上述的赋值左侧是采用了对象简写的方式，类似于：</p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;<span class="attr">title</span>: title, <span class="attr">width</span>: width, <span class="attr">height</span>: height&#125; = options</span><br></pre></td></tr></table></figure><p> 如果不想这么写或者想使用其他的变量名，可以自定义的，如下：</p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;<span class="attr">width</span>: w, <span class="attr">height</span>: h, title&#125; = options</span><br></pre></td></tr></table></figure></li><li><p><strong>默认值</strong><br>  当然，这个赋值的过程中也是可以指定默认值的，这样做：</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">let</span> options = &#123;</span><br><span class="line">title: <span class="string">"Menu"</span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;width = <span class="number">100</span>, height = <span class="number">200</span>, title&#125; = options</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(title)  <span class="comment">// Menu</span></span><br><span class="line"><span class="built_in">console</span>.log(width)  <span class="comment">// 100</span></span><br><span class="line"><span class="built_in">console</span>.log(height) <span class="comment">// 200</span></span><br></pre></td></tr></table></figure></li><li><p><strong>rest 运算符</strong><br>如果我们想象操作数组一样，只关心指定的属性，其他可以暂存到一个变量下，这就要用到 rest 运算符了</p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> options = &#123;</span><br><span class="line">title: <span class="string">"Menu"</span>,</span><br><span class="line">height: <span class="number">200</span>,</span><br><span class="line">width: <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;title, ...rest&#125; = options</span><br><span class="line"></span><br><span class="line"><span class="comment">// now title="Menu", rest=&#123;height: 200, width: 100&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(rest.height)  <span class="comment">// 200</span></span><br><span class="line"><span class="built_in">console</span>.log(rest.width)   <span class="comment">// 100</span></span><br></pre></td></tr></table></figure></li><li><p><strong>嵌套对象</strong><br>如果一个 Array 或者 Object 比较复杂，它嵌套了 Array 或者 Object，那只要被赋值的结构和右侧赋值的元素一致就好了。</p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> options = &#123;</span><br><span class="line">size: &#123;</span><br><span class="line">width: <span class="number">100</span>,</span><br><span class="line">height: <span class="number">200</span></span><br><span class="line">&#125;,</span><br><span class="line">items: [<span class="string">"Cake"</span>, <span class="string">"Donut"</span>],</span><br><span class="line">extra: <span class="literal">true</span>    <span class="comment">// something extra that we will not destruct</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// destructuring assignment on multiple lines for clarity</span></span><br><span class="line"><span class="keyword">let</span> &#123;</span><br><span class="line">size: &#123; <span class="comment">// put size here</span></span><br><span class="line">width,</span><br><span class="line">height</span><br><span class="line">&#125;,</span><br><span class="line">items: [item1, item2], <span class="comment">// assign items here</span></span><br><span class="line">title = <span class="string">'Menu'</span> <span class="comment">// not present in the object (default value is used)</span></span><br><span class="line">&#125; = options</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(title)  <span class="comment">// Menu</span></span><br><span class="line"><span class="built_in">console</span>.log(width)  <span class="comment">// 100</span></span><br><span class="line"><span class="built_in">console</span>.log(height) <span class="comment">// 200</span></span><br><span class="line"><span class="built_in">console</span>.log(item1)  <span class="comment">// Cake</span></span><br><span class="line"><span class="built_in">console</span>.log(item2)  <span class="comment">// Donut</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="字符串解构赋值"><a href="#字符串解构赋值" class="headerlink" title="字符串解构赋值"></a><strong>字符串解构赋值</strong></h3><p> 可以当做是数组的解构:<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'imooc'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [a, b, c, d, e] = str</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a, b, c, d, e)</span><br></pre></td></tr></table></figure><br> <strong>思考</strong></p><ol><li>有时候我们写一个函数需要传入很多参数，而且很多参数是可选的，是否可以利用解构赋值来简化操作呢？</li><li>如何在业务开发中对接口数据进行解构赋值呢？</li></ol><p> <strong>推荐阅读</strong></p><ul><li><a href="https://www.sitepoint.com/es6-destructuring-assignment/" target="_blank" rel="noopener">Destructuring Assignment</a></li><li><a href="https://ponyfoo.com/articles/es6-destructuring-in-depth" target="_blank" rel="noopener">ES6 JavaScript Destructuring in Depth</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" target="_blank" rel="noopener">解构赋值</a></li></ul><h2 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h2><h3 id="ES5-中数组遍历方式"><a href="#ES5-中数组遍历方式" class="headerlink" title="ES5 中数组遍历方式"></a>ES5 中数组遍历方式</h3> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>]</span><br></pre></td></tr></table></figure><p> <strong>for循环</strong></p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(arr[i])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> 后来语法有所升级，到 <code>ES5</code> 遍历数组的 <code>API</code> 多了起来，其中有 <code>forEach</code>、<code>every</code>、<code>filter</code>等，同样的功能可以用 <code>forEach</code> 、 <code>map</code> 、 <code>every</code> 等方法来实现。</p><p> <strong>forEach() 没有返回值，只是针对每个元素调用func</strong><br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">elem, index, array</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (arr[i] == <span class="number">2</span>) &#123;</span><br><span class="line">       <span class="keyword">continue</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="built_in">console</span>.log(elem, index)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><br> 这个语法看起来要简洁很多，不需要通过索引去访问数组项，然而它的缺点也是很明显，不支持 break、continue 等。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (i === <span class="number">2</span>) &#123;</span><br><span class="line">       <span class="keyword">return</span>;</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       <span class="built_in">console</span>.log(i)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><br> 这段代码的”本意”是从第一个元素开始遍历，遇到数组项 2 之后就结束遍历，不然打印出所遍历过的数值项。可是，事实让你大跌眼镜，因为它的输出是 1, 3, 4, 5。</p><blockquote><p>注意<br><code>forEach</code> 的代码块中不能使用 <code>break</code>、<code>continue</code>，它会抛出异常。</p></blockquote><p> <strong>map() 返回新的数组，每个元素为调用func的结果</strong><br>  return的值会返回一个新数组<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">let</span> result = arr.map(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">   value += <span class="number">1</span></span><br><span class="line">   <span class="built_in">console</span>.log(value)</span><br><span class="line">   <span class="keyword">return</span> value</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr, result)</span><br></pre></td></tr></table></figure></p><p> <strong>filter() 返回符合func条件的元素数组</strong><br>  筛选符合条件的值，返回新的数组<br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> result = arr.filter(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(value)</span><br><span class="line">   <span class="keyword">return</span> value == <span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr, result)</span><br></pre></td></tr></table></figure></p><p> <strong>some() 返回boolean，判断是否有元素符合func条件</strong><br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> result = arr.some(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(value)</span><br><span class="line">   <span class="keyword">return</span> value == <span class="number">4</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr, result)</span><br></pre></td></tr></table></figure></p><p> <strong>every() 返回boolean，判断每个元素都符合func条件</strong><br>    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> result = arr.every(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(value)</span><br><span class="line">   <span class="keyword">return</span> value == <span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr, result)</span><br></pre></td></tr></table></figure><br> 同样完成刚才的目标，使用 <code>every</code> 遍历就可以做到 <code>break</code> 那样的效果，简单的说 <code>return false</code> 等同于 <code>break</code>，<code>return true</code> 等同于 <code>continue</code>。如果不写，默认是 <code>return false</code>。</p><blockquote><p><strong>注意</strong><br><code>every</code> 的代码块中不能使用 <code>break</code>、<code>continue</code>，它会抛出异常。</p></blockquote><p> <strong>reduce() 接收一个函数作为累加器</strong><br>    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sum = arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev, cur, index, array</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> prev + cur</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="built_in">console</span>.log(sum)</span><br></pre></td></tr></table></figure><br>    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> max = arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev, cur</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="built_in">Math</span>.max(prev, cur)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(max)</span><br></pre></td></tr></table></figure><br>    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> res = arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev, cur</span>) </span>&#123;</span><br><span class="line">   prev.indexOf(cur) == <span class="number">-1</span> &amp;&amp; prev.push(cur)</span><br><span class="line">   <span class="keyword">return</span> prev</span><br><span class="line">&#125;, [])</span><br><span class="line"><span class="built_in">console</span>.log(res)</span><br></pre></td></tr></table></figure></p><p> 有的同学会说，还有 <code>for...in</code> 可以遍历数组。<br>    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> index <span class="keyword">in</span> array) &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(array[index]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br> 说的没错，<code>for...in</code> 确实可以遍历数组，而且还支持 <code>continue</code>、<code>break</code>等功能，但是它真的没有瑕疵吗？如果 <code>array</code> 有自定义属性，你发现也会被遍历出来(显然不合理)。这是因为 <code>for...in</code> 是为遍历对象创造的<code>（{a:1, b:2}）</code>，不是为数组设计的。</p><blockquote><p>注意<br>for…in不能用于遍历数组。<br>for…in代码块中不能有 return，不然会抛出异常。</p></blockquote><h3 id="ES6-中数组遍历方式-for…of"><a href="#ES6-中数组遍历方式-for…of" class="headerlink" title="ES6 中数组遍历方式 for…of"></a>ES6 中数组遍历方式 for…of</h3><p> 接下来就要步入正题，说说我们今天的主角：<code>for...of</code>。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> val <span class="keyword">of</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(val);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1,2,3</span></span><br></pre></td></tr></table></figure><br> 上述代码中轻松实现了数组的遍历，乍一看没有绝对它有非常强大之处。我们不得不强调下，<code>for...of</code>的来历和作用。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (variable <span class="keyword">of</span> iterable) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br> 看下这个伪代码，<code>of</code> 后面是 <code>iterable</code> 既不是 <code>for</code> 循环规定的 <code>array</code>，也不是 <code>for...in</code> 规定的 <code>Object</code>，而是 <code>iterable</code>。如果查查 <code>iterable</code> 的含义就很直观的感受到 <code>for...of</code> 遍历的是一切可遍历的元素（数组、对象、集合）等，不要小瞧这个功能，因为在 <code>ES6</code> 中允许开发者自定义遍历，换句话说任何数据结构都可以自定义一个遍历，这个遍历是不能被 <code>for</code>、<code>for...in</code> 理解和实现的。很抽象吧？<code>Iterator</code> 是如何实现的这是ES6的新增语法，后面课程中 <code>Iterator</code> 一节会讲。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> arr) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> arr.values()) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> arr.keys()) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [index, item] <span class="keyword">of</span> arr.entries()) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(index, item)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p><strong>TIP</strong><br>for…of是支持 break、continue、return的，所以在功能上非常贴近原生的 for。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>webpack4</title>
      <link href="/webpack4/"/>
      <url>/webpack4/</url>
      
        <content type="html"><![CDATA[<h1 id="webpack是什么"><a href="#webpack是什么" class="headerlink" title="webpack是什么"></a>webpack是什么</h1><p>  <strong>webpack是模块打包工具</strong>，它可以打包<code>ES6</code>的模块引入方式、<code>CommonJS</code>模块引入方式、<code>CMD</code>、<code>AMD</code>, 通俗的说<code>webpack</code>就是把多个文件打包成一个文件的工具，他并不能称为代码解析工具，高级语法webpack自身不识别，它只是一个模块打包工具。随着<code>webpack</code>的发展，<code>webapck</code>不仅能打包<code>js文件</code>了，通过loader，也可以打包<code>css样式</code>，<code>图片</code>等</p><h1 id="为什么要使用webpack"><a href="#为什么要使用webpack" class="headerlink" title="为什么要使用webpack"></a>为什么要使用webpack</h1><p>  在原来的模式中，在<code>index.html</code>中，我们需要引入多个<code>js文件</code>，并且要考虑<code>js文件</code>的先后顺序，这使得我们项目难以维护，同时加大了浏览器负载。通过<code>wenpack</code>进行打包构建，我们的只用在<code>index.hmtl</code>中引入一个<code>js文件</code>，帮助我们很好的解决了上面的问题，更加适合于大型项目的应用。</p><h1 id="安装webpack"><a href="#安装webpack" class="headerlink" title="安装webpack"></a>安装webpack</h1><ol><li>全局安装<ul><li>我们并不推荐全局安装<code>webpack</code>，这会是我们对<code>webpack</code>的使用具有局限性，我们在不同的项目中需要使用不同版本的<code>webpack</code>，如果全局安装了webpack，这会对项目造成麻烦<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack webpack-cli -g</span><br></pre></td></tr></table></figure></li></ul></li><li>局部安装<ul><li>推荐方案<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack webpack-cli -D</span><br></pre></td></tr></table></figure></li></ul></li><li>npx<br>在项目中执行命令，优先会到全局查找执行命令，如果全局没有这个命令，就会报错，不会执行局部命令， 这时候我们可以在要执行的命令前面<code>加上npx</code>，就可以解决问题。</li><li><code>npm info webpack</code> 查看<code>webpack</code>所有版本</li><li><strong>package.json</strong> 文件中的 <code>script</code><ul><li>在script可以配置npm的执行命令，这个命令查找是局部命令。以后可以通过npm run 自己设置的名称 就可以执行 命令了。<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">  "bundle" : "webpack"</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li></ul></li></ol><h1 id="webpack-config-js"><a href="#webpack-config-js" class="headerlink" title="webpack.config.js"></a>webpack.config.js</h1><ol><li>webpack.config.js 是webpack默认的执行文件，执行webapck命令的时候，webpack会首先到这个配置文件查看如何进行打包构建。</li><li>在webpack.config.js可以进行webpack的配置</li><li>修改配置文件名字为webpackconfig.js，执行配置文件可以如下执行：<ul><li>我们不建议修改webpack.config.js文件名字吗，修改后每次执行都要执行下面的代码<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpack --config webpackconfig.js</span><br></pre></td></tr></table></figure></li></ul></li></ol><h1 id="entry与output"><a href="#entry与output" class="headerlink" title="entry与output"></a>entry与output</h1><ol><li><p><code>entry</code>设置打包文件的入口文件，不需要绝对路径，<code>output</code>设置打包文件的路径和文件名，默认是<code>dist/main.js</code>，需要绝对路径</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: <span class="string">'./src/index.js'</span></span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">"bundle.js"</span>,</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'bundle'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>当需要打包多个js文件时</p><ul><li><code>entry: &#39;./src/index.js&#39;</code> 是<code>entry: {main: &#39;./src/index.js&#39;}</code>的简写形式</li><li><code>entry: {main: &#39;./src/index.js&#39;}</code> 这句语句表达了main是打包后的文件名（output设置了filename以output为准）和要打包的文件路径<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">      main: <span class="string">'./src/index.js'</span>,</span><br><span class="line">      sub: <span class="string">'./src/index.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">      filename: <span class="string">"[name].js"</span>, <span class="comment">//以entry对象的键作为文件名</span></span><br><span class="line">      path: path.resolve(__dirname, <span class="string">'dist'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><code>output</code>中<code>publicPath</code>属性</p><ul><li>作用：使<code>index.html</code>引入打包文件前添加一串<code>url地址</code></li><li>多用于<code>index.html</code>引用布置到<code>cdn</code>上打包好的文件<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://www.wormnimaya.top/main.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>output中<code>chunkFilename</code>属性<br><strong>此选项确定非输入块文件的名称</strong></p><p>请注意，这些文件名需要在运行时生成，以发送对块的请求。因此，需要使用webpack运行时添加<code>[name]</code>和<code>[chunkhash]</code>之类的占位符从块ID到占位符值的映射到输出包。这会增加大小，并且当任何块的占位符值更改时，捆绑包可能会失效。</p><p>默认情况下，使用<code>[id] .js</code>或从<code>output.filename</code>推断出的值（<code>[name]</code>替换为<code>[id]</code>。）。</p><ul><li>配置<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  output: &#123;</span><br><span class="line">      publicPath: <span class="string">"http://www.wormnimaya.top"</span>,</span><br><span class="line">      filename: <span class="string">"[name].js"</span>, <span class="comment">//以entry对象的键作为文件名</span></span><br><span class="line">      chunkFilename: <span class="string">'[id].js'</span>,</span><br><span class="line">      path: path.resolve(__dirname, <span class="string">'dist'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ol><h1 id="mode"><a href="#mode" class="headerlink" title="mode"></a>mode</h1><p> 这个属性是设置webpack在那种环境下运行：</p><ul><li>production 生产环境下运行，打包后的代码不会进行压缩</li><li>development 开发环境下运行，打包后的代码不会进行压缩<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  mode: &#39;production&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h1 id="loader"><a href="#loader" class="headerlink" title="loader"></a>loader</h1><h2 id="loader是什么？"><a href="#loader是什么？" class="headerlink" title="loader是什么？"></a>loader是什么？</h2><p>  由于webapck只能打包js文件，如果我们想打包其他形式地文件，就需要loader地帮助了，例如 图片 字体图标 .vue文件</p><h2 id="file-loader"><a href="#file-loader" class="headerlink" title="file-loader"></a>file-loader</h2><ol><li>作用<br>可以把文件打包到dist目录下，并把url返回到被打包文件中（主要打包图片和字体，也可以打包其它需要打包到dist目录下，并返回打包后的文件url）<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> avator <span class="keyword">from</span> <span class="string">'./1.jpg'</span></span><br><span class="line"><span class="keyword">import</span> txt <span class="keyword">from</span> <span class="string">'./1.txt'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> img = <span class="keyword">new</span> Image()</span><br><span class="line"><span class="built_in">console</span>.log(txt) <span class="comment">// 7623965e41d1b6998084c5d9f81bc947.txt</span></span><br><span class="line"><span class="built_in">console</span>.log(avator) <span class="comment">// bdfd6987a89acb6742e812ec6110ef33.jpg</span></span><br><span class="line">img.src = avator</span><br><span class="line"><span class="keyword">const</span> root = <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line"></span><br><span class="line">root.append(img)</span><br></pre></td></tr></table></figure></li><li>安装<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install file-loader --save-dev</span><br></pre></td></tr></table></figure></li><li>配置</li></ol><ul><li>outputPath：设置文件把图片打包到到同一文件中</li><li>name：配置打包后的文件名<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> <span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [&#123;</span><br><span class="line">            test: <span class="regexp">/\.(jpg|png|gif)$/</span>,</span><br><span class="line">            use: &#123;</span><br><span class="line">                loader: <span class="string">'file-loader'</span>,</span><br><span class="line">                options: &#123;</span><br><span class="line">                    name: <span class="string">'[name]_[hash].[ext]'</span>, <span class="comment">// 由原文件名_hash值.原文件格式</span></span><br><span class="line">                    outputPath:<span class="string">'images/'</span> </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="url-loader"><a href="#url-loader" class="headerlink" title="url-loader"></a>url-loader</h2><ol><li>作用<br>url-loader能够实现一切file-loader的功能，但是url-loader可以把较小的资源直接打包到main.js文件中，使index.html文件少一次请求，但是当文件过大的时候，打包到main.js文件中会使main.js过大，浏览器请求资源过长，这时候就不适合把资源打包到main.js文件中，url-loader这时候又可以把文件打包到dist目录下。</li><li>安装<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install url-loader --save-dev</span><br></pre></td></tr></table></figure></li><li>配置<ul><li>limit: 设置小于这个数字的打包到main.js文件中，大于打包到dist目录下<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [&#123;</span><br><span class="line">            test: <span class="regexp">/\.(jpg|png|gif)$/</span>,</span><br><span class="line">            use: &#123;</span><br><span class="line">                loader: <span class="string">'url-loader'</span>,</span><br><span class="line">                options: &#123;</span><br><span class="line">                    name: <span class="string">'[name]_[hash].[ext]'</span>,</span><br><span class="line">                    outputPath:<span class="string">'images/'</span>,</span><br><span class="line">                    limit: <span class="number">48333</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ol><h2 id="loader处理样式"><a href="#loader处理样式" class="headerlink" title="loader处理样式"></a>loader处理样式</h2><p>  loader使从后往前依次执行</p><h3 id="css-loader和style-loader"><a href="#css-loader和style-loader" class="headerlink" title="css-loader和style-loader"></a>css-loader和style-loader</h3><ol><li>作用<br>css-loader把所有的css文件合并成一个css文件，style-loader把合成好的css文件挂载到index.js文件上</li><li>安装<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev css-loader style-loader</span><br></pre></td></tr></table></figure></li><li>配置<ul><li><code>importLoaders 启用/禁用或设置在</code>CSS<code>加载器之前应用的加载器数目</code>，如果在样式的嵌套的情况下，外层的样式文件从第一个执行，但是内部嵌套的样式文件可能不会从第一个模块执行，而是从外部样式文件解析到的<code>loader</code>进行解析。<code>importLoaders</code>可以规定内部样式文件从外部文件解析到<code>loader</code>前面几个开始解析。</li><li><code>module: true 开启css模块化</code>，不开启<code>css模块化</code>在入口文件引入的样式作用于全局，这样会使子组件的造成样式混乱。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> style <span class="keyword">from</span> <span class="string">'./index.scss'</span></span><br><span class="line"><span class="keyword">let</span> img = <span class="keyword">new</span> Image()</span><br><span class="line">img.src = avator</span><br><span class="line">img.classList.add(style.box) <span class="comment">//使用样式</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> root = <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">root.append(img)</span><br></pre></td></tr></table></figure><h3 id="sass-loader"><a href="#sass-loader" class="headerlink" title="sass-loader"></a>sass-loader</h3></li></ul></li><li>作用<br>sass-loader的作用使把scss语法转换成css语法</li><li>安装<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install sass-loader sass --save-dev</span><br></pre></td></tr></table></figure></li></ol><h3 id="postcss-loader"><a href="#postcss-loader" class="headerlink" title="postcss-loader"></a>postcss-loader</h3><ol><li>作用<br>postcss-loader的作用是给样式添加前缀，使样式兼容所有浏览器</li><li>安装<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -D postcss-loader autoprefixer</span><br></pre></td></tr></table></figure></li><li>创建postcss的配置文件postcss.config.js文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">module.exports &#x3D; &#123; </span><br><span class="line">    plugins: [ </span><br><span class="line">        require(&#39;autoprefixer&#39;)(&#123; overrideBrowserslist: [&#39;last 15 versions&#39;] &#125;) </span><br><span class="line">    ] </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>配置<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [&#123;</span><br><span class="line">            test: <span class="regexp">/\.(css|scss)$/i</span>,</span><br><span class="line">            use: [</span><br><span class="line">                <span class="string">'style-loader'</span>,</span><br><span class="line">                &#123;</span><br><span class="line">                    loader: <span class="string">'css-loader'</span>,</span><br><span class="line">                    options: &#123;</span><br><span class="line">                        importLoaders: <span class="number">2</span>,</span><br><span class="line">                        modules: <span class="literal">true</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="string">'postcss-loader'</span>,</span><br><span class="line">                <span class="string">'sass-loader'</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>注意<br>postcss-loader必须放在css-loader的后面，如果不放在这个位置，在样式嵌套的时候post-loader将不会生效</p></blockquote></li></ol><h3 id="loader处理字体图标"><a href="#loader处理字体图标" class="headerlink" title="loader处理字体图标"></a>loader处理字体图标</h3><ol><li>字体图标的使用<br>保留下载后的<code>iconfont.css</code>, <code>iconfont.svg</code>, <code>iconfont.eto</code>, <code>iconfont.tff</code>, <code>iconfont.woff</code>, <code>iconfont.woff2</code>等字体文件，把iconfont.css引入项目中，<strong>注意</strong>:<code>iconfont.css</code>需要与其他字体文件同一个文件目录，图标才会起作用，如果<code>iconfont.css</code>与其他字体文件不在同一个文件目录中，请修改<code>iconfont.css</code>文件中字体文件所对应的<code>url地址</code>。</li><li>安装<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install file-loader --save-dev</span><br></pre></td></tr></table></figure></li><li>配置<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [&#123;</span><br><span class="line">            test: <span class="regexp">/\.(eot|svg|ttf|woff|woff2)$/</span>,</span><br><span class="line">            use: &#123;</span><br><span class="line">                loader: <span class="string">'file-loader'</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>注意：<br>字体图标打包时，css-loader不能打开<code>modules: true</code>,打开后字体图标将不会显示</p></blockquote></li></ol><h1 id="plugin"><a href="#plugin" class="headerlink" title="plugin"></a>plugin</h1><h2 id="plugin是什么？"><a href="#plugin是什么？" class="headerlink" title="plugin是什么？"></a>plugin是什么？</h2><p>  plugin 可以在webpack运行到某个时刻的时候，帮你做一些事情</p><h2 id="HtmlWebpackPlugin"><a href="#HtmlWebpackPlugin" class="headerlink" title="HtmlWebpackPlugin"></a>HtmlWebpackPlugin</h2><ol><li><p>作用<br><code>htmlWebpackPlugin</code> 会在打包结束后，自动生成一个html文件，并把打包生成的js自动引入到这个html中</p></li><li><p>安装</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev html-webpack-plugin</span><br></pre></td></tr></table></figure></li><li><p>配置</p><ul><li><code>html-webpack-plugin</code>可以用<code>template</code>指定一个模板来生成dist目录下的index.html<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</span><br><span class="line"></span><br><span class="line"> <span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [<span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">    template: <span class="string">'src/index.html'</span></span><br><span class="line">  &#125;)],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>template</strong>  例如:想在生成的index.html中生成一个<code>&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</code>,就可以指定一个模板</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="cleanWebpackPlugin"><a href="#cleanWebpackPlugin" class="headerlink" title="cleanWebpackPlugin"></a>cleanWebpackPlugin</h2><ol><li>作用<br><code>cleanWebpackPlugin</code> 会在打包之前删除dist文件下的所有文件，便于webpack从新打包</li><li>安装<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev clean-webpack-plugin</span><br></pre></td></tr></table></figure></li><li>配置<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;CleanWebpackPlugin&#125; = <span class="built_in">require</span>(<span class="string">'clean-webpack-plugin'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">   plugins: [<span class="keyword">new</span> CleanWebpackPlugin()]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h1 id="SourceMap"><a href="#SourceMap" class="headerlink" title="SourceMap"></a>SourceMap</h1><ol><li><strong>作用</strong><br><code>sourceMap</code> 它是一个映射关系，他把<code>main.js</code>与<code>src文件</code>下的文件建立对应关系，浏览器报错时通过<code>main.js</code>与<code>src文件</code>下的文件建立对应关系找到对应那个文件的那行代码出错。</li><li>如果你启用了<code>mode: &#39;production&#39;</code>, <code>production</code>中已经帮助你启用<code>sourceMap</code>了</li><li>SourceMap的配置<ul><li>source-map 把对应文件独自打包到dist目录下</li><li>inline-source-map 把对应文件打包到main.js中</li><li><code>cheap-</code>前缀 使对应关系之精确到行不精确那个字母 使对应关系指建立业务代码的对应关系，不关心第三方库</li><li>module 建立业务代码和第三方库都与main.js建立相应关系</li><li>eval 打包速度最快，但是不适合复杂代码 ，把对应文件打包到main.js中  <code>eval(&quot;consola.log(1111)\n\n//# sourceURL=webpack:///./src/index.js?&quot;);</code></li></ul></li><li>推荐SourceMap的配置<ul><li>development环境: <code>cheap-module-eval-source-map</code></li><li>production环境: <code>cheap-module-source-map</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">   mode: <span class="string">'development'</span>,</span><br><span class="line">   devtool: <span class="string">'cheap-module-eval-source-map'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ol><h1 id="webpackDevServer"><a href="#webpackDevServer" class="headerlink" title="webpackDevServer"></a>webpackDevServer</h1><h2 id="webpack-–watch"><a href="#webpack-–watch" class="headerlink" title="webpack –watch"></a>webpack –watch</h2><p>  这个很简单，直接在package.json中配置如下即可(<strong>但是这里我没有配置出来，不知道为什么运行<code>npm run watch</code>后，修改代码保存就找不到index.html</strong>)<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;watch&quot;: &quot;webpack --watch&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>  当运行<code>npm run watch</code>后，只要在源代码中修改代码，webpack就会监听到打包文件发生了变化，它就会重新进行打包。</p><p>  虽然这个方法比我们单纯的用npm run bundle方便很多，但是它还是有很多的不方便：</p><ul><li><p>页面修改时，不能自动更新，还需要人为的手动刷新浏览器</p></li><li><p>不能自动开启一个浏览器</p></li><li><p>不能模拟一些服务器上的东西</p><p>这个时候光光<code>webpack --watch</code>就不行了，我们可以借助<code>webpack-dev-server</code>来帮助我们实现更酷炫的效果。  </p></li></ul><h2 id="webpack-dev-server"><a href="#webpack-dev-server" class="headerlink" title="webpack-dev-server"></a>webpack-dev-server</h2><ol><li><p>安装</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i webpack-dev-server -D</span><br></pre></td></tr></table></figure></li><li><p>配置</p><ul><li>contentBase： 是借助webpack-dev-serve启动一个服务器的根路径</li><li>open： 是否浏览器自动访问服务器的地址<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">  contentBase: <span class="string">'./dist'</span>,</span><br><span class="line">  open: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><strong>package.json</strong><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;start&quot;: &quot;webpack-dev-server&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>如果大家有实践的话应该知道，当修改代码的时候，<code>webpack-dev-serve</code>会自动帮我们刷新浏览器，所以使用它可以更方便的提升代码开发的效率。</p><p>好奇的朋友可能会问，问什么需要借助<code>webpack-dev-serve</code>来开启一个服务器呢</p><p>如果我们还像之前一样使用<code>npm run bundle</code>， 以<code>file</code>的形式打开<code>html</code>，这个页面想发<code>ajax</code>请求就不可以了。大家有见过浏览器中有以<code>file</code>开头的浏览器么？所以如果想发<code>ajax</code>请求，就要求<code>html</code>文件必须在一个服务器上，以<code>http</code>的形式打开。</p><p>所以一般像<code>react</code>脚手架工具或者<code>vue</code>脚手架工具都会帮助我们自动开启一个服务器，其实这个服务器就是通过<code>webpack-dev-serve</code>开启的。</p><blockquote><p>这里我想扩充一下，为什么上面说的脚手架工具可以使用接口代理呢，是因为<code>webpack-dev-serve</code>本质上就接受跨域的代理，详细内容请移步<a href="https://www.webpackjs.com/configuration/dev-server/#devserver-proxy" target="_blank" rel="noopener">devServer-proxy</a></p></blockquote><p><strong>我还想问问大家有没有发现打包生成的文件没有出现在你所指定的文件夹中，这是为什么呢？</strong></p><p>打包生成的文件不会放在dist目录下，而是放在了电脑的内存里面，这样做可以提升打包的速度，让开发速度更快。</p></li></ol><h2 id="自建一个类似webpack-dev-server"><a href="#自建一个类似webpack-dev-server" class="headerlink" title="自建一个类似webpack-dev-server"></a>自建一个类似webpack-dev-server</h2><ol><li>先安装<code>webpack-dev-middleware</code>中间件，这个中间件可以监听文件代码发生了变化，只要发生变化了就会重新打包,安装<code>express</code>, <code>express</code>是<code>node</code>中帮助我们快速搭建服务器的<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express webpack-dev-middleware -D</span><br></pre></td></tr></table></figure></li><li>然后先添加npm脚本， 让我们可以运行服务<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;server&quot;: &quot;node server.js&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>首先在<code>webpack.config.js</code>中的<code>output</code>中添加<code>publicPath</code>，它表示的是所有打包生成的文件之间的引用前面都加一个根路径(<strong>这块的配置不是必须配置</strong>)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">  publicPath: <span class="string">'/'</span>,</span><br><span class="line">  filename: <span class="string">'[name].js'</span>,</span><br><span class="line">  path: path.resolve(__dirname, <span class="string">'dist'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>完成了如上的简单操作后，现在的核心任务是怎样去写这个<code>server.js</code>帮助我们去创建一个服务器<br><strong>server.js</strong><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 在node中直接使用webpack</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"><span class="keyword">const</span> webpackDevMiddleware = <span class="built_in">require</span>(<span class="string">'webpack-dev-middleware'</span>)</span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">'./webpack.config'</span>)</span><br><span class="line"><span class="comment">// 用webpack结合配置文件,随时进行代码的编译</span></span><br><span class="line"><span class="keyword">const</span> complier = webpack(config)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line"></span><br><span class="line"><span class="comment">//只要文件发生改变，compiler就会重新运行，重新运行的生成文件对应的打包输出内容的publicPath就是config.output.publicPath</span></span><br><span class="line">app.use(webpackDevMiddleware(complier, &#123;</span><br><span class="line">    publicPath: config.output.publicPath</span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'server is running'</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>但是大家会发现，当页面发生变化时，我们还是需要自己手动进行刷新，如果想要写出像<code>webpack-dev-serve</code>这样的<code>server</code>服务器的话， 还需要很多的配置项。这其中还是很耗费精力的。</li></ol><h1 id="热加载"><a href="#热加载" class="headerlink" title="热加载"></a>热加载</h1><ol><li>作用<br>不刷新页面，只更新修改的代码</li><li>配置<ul><li>不需要安装任何插件，webpack内置的插件就能完成热加载<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">     contentBase: <span class="string">'./dist'</span>,</span><br><span class="line">     open: <span class="literal">true</span>,</span><br><span class="line">     hot: <span class="literal">true</span>, <span class="comment">// 启动热加载</span></span><br><span class="line">     <span class="comment">// hotOnly: true // 样式不生效，页面也不会刷新</span></span><br><span class="line"> &#125;,</span><br><span class="line"></span><br><span class="line">plugins: [</span><br><span class="line">     <span class="keyword">new</span> Webpack.HotModuleReplacementPlugin()</span><br><span class="line">],</span><br></pre></td></tr></table></figure></li></ul></li><li>原理<ul><li>当模块中启用了热加载，<code>.number</code>路径下文件改变时，会调用箭头函数</li><li>一般样式文件不用配置这个，因为<code>css-loader</code>已经帮我们配置好了</li><li>但是<code>js</code>文件并没有配置，启动热加载后，<code>js</code>文件不会重新调用，需要利用下面的代码自行调用</li><li>成熟的<code>js</code>框架也已经帮我们配置好了，例如<code>React</code>，<code>Vue</code>等。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="built_in">module</span>.hot) &#123;</span><br><span class="line">  <span class="built_in">module</span>.hot.accept(<span class="string">'./number'</span>,() =&gt; &#123;</span><br><span class="line">    <span class="comment">// 进行相应的操作</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ol><h1 id="babel解决ES6版本不兼容浏览器问题"><a href="#babel解决ES6版本不兼容浏览器问题" class="headerlink" title="babel解决ES6版本不兼容浏览器问题"></a>babel解决ES6版本不兼容浏览器问题</h1><p> <strong>在高版本的浏览器已经支持<code>ES6</code>的代码了，但是低版本浏览器却不支持，因此我们还学要配置<code>babel</code></strong></p><h2 id="安装方式一"><a href="#安装方式一" class="headerlink" title="安装方式一"></a>安装方式一</h2><p>  <strong>这种配置方法适合绝大多数情况，但是它会通过全局变量的形式注入，污染全局环境，不适合开发类库、第三方模块和组件库</strong></p><ol><li><p>帮助<code>webpack</code>解析<code>ES6</code>的代码，只是为<code>webpack</code>与<code>babel</code>建议一个桥梁，并不能解析<code>ES6</code>的代码</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev babel-loader @babel/core</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> rules: [</span><br><span class="line">  &#123; </span><br><span class="line">    test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">    exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">    loader: <span class="string">"babel-loader"</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li><p>用来解析<code>ES6</code>代码</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @babel/preset-env --save-dev</span><br></pre></td></tr></table></figure><p>在项目根目录新建一个文件<code>.babelrc</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;presets&quot;: [&quot;@babel&#x2F;preset-env&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>虽然上面已经把ES6语法解析成ES5语法，但是像promise的语法，ES6无法转换成ES5,需要把这部分语法添加到低版本的浏览器中</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save @babel/polyfill</span><br></pre></td></tr></table></figure><p>在入口文件导入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &quot;@babel&#x2F;polyfill&quot;;</span><br></pre></td></tr></table></figure><p>配置<code>promise类似语法</code>按需加载,在<code>.babelrc</code>文件中进行配置完后，我们可以去掉页面中的<code>import &quot;@babel/polyfill&quot;;</code>，<code>useBuiltIns</code>帮我们实现了按需的加载</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">We noticed you&#39;re using the &#96;useBuiltIns&#96; option without declaring a core-js version. Currently, we assume version 2.x when no version is passed. Since this default version will likely change in future versions of Babel, we recommend explicitly setting the core-js version you are using via the &#96;corejs&#96; option.</span><br></pre></td></tr></table></figure><p>解决报错信息</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save core-js@3</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;presets&quot;: [</span><br><span class="line">    [&quot;@babel&#x2F;preset-env&quot;,&#123;</span><br><span class="line">      &quot;useBuiltIns&quot;: &#39;usage&#39;,</span><br><span class="line">      &quot;corejs&quot;: &quot;3.0.0&quot;</span><br><span class="line">    &#125;]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在某些高版本的浏览器已经兼容了<code>ES6</code>, 当我们使用高版本的浏览器的时候就可以不使用<code>babel</code>，在低版本中在使用<code>babel</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;presets&quot;: [</span><br><span class="line">    [&quot;@babel&#x2F;preset-env&quot;,&#123;</span><br><span class="line">      &quot;targets&quot;: &#123;</span><br><span class="line">        &quot;edge&quot;: &quot;17&quot;,</span><br><span class="line">        &quot;firefox&quot;: &quot;60&quot;,</span><br><span class="line">        &quot;chrome&quot;: &quot;67&quot;,</span><br><span class="line">        &quot;safari&quot;: &quot;11.1&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;useBuiltIns&quot;: &#39;usage&#39;,</span><br><span class="line">      &quot;corejs&quot;: &quot;3.0.0&quot;</span><br><span class="line">    &#125;]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="安装方式二"><a href="#安装方式二" class="headerlink" title="安装方式二"></a>安装方式二</h2><p> <strong>适合开发类库、第三方模块和组件库</strong></p><ol><li>帮助<code>webpack</code>解析<code>ES6</code>的代码，只是为<code>webpack</code>与<code>babel</code>建议一个桥梁，并不能解析<code>ES6</code>的代码<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev babel-loader @babel/core</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> rules: [</span><br><span class="line">  &#123; </span><br><span class="line">    test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">    exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">    loader: <span class="string">"babel-loader"</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li>安装<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev @babel/plugin-transform-runtime</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save @babel/runtime</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save @babel/runtime-corejs2</span><br></pre></td></tr></table></figure></li><li>配置在项目根目录新建一个<code>.babelrc文件</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;plugins&quot;: [</span><br><span class="line">    [&quot;@babel&#x2F;plugin-transform-runtime&quot;,&#123;</span><br><span class="line">      &quot;absoluteRuntime&quot;: false,</span><br><span class="line">      &quot;corejs&quot;: 2,</span><br><span class="line">      &quot;helpers&quot;: true,</span><br><span class="line">      &quot;regenerator&quot;: true,</span><br><span class="line">      &quot;useESModules&quot;: false,</span><br><span class="line">      &quot;version&quot;: &quot;7.0.0-beta.0&quot;</span><br><span class="line">    &#125;]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h1 id="React代码进行打包"><a href="#React代码进行打包" class="headerlink" title="React代码进行打包"></a>React代码进行打包</h1><ol><li>安装<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev @babel/preset-react</span><br></pre></td></tr></table></figure></li><li>配置<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;presets&quot;: [&quot;@babel&#x2F;preset-react&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h1 id="Tree-Shaking"><a href="#Tree-Shaking" class="headerlink" title="Tree Shaking"></a>Tree Shaking</h1><p> <code>Tree Shaking</code>支持<code>ES6 import</code>导入</p><ol><li>作用<br>只打包在项目中使用的代码，在项目中定义但是没有被使用的不进行打包</li><li>在<code>development</code>的情况下<br><strong>即使在<code>development</code>配置了<code>Tree Shaking</code>，没有使用的代码也会进行打包，这是因为<code>source-map</code>已经与文件建立了对应，删除代码会造成错误（我有点不明白，<code>development</code>环境下，配置了<code>Tree Shaking</code>，没有使用的代码也会进行打包，为什么还要配置它）</strong><ul><li>在webpack.config.js中配置<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">optimization: &#123;</span><br><span class="line">    usedExports: true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>在package.json中<br><code>sideEffects</code>可以去除某些模块的<code>Tree Shaking</code>，例如在我们配置了<code>Tree Shaking</code>的情况下，有些时候，我们引入样式文件，但是并没有导出对象，<code>Tree Shaking</code>会认为样式文件没有被使用，不会进行打包，这时候我们可以为<code>sideEffects</code>属性添加一个数组，在数组里面添加的文件，不会进行<code>Tree Shaking</code>，如果<code>sideEffects设置为false</code>，代表全部文件进行<code>Tree Shaking</code><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">"sideEffects": false,</span><br><span class="line"><span class="comment">//"sideEffects": ["*.css"],</span></span><br></pre></td></tr></table></figure></li></ul></li><li>在<code>production</code>的情况下<br><strong>在<code>production</code>的情况下,production已经帮我们配置好了<code>Tree Shaking</code>，我们只需要在package.json中加入如下代码，这时候没有使用的代码没有被打包</strong><ul><li>在package.json中<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">"sideEffects": false,</span><br><span class="line"><span class="comment">//"sideEffects": [],</span></span><br></pre></td></tr></table></figure></li></ul></li></ol><h1 id="webpack-config-js的拆分"><a href="#webpack-config-js的拆分" class="headerlink" title="webpack.config.js的拆分"></a>webpack.config.js的拆分</h1><ol><li>在根目录中建<code>build</code>文件夹,里面分别建文件<code>webpack.common.js</code>，<code>webpack.dev.js</code>，<code>webpack.prod.js</code>,公共代码放在<code>webpack.common.js</code>里，开发环境代码放在<code>webpack.dev.js</code>里，生产环境代码放在<code>webpack.prod.js</code>里。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">|-- webpack-demo</span><br><span class="line">    |-- .babelrc</span><br><span class="line">    |-- package-lock.json</span><br><span class="line">    |-- package.json</span><br><span class="line">    |-- postcss.config.js</span><br><span class="line">    |-- build</span><br><span class="line">    |   |-- webpack.common.js</span><br><span class="line">    |   |-- webpack.dev.js</span><br><span class="line">    |   |-- webpack.prod.js</span><br><span class="line">    |-- dist</span><br><span class="line">    |   |-- index.html</span><br><span class="line">    |   |-- main.js</span><br><span class="line">    |   |-- main.js.map</span><br><span class="line">    |-- src</span><br><span class="line">        |-- index.html</span><br><span class="line">        |-- index.js</span><br><span class="line">        |-- math.js</span><br></pre></td></tr></table></figure></li><li>安装<code>webpack-merge</code>将模块合并<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D webpack-merge</span><br></pre></td></tr></table></figure></li><li>webpack.common.js<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</span><br><span class="line"><span class="keyword">const</span> &#123;CleanWebpackPlugin&#125; = <span class="built_in">require</span>(<span class="string">'clean-webpack-plugin'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        main: <span class="string">'./src/index.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [&#123;</span><br><span class="line">            test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">            exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">            loader: <span class="string">"babel-loader"</span></span><br><span class="line">        &#125;,&#123;</span><br><span class="line">            test: <span class="regexp">/\.(jpg|png|gif)$/</span>,</span><br><span class="line">            use: &#123;</span><br><span class="line">                loader: <span class="string">'url-loader'</span>,</span><br><span class="line">                options: &#123;</span><br><span class="line">                    name: <span class="string">'[name]_[hash].[ext]'</span>,</span><br><span class="line">                    limit: <span class="number">48333</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">            test: <span class="regexp">/\.(css|scss)$/</span>,</span><br><span class="line">            use: [</span><br><span class="line">                <span class="string">'style-loader'</span>,</span><br><span class="line">                &#123;</span><br><span class="line">                    loader: <span class="string">'css-loader'</span>,</span><br><span class="line">                    options: &#123;</span><br><span class="line">                        importLoaders: <span class="number">2</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="string">'postcss-loader'</span>,</span><br><span class="line">                <span class="string">'sass-loader'</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">            test: <span class="regexp">/\.(eot|svg|ttf|woff|woff2)$/</span>,</span><br><span class="line">            use: &#123;</span><br><span class="line">                loader: <span class="string">'file-loader'</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">            template: <span class="string">'src/index.html'</span></span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="keyword">new</span> CleanWebpackPlugin(),</span><br><span class="line">    ],</span><br><span class="line">     optimization: &#123;</span><br><span class="line">        usedExports: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">"[name].js"</span>,</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'../dist'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>webpack.dev.js<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;merge&#125; = <span class="built_in">require</span>(<span class="string">'webpack-merge'</span>)</span><br><span class="line"> <span class="keyword">const</span> Webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"> <span class="keyword">const</span> commonConfig = <span class="built_in">require</span>(<span class="string">'./webpack.common'</span>)</span><br><span class="line"> <span class="keyword">const</span> devConfig = &#123;</span><br><span class="line">     mode: <span class="string">'development'</span>,</span><br><span class="line">     devtool: <span class="string">'cheap-module-eval-source-map'</span>,</span><br><span class="line">     devServer: &#123;</span><br><span class="line">         contentBase: <span class="string">'./dist'</span>,</span><br><span class="line">         open: <span class="literal">true</span>,</span><br><span class="line">         hot: <span class="literal">true</span>,</span><br><span class="line">         hotOnly: <span class="literal">true</span></span><br><span class="line">     &#125;,</span><br><span class="line">     plugins: [</span><br><span class="line">         <span class="keyword">new</span> Webpack.HotModuleReplacementPlugin()</span><br><span class="line">     ]</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="built_in">module</span>.exports = merge(devConfig, commonConfig)</span><br></pre></td></tr></table></figure></li><li>webpack.prod.js<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> &#123;merge&#125; = <span class="built_in">require</span>(<span class="string">'webpack-merge'</span>)</span><br><span class="line"><span class="keyword">const</span> commonConfig = <span class="built_in">require</span>(<span class="string">'./webpack.common'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> prodConfig = &#123;</span><br><span class="line">    mode: <span class="string">'production'</span>,</span><br><span class="line">    devtool: <span class="string">'cheap-module-source-map'</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = merge(commonConfig, prodConfig)</span><br></pre></td></tr></table></figure></li><li>package.json<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">  "dev": "webpack-dev-server --config ./build/webpack.dev.js",</span><br><span class="line">  "build": "webpack --config ./build/webpack.prod.js"</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><blockquote><p><strong>CleanWebpackPlugin文章推荐</strong><br><a href="https://awdr74100.github.io/2020-03-25-webpack-cleanwebpackplugin/" target="_blank" rel="noopener">clean-webpack-plugin 清除構建資料夾</a><br><a href="https://github.com/johnagan/clean-webpack-plugin" target="_blank" rel="noopener">clean-webpack-plugin</a></p></blockquote></li></ol><h1 id="splitChunksPlugin"><a href="#splitChunksPlugin" class="headerlink" title="splitChunksPlugin"></a>splitChunksPlugin</h1><ol><li>作用<br>进行代码分割，减轻浏览器的压力</li><li><code>webpack</code>中实现代码分割，分为两种方式<ul><li>同步代码： 只需要在<code>webpack.common.js</code>中做<code>optimization</code>的配置<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">optimization: &#123;</span><br><span class="line">  splitChunks: &#123;&#125; <span class="comment">// 代表官方的默认配置</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>异步代码: 异步代码，无需做任何配置，会自动进行代码分割, 在没有配置的情况下自动在dist目录下生成文件.<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getComponent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:"lodash" */</span> <span class="string">'lodash'</span>).then(<span class="function">(<span class="params">&#123;<span class="keyword">default</span>:_&#125;</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> element = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)</span><br><span class="line">        element.innerHTML = _.join([<span class="string">'dell'</span>,<span class="string">'lee'</span>],<span class="string">'_'</span>)</span><br><span class="line">        <span class="keyword">return</span> element</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">getComponent().then(<span class="function"><span class="params">element</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(element)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li>配置<ul><li>chunks: 1.<code>all</code> 同步和异步 2.<code>async</code> 异步 3.<code>initial</code> 同步</li><li>minSize 大于这个数字的进行代码分割，小于这个数字直接打包到<code>main.js</code>中</li><li>minChunks 在不同模块引入的次数，满足次数进行代码分割</li><li>maxSize(不太懂,但是不重要, 基本不用配置这个选项)</li><li>maxAsyncRequests 按需加载时并行请求的最大数量。</li><li>maxInitialRequests 入口点的最大并行请求数。</li><li>automaticNameDelimiter 打包名称的连接符</li><li>cacheGroups 缓冲组把模块缓存在这里，等模块都缓存完，进行分配给两个组进行打包</li><li>priority 优先级 当一个模块同时满足两个组，<code>priority</code>越大，就那个组</li><li>filename 设置代码分割打包后的文件名</li><li>test: <code>/[\\/]node_modules[\\/]/</code> 如果满足<code>node_modules</code>模块就进入这个组，不满足就进入下面的组，通知满足看<code>priority</code>优先级</li><li>reuseExistingChunk 不重复进行打包 例如a模块中嵌套b模块,但是a模块已经打包完成, b模块就无需再打包了, 当用到b模块的时候, 直接到a模块嵌套b模块代码中查找使用即可<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"> optimization: &#123;</span><br><span class="line">  splitChunks: &#123;</span><br><span class="line">    chunks: <span class="string">'all'</span>,</span><br><span class="line">    minSize: <span class="number">30000</span>,</span><br><span class="line">   <span class="comment">// minRemainingSize: 0,</span></span><br><span class="line">    maxSize: <span class="number">0</span>,</span><br><span class="line">    minChunks: <span class="number">1</span>,</span><br><span class="line">    maxAsyncRequests: <span class="number">6</span>,</span><br><span class="line">    maxInitialRequests: <span class="number">4</span>,</span><br><span class="line">    automaticNameDelimiter: <span class="string">'~'</span>,</span><br><span class="line">    cacheGroups: &#123;</span><br><span class="line">      defaultVendors: &#123;</span><br><span class="line">        test: <span class="regexp">/[\\/]node_modules[\\/]/</span>,</span><br><span class="line">        priority: <span class="number">-10</span>，</span><br><span class="line">        filename: <span class="string">'vender.js'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="keyword">default</span>: &#123;</span><br><span class="line">        minChunks: <span class="number">2</span>,</span><br><span class="line">        priority: <span class="number">-20</span>,</span><br><span class="line">        reuseExistingChunk: <span class="literal">true</span>,</span><br><span class="line">        filename: <span class="string">'commom.js'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li>打包时的报错信息<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error: SplitChunksPlugin: You are trying to set a filename for a chunk which is (also) loaded on demand.The runtime can only handle loading of chunks which match the chunkFilename schema. Using a custom filename would fail at runtime. (cache group: vendors)</span><br></pre></td></tr></table></figure><ul><li>产生原因<br>缓存组设置<code>filename</code>时，在<code>chunk</code>项配置为<code>initial</code>时才会生效，因为默认<code>chunk</code>为<code>all</code>，所以这里会报错，如果要提取的模块初始就加载，可以设置<code>chunk</code>为<code>inital</code>，这样就可以自定义<code>filename</code>了</li><li>解决办法: <code>将filenam改成 name:&#39;vendors&#39;</code></li></ul></li></ol><blockquote><p><strong>splitChunksPlugin心得</strong><br>默认<code>splitChunksPlugin</code>会把<code>node_modules</code>模块的代码打包一个文件中, 超过minSize不管是<code>异步或同步的逻辑代码</code>都会打包到分割到一个文件中，尽管是异步分割也会把引入的<code>node_modules</code>打包到<code>node_modules</code>模块中。<br><strong>总结</strong>: 就是把<code>node_modules</code>打包到<code>node_modules</code>模块中，逻辑代码打包到逻辑代码中。</p></blockquote><h1 id="打包分析"><a href="#打包分析" class="headerlink" title="打包分析"></a>打包分析</h1><p> <a href="https://github.com/webpack/analyse" target="_blank" rel="noopener">官方打包分析文档</a></p><ol><li>配置package.json后，重新打包根目录会生成stats.json文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;start&quot;: &quot;webpack --profile --json &gt; stats.json --config .&#x2F;build&#x2F;webpack.dev.js&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>把stats.json文件上传到<a href="http://webpack.github.io/analyse/" target="_blank" rel="noopener">http://webpack.github.io/analyse/</a> 进行分析</li><li><a href="https://webpack.js.org/guides/code-splitting/#bundle-analysis" target="_blank" rel="noopener">官方更多打包分析方案</a></li></ol><h1 id="Prefetching-Preloading-modules-预取-预加载模块"><a href="#Prefetching-Preloading-modules-预取-预加载模块" class="headerlink" title="Prefetching/Preloading modules(预取/预加载模块)"></a>Prefetching/Preloading modules(预取/预加载模块)</h1><ol><li><p>在导入时使用这些内联指​​令可以使<code>webpack</code>输出“ 资源提示”，告诉浏览器进行如何操作：</p><ul><li>prefetch: 将来可能需要一些导航资源</li><li>preload: 当前导航期间可能需要资源</li></ul></li><li><p>预取/预加载模块区别</p><ul><li>预加载的块开始并行于父块加载。父块完成加载后，预取的块开始。(资源请求)</li><li>预加载的块具有中等优先级，可以立即下载。浏览器空闲时，将下载预提取的块。(资源下载)</li><li>父块应立即请求预加载的块。预取的块可以在将来的任何时候使用。(资源使用)</li><li>浏览器支持不同。</li></ul></li><li><p>prefetch<br>简单的预取示例可以包含一个<code>HomePage</code>组件，该组件呈现一个<code>LoginButton</code>组件，然后按需在单击后加载<code>LoginModal</code>组件。</p><p><strong>LoginButton.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(<span class="comment">/* webpackPrefetch: true */</span> <span class="string">'LoginModal'</span>);</span><br></pre></td></tr></table></figure><p>这将导致<code>&lt;link rel =“ prefetch” href =“ login-modal-chunk.js”&gt;</code>附加在页面顶部，这将指示浏览器在空闲时间预取<code>login-modal-chunk.js</code>文件。</p><blockquote><p>一旦父块被加载，webpack将添加预取提示。</p></blockquote></li><li><p>preload<br>一个简单的预加载示例可以是一个组件，该组件始终依赖于应放在单独块中的大库。</p><p>让我们想象一个需要巨大<code>ChartingLibrary</code>的组件<code>ChartComponent</code>。呈现时将显示<code>LoadingIndicator</code>，并立即按需导入<code>ChartingLibrary</code>：<br><strong>ChartComponent.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(<span class="comment">/* webpackPreload: true */</span> <span class="string">'ChartingLibrary'</span>);</span><br></pre></td></tr></table></figure><p>当请求使用<code>ChartComponent</code>的页面时，还会通过<code>&lt;link rel =“ preload”&gt;</code>请求<code>charting-library-chunk</code>。假设页面块较小并且完成得更快，该页面将显示有<code>LoadingIndicator</code>，直到已经请求的制图库块完成为止。<strong>这将增加一点加载时间，因为它只需要一个往返，而不是两个。特别是在高延迟环境中。</strong></p></li></ol><h1 id="MiniCssExtractPlugin"><a href="#MiniCssExtractPlugin" class="headerlink" title="MiniCssExtractPlugin"></a>MiniCssExtractPlugin</h1><p> 该插件将CSS提取到单独的文件中。它为每个包含CSS的JS文件创建一个CSS文件。它支持CSS和SourceMap的按需加载。</p><ol><li>安装<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev mini-css-extract-plugin</span><br></pre></td></tr></table></figure></li><li>配置<ul><li>MiniCssExtractPlugin可以配置<code>filename</code>, <code>chunkFilename</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">'mini-css-extract-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [<span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span><br><span class="line">    filename: <span class="string">'[name].css'</span>,</span><br><span class="line">    chunkFilename: <span class="string">'[name].chunk.css'</span></span><br><span class="line">  &#125;)],</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/i</span>,</span><br><span class="line">        use: [MiniCssExtractPlugin.loader, <span class="string">'css-loader'</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p><strong>注意</strong>：<br>如果配置了 <code>Tree Shaking</code>, <code>sideEffects</code>需要配置<code>&quot;sideEffects&quot;: [&quot;*.css&quot;]</code>,<code>MiniCssExtractPlugin.loader</code>不要用<code>&#39; &#39;</code>包裹</p></blockquote></li></ul></li></ol><h1 id="optimize-css-assets-webpack-plugin"><a href="#optimize-css-assets-webpack-plugin" class="headerlink" title="optimize-css-assets-webpack-plugin"></a>optimize-css-assets-webpack-plugin</h1><p> <strong>在生产环境中压缩代码</strong></p><ol><li><p>安装</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev optimize-css-assets-webpack-plugin terser-webpack-plugin</span><br></pre></td></tr></table></figure></li><li><p>配置</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> TerserJSPlugin = <span class="built_in">require</span>(<span class="string">'terser-webpack-plugin'</span>);</span><br><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">'mini-css-extract-plugin'</span>);</span><br><span class="line"><span class="keyword">const</span> OptimizeCSSAssetsPlugin = <span class="built_in">require</span>(<span class="string">'optimize-css-assets-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  optimization: &#123;</span><br><span class="line">    minimizer: [<span class="keyword">new</span> TerserJSPlugin(&#123;&#125;), <span class="keyword">new</span> OptimizeCSSAssetsPlugin(&#123;&#125;)],</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span><br><span class="line">      filename: <span class="string">'[name].css'</span>,</span><br><span class="line">      chunkFilename: <span class="string">'[id].css'</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: [MiniCssExtractPlugin.loader, <span class="string">'css-loader'</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="caching-浏览器缓存"><a href="#caching-浏览器缓存" class="headerlink" title="caching(浏览器缓存)"></a>caching(浏览器缓存)</h1><p>当浏览器加载过一次文件后，就会缓存起来，下一次请求文件的时候直接加载，但是每次文件名称都一样，即使你修改了代码，浏览器通过名称辨识，修改过的文件与缓存的文件名称一致，直接引用缓存文件，即使我们修改了代码，也不能够得到及时的更新，这时候我们可以借助<code>[contenthash]</code>来解决问题，他会在打包的时候在尾部加一段字符，代码不变时，字符也不变，代码改变时，字符也随之改变，从而解决了浏览器缓存问题。</p></li><li><p>配置</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">    filename: <span class="string">"[name].[contenthash].js"</span>,</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'../dist'</span>),</span><br><span class="line">    chunkFilename: <span class="string">'[name].[contenthash].js'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>注意：<br><code>[contenthash]</code>与<code>webpack.HotModuleReplacementPlugin()</code>有冲突，两者都要使用的话，<strong>您可以根据环境进行不同的配置</strong>。</p></blockquote></li></ol><h1 id="Shimming"><a href="#Shimming" class="headerlink" title="Shimming"></a>Shimming</h1><ol><li>在<code>node_modules</code>中的第三方包中，我们不能直接在包中直接添加，可以用下面的方法在第三方库引入变量<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"></span><br><span class="line">plugins: [</span><br><span class="line">  <span class="keyword">new</span> webpack.ProvidePlugin(&#123;</span><br><span class="line">     $: <span class="string">'jquery'</span>,</span><br><span class="line">   &#125;),</span><br><span class="line"> ]</span><br></pre></td></tr></table></figure></li><li>修改模块的this指向，本身this指向自己的模块<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install imports-loader --save-dev</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">rules: [</span><br><span class="line">   &#123;</span><br><span class="line">      test: <span class="built_in">require</span>.resolve(<span class="string">'./src/index.js'</span>),</span><br><span class="line">      use: <span class="string">'imports-loader?this=&gt;window'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">],</span><br></pre></td></tr></table></figure>报错(没有解决)<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> ValidationError: Invalid options object. Imports Loader has been initialized using an options object that does not match the API schema.</span><br><span class="line">- options should be one of these:</span><br><span class="line">  object &#123; imports, … &#125; | object &#123; wrapper, … &#125; | object &#123; additionalCode, … &#125;</span><br><span class="line">  Details:</span><br><span class="line">   * options has an unknown property 'this'. These properties are valid:</span><br><span class="line">     object &#123; imports, … &#125; | object &#123; wrapper, … &#125; | object &#123; additionalCode, … &#125;</span><br><span class="line">   * options misses the property 'imports' | should be any non-object.</span><br><span class="line">   * options misses the property 'wrapper' | should be any non-object.</span><br><span class="line">   * options misses the property 'additionalCode' | should be any non-object.</span><br></pre></td></tr></table></figure></li></ol><h1 id="resolve"><a href="#resolve" class="headerlink" title="resolve"></a>resolve</h1><h2 id="resolve-alias"><a href="#resolve-alias" class="headerlink" title="resolve.alias"></a>resolve.alias</h2><p>  <strong>创建别名以更轻松地导入或需要某些模块。</strong></p><p>  <strong>webpack.config.js</strong><br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> resolve: &#123;</span><br><span class="line">  alias: &#123;</span><br><span class="line">    Utilities: path.resolve(__dirname, <span class="string">'src/utilities/'</span>),</span><br><span class="line">    Templates: path.resolve(__dirname, <span class="string">'src/templates/'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>  现在，不要像这样在导入时使用相对路径：<br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Utility <span class="keyword">from</span> <span class="string">'../../utilities/utility'</span>;</span><br></pre></td></tr></table></figure></p><p>  您可以使用别名：<br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Utility <span class="keyword">from</span> <span class="string">'Utilities/utility'</span>;</span><br></pre></td></tr></table></figure></p><h2 id="resolve-extensions"><a href="#resolve-extensions" class="headerlink" title="resolve.extensions"></a>resolve.extensions</h2><p> <strong>可以让我们引入文件的时候不添加后缀，尝试按数组中的顺序解析这些扩展</strong></p><blockquote><p>如果多个文件共享相同的名称，但具有不同的扩展名，则webpack将解析该扩展名列在数组中首位的文件，并跳过其余文件。</p></blockquote><p> <strong>webpack.config.js</strong><br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  resolve: &#123;</span><br><span class="line">    extensions: [<span class="string">'.wasm'</span>, <span class="string">'.mjs'</span>, <span class="string">'.js'</span>, <span class="string">'.json'</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br>  使用户在导入时不用扩展名：<br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> File <span class="keyword">from</span> <span class="string">'../path/file'</span>;</span><br></pre></td></tr></table></figure></p><h2 id="resolve-mainFiles"><a href="#resolve-mainFiles" class="headerlink" title="resolve.mainFiles"></a>resolve.mainFiles</h2><p> <strong>解析目录时默认导出的文件, 按数组的顺序依次解析</strong></p><p> <strong>webpack.config.js</strong><br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  resolve: &#123;</span><br><span class="line">    mainFiles: [<span class="string">'index'</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><blockquote><p><strong>注意</strong>：<br> <code>mainFiles: [&#39;index&#39;]</code>中必须配置<code>index</code>，否则会报错。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>viewport</title>
      <link href="/viewport/"/>
      <url>/viewport/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.jianshu.com/p/7ef03682016d" target="_blank" rel="noopener">文章转自</a></p><h1 id="为什么要使用viewport"><a href="#为什么要使用viewport" class="headerlink" title="为什么要使用viewport"></a>为什么要使用viewport</h1><p>手机有不同的分辨率，不同的屏幕大小，如何使我们开发应用或页面大小适合各种高低端手机的使用？学习html5的  viewport技术能够帮助我们实现这一点；</p><h1 id="viewport是什么？"><a href="#viewport是什么？" class="headerlink" title="viewport是什么？"></a>viewport是什么？</h1><p>首先来介绍一下，什么是viewport技术：viewport技术就是适配屏幕像素密度的技术；在css中，1px单位在像素密度越大的设备上表现的实际尺寸就越小。为了保证尺寸不失真，一般会在屏幕密度可选性较多的移动设备中来使用viewport技术，让同一套样式在不同密度设备中表现一致。</p><h1 id="viewport的使用"><a href="#viewport的使用" class="headerlink" title="viewport的使用"></a>viewport的使用</h1><p>viewport技术需要使用元信息标签来实现；</p><p>说了这么多，下面直接上代码，可以将下面代码写入一个html页面中，将代码运行在移动端来进行测试：</p><ol><li><p>一般，页面准许用户缩放时，使用以下设置，在移动端两手指捏合触发的事件</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">content</span>=<span class="string">"width=device-width,</span></span></span><br><span class="line"><span class="tag"><span class="string">      maximum-scale=10,</span></span></span><br><span class="line"><span class="tag"><span class="string">      initial-scale=1,</span></span></span><br><span class="line"><span class="tag"><span class="string">      minimum-scale=1,</span></span></span><br><span class="line"><span class="tag"><span class="string">      user-scalable=yes"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>不准许用户缩放页面，使用以下设置</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">content</span>=<span class="string">"width=device-width,</span></span></span><br><span class="line"><span class="tag"><span class="string">      maximum-scale=1,</span></span></span><br><span class="line"><span class="tag"><span class="string">      minimum-scale=1,</span></span></span><br><span class="line"><span class="tag"><span class="string">      initial-scale=1,</span></span></span><br><span class="line"><span class="tag"><span class="string">      user-scalable=no"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h1 id="属性的含义以及该如何设置"><a href="#属性的含义以及该如何设置" class="headerlink" title="属性的含义以及该如何设置"></a>属性的含义以及该如何设置</h1><ul><li>width:设置的是展示页面的视口（viewport）的宽度，一般不需要指定数值，让浏览器根据设备的实际宽度设置为自己的宽度即可；</li><li>maximum-scale:设置页面的放大倍数，取值范围：0.25——10.0；一般取值为：5、8、10；</li><li>initial-scale:初始化页面放大倍率，取值范围：0.25——10.0；一般取值为：1；</li><li>minimum-scale:设置页面的缩小倍数，取值范围：0.25——10.0，一般取值和initial-scale一致；<br>（以上三个属性互相配合使用，initial==mini&lt;=max）；</li><li>user-scalable:设置用户是否可以缩放页面：默认：yes(1)；或者no（0）；</li></ul>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 移动端 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>项目部署宝塔面板</title>
      <link href="/vue%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF/"/>
      <url>/vue%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF/</url>
      
        <content type="html"><![CDATA[<p> <a href="https://www.jianshu.com/p/c1e55dbe6d8d" target="_blank" rel="noopener">文章转自</a></p><h2 id="部署第1步"><a href="#部署第1步" class="headerlink" title="部署第1步"></a>部署第1步</h2><p> <code>yarn build / npm run build</code>打包你的vue项目</p><h2 id="部署第2步"><a href="#部署第2步" class="headerlink" title="部署第2步"></a>部署第2步</h2><ol><li><strong>配置<code>nginx</code>代理 这里先介绍宝塔，可以一步安装<code>nginx</code>环境，操作粗暴！</strong><br><img src="../image/nginx.png" alt=""><br><img src="../image/nginx1.png" alt=""></li><li><strong>点击根目录 把打包的代码上传</strong></li></ol><h2 id="部署第3步"><a href="#部署第3步" class="headerlink" title="部署第3步"></a>部署第3步</h2><p>  <strong>配置nginx代理</strong><br>  <img src="../image/nginx2.png" alt=""></p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">location ^~&#x2F;api&#x2F; &#123;</span><br><span class="line">    proxy_pass   http:&#x2F;&#x2F;39.108.48.226:7001&#x2F;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宝塔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue.config.js配置</title>
      <link href="/vue-config-js%E9%85%8D%E7%BD%AE/"/>
      <url>/vue-config-js%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="vue-config-js"><a href="#vue-config-js" class="headerlink" title="vue.config.js"></a>vue.config.js</h1><p>  <a href="https://cli.vuejs.org/zh/config/#%E5%85%A8%E5%B1%80-cli-%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener">官方文档</a></p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  devServer:&#123;</span><br><span class="line">    host:<span class="string">'localhost'</span>,</span><br><span class="line">    port:<span class="number">8080</span>,</span><br><span class="line">    proxy:&#123;</span><br><span class="line">      <span class="string">'/api'</span>:&#123;</span><br><span class="line">        target:<span class="string">'http://mall-pre.springboot.cn'</span>,</span><br><span class="line">        changeOrigin:<span class="literal">true</span>,</span><br><span class="line">        pathRewrite:&#123;</span><br><span class="line">          <span class="string">'/api'</span>:<span class="string">''</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  publicPath:<span class="string">'/app'</span>, <span class="comment">// 给项目添加子目录</span></span><br><span class="line">  outputDir:<span class="string">'dist'</span>, <span class="comment">// 打包到指定文件夹</span></span><br><span class="line">  indexPath:<span class="string">'index2.html'</span>, <span class="comment">// 指定生成的 index.html 的输出路径 (相对于 outputDir)。也可以是一个绝对路径</span></span><br><span class="line">  lintOnSave:<span class="literal">false</span>, <span class="comment">// 是否关闭eslint</span></span><br><span class="line">  productionSourceMap:<span class="literal">true</span>, <span class="comment">// 如果你不需要生产环境的源代码映像，可以将 其设置为 false 以加速生产环境构建</span></span><br><span class="line">  chainWebpack:<span class="function">(<span class="params">config</span>)=&gt;</span>&#123; <span class="comment">// 删除懒加载</span></span><br><span class="line">    config.plugins.delete(<span class="string">'prefetch'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue-router的懒加载</title>
      <link href="/vue-router%E7%9A%84%E6%87%92%E5%8A%A0%E8%BD%BD/"/>
      <url>/vue-router%E7%9A%84%E6%87%92%E5%8A%A0%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<h1 id="vue-router的懒加载"><a href="#vue-router的懒加载" class="headerlink" title="vue-router的懒加载"></a>vue-router的懒加载</h1><h2 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h2><p>  安装babel的<code>syntax-dynamic-import</code>插件<br>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev @babel/plugin-syntax-dynamic-import</span><br></pre></td></tr></table></figure><br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes:[</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/login'</span>,</span><br><span class="line">      name: <span class="string">'login'</span>,</span><br><span class="line">      component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'./pages/login.vue'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><h2 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h2>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes:[</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/login'</span>,</span><br><span class="line">      name: <span class="string">'login'</span>,</span><br><span class="line">      component: <span class="function"><span class="params">resolve</span> =&gt;</span> <span class="built_in">require</span>([<span class="string">'./pages/login.vue'</span>], resolve)</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="删除预加载"><a href="#删除预加载" class="headerlink" title="删除预加载"></a>删除预加载</h1><h2 id="什么路由的预加载"><a href="#什么路由的预加载" class="headerlink" title="什么路由的预加载"></a>什么路由的预加载</h2><p>  当我们浏览器闲置的时候，会把组件加载过来，等待使用组件的时候进行引用<br>  <img src="../image/router1.png" alt=""></p><h2 id="删除预加载-1"><a href="#删除预加载-1" class="headerlink" title="删除预加载"></a>删除预加载</h2><ol><li>为什么要删除预加载<br>因为有些浏览器支持预加载，但是有些老版本的浏览器不支持，就会把所有的组件加载回来，造成消耗带宽，删除预加载后，真正的需要那个组件，就向服务器请求那个组件</li><li>在项目的根目录新建一个vue.config.js文件<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  chainWebpack:<span class="function">(<span class="params">config</span>)=&gt;</span>&#123;</span><br><span class="line">    config.plugins.delete(<span class="string">'prefetch'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaScript</title>
      <link href="/javaScript/"/>
      <url>/javaScript/</url>
      
        <content type="html"><![CDATA[<h1 id="变量的使用"><a href="#变量的使用" class="headerlink" title="变量的使用"></a>变量的使用</h1><h2 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h2><ul><li><code>var</code> 的声明是在window上进行挂在</li><li>只含有函数作用域，不含有块级作用域<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不为变量赋值，输出的是undefined</span></span><br><span class="line"><span class="keyword">var</span> a</span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 声明和赋值分两行进行</span></span><br><span class="line"><span class="keyword">var</span> a</span><br><span class="line">a = <span class="number">6</span></span><br><span class="line"><span class="built_in">console</span>.log(a)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 声明和赋值分一行进行</span></span><br><span class="line"><span class="keyword">var</span> age  = <span class="number">18</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 一个变量被重新复赋值后，它原有的值就会被覆盖，变量值将以最后一次赋的值为准。</span></span><br><span class="line"><span class="keyword">var</span> age = <span class="number">18</span>;</span><br><span class="line">age = <span class="number">81</span>;</span><br></pre></td></tr></table></figure></li></ul><h2 id="变量提升"><a href="#变量提升" class="headerlink" title="变量提升"></a>变量提升</h2><p> 使用<code>var</code>关键字声明的变量，会在所有的代码执行之前被声明（但是不会赋值），但是如果声明变量时不使用<code>var</code>关键字，则变量不会被声明提前<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a)</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 上述代码相当于</span></span><br><span class="line"><span class="keyword">var</span> a</span><br><span class="line"><span class="built_in">console</span>.log(a)</span><br><span class="line">a = <span class="number">1</span></span><br></pre></td></tr></table></figure></p><h2 id="let"><a href="#let" class="headerlink" title="let"></a>let</h2><p> 在ES6提出了let关键字，let是为了解决var中不合理的地方提出的</p><ol><li>let 声明的全局变量不是全局对象window的属性<br>这就意味着，你不可以通过 window. 变量名 的方式访问这些变量，而 var 声明的全局变量是 window 的属性，是可以通过 window. 变量名 的方式访问的。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var a &#x3D; 5</span><br><span class="line">console.log(window.a) &#x2F;&#x2F; 5</span><br><span class="line"></span><br><span class="line">let a &#x3D; 5</span><br><span class="line">console.log(window.a) &#x2F;&#x2F; undefined</span><br></pre></td></tr></table></figure></li><li>用let定义变量不允许重复声明<br>这个很容易理解，使用 var 可以重复定义，使用 let 却不可以。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">2</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">1</span></span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// Uncaught SyntaxError: Identifier 'a' has already been declared</span></span><br></pre></td></tr></table></figure></li><li>let声明的变量不存在变量提升<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="keyword">let</span> a = <span class="number">1</span> <span class="comment">// Uncaught ReferenceError: Cannot access 'a' before initialization</span></span><br></pre></td></tr></table></figure></li><li>let声明的变量具有暂时性死区<br>只要块级作用域内存在 let 命令，它所声明的变量就绑定在了这个区域，不再受外部的影响。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a </span><br><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">    a = <span class="number">1</span></span><br><span class="line">    <span class="keyword">let</span> a  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>let 声明的变量拥有块级作用域<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">5</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="const"><a href="#const" class="headerlink" title="const"></a>const</h2><p> 不能被改变的叫做常量, 具有let的一切特性<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> username = <span class="string">'xiaoming'</span></span><br><span class="line">username = <span class="string">'wang'</span> <span class="comment">// Uncaught TypeError: Assignment to constant variable.</span></span><br></pre></td></tr></table></figure></p><h1 id="基本类型和引用类型"><a href="#基本类型和引用类型" class="headerlink" title="基本类型和引用类型"></a>基本类型和引用类型</h1><h2 id="基本类型"><a href="#基本类型" class="headerlink" title="基本类型"></a>基本类型</h2><h3 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h3><ol><li><p>数字型进制<br>最常见的进制有二进制、八进制、十进制、十六进制, 现阶段我们只需要记住，在JS中八进制前面加0，十六进制前面加 0x  </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 0, 0x 后边跟的是相应的进制，输出的是十进制</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.八进制数字序列范围：0~7</span></span><br><span class="line"><span class="keyword">var</span> num1 = <span class="number">010</span>;   <span class="comment">// 对应十进制的8</span></span><br><span class="line">   <span class="comment">// 对应十进制的8</span></span><br><span class="line">  <span class="comment">// 2.十六进制数字序列范围：0~9以及A~F</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">0xA</span>;   <span class="comment">// 对应十进制的10</span></span><br></pre></td></tr></table></figure></li><li><p>数字型范围<br>JavaScript中数值的最大和最小值</p><ul><li>最大值：Number.MAX_VALUE，这个值为： 1.7976931348623157e+308</li><li>最小值：Number.MIN_VALUE，这个值为：5e-32</li></ul></li><li><p>数字型三个特殊值</p><ul><li>Infinity ，代表无穷大，大于任何数值</li><li>-Infinity ，代表无穷小，小于任何数值</li><li>NaN ，Not a number，代表一个非数值</li></ul></li><li><p>isNaN<br>用来判断一个变量是否为非数字的类型，返回 true 不是数字类型，false 是数字类型</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">21</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(a)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="string">'yang'</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(b)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li><li><p>数据类型转换<br><img src="../image/java1.png" alt=""></p></li><li><p>Number的属性和方法</p></li></ol><h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><ol><li>字符串拼接变量口诀”引引加加”<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age = <span class="number">13</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="string">'我今年'</span> + age + <span class="string">'岁'</span></span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br></pre></td></tr></table></figure></li><li>数据类型转换<br><img src="../image/java2.png" alt=""></li></ol><h4 id="字符串的属性方法"><a href="#字符串的属性方法" class="headerlink" title="字符串的属性方法"></a>字符串的属性方法</h4><ul><li><code>length</code>属性返回字符串长度<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">'wormnimya'</span></span><br><span class="line"><span class="built_in">console</span>.log(a.length) <span class="comment">// 9</span></span><br></pre></td></tr></table></figure></li><li>根据字符返回位置<br><img src="../image/java3.png" alt=""></li><li>根据位置返回字符<br><img src="../image/java4.png" alt=""></li><li>字符串操作方法<br><img src="../image/java5.png" alt=""></li><li>replace()方法<br><code>replace()</code> 方法用于在字符串中用一些字符替换另一些字符，其使用格式如下：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串.replace(被替换的字符串， 要替换为的字符串)；</span><br></pre></td></tr></table></figure></li><li>split()方法<br>split()方法用于切分字符串，它可以将字符串切分为数组。在切分完毕之后，返回的是一个新数组。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">'wormnimya'</span></span><br><span class="line"><span class="built_in">console</span>.log(a.split(<span class="string">'o'</span>)); <span class="comment">// ["w", "rmnimya"]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="string">'wormnimya'</span></span><br><span class="line"><span class="built_in">console</span>.log(a.split(<span class="string">''</span>)); <span class="comment">// ["w", "o", "r", "m", "n", "i", "m", "y", "a"]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="string">'wormnimaya'</span></span><br><span class="line"><span class="built_in">console</span>.log(a.split()); <span class="comment">// ["wormnimaya"]</span></span><br></pre></td></tr></table></figure></li><li>String.prototype.includes()<br>ES5中可以使用indexOf方法来判断一个字符串是否包含在另一个字符串中，indexOf返回出现的下标位置，如果不存在则返回-1, ES6提供了includes方法来判断一个字符串是否包含在另一个字符串中，返回boolean类型的值。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'wormnimaya'</span></span><br><span class="line"><span class="built_in">console</span>.log(str.includes(<span class="string">'wo'</span>)); <span class="comment">//true</span></span><br></pre></td></tr></table></figure></li><li>String.prototype.startsWith()<br>判断参数字符串是否在原字符串的头部, 返回boolean类型的值<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'wormnimaya'</span></span><br><span class="line"><span class="built_in">console</span>.log(str.startsWith(<span class="string">'wo'</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li><li>String.prototype.endsWith()<br>判断参数字符串是否在原字符串的尾部, 返回boolean类型的值。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'wormnimaya'</span></span><br><span class="line"><span class="built_in">console</span>.log(str.endsWith(<span class="string">'ya'</span>));</span><br></pre></td></tr></table></figure></li><li>String.prototype.padStart()<br>padStart可以在字符串的开头进行字符补全。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> month = <span class="built_in">String</span>(<span class="keyword">new</span> <span class="built_in">Date</span>().getMonth() + <span class="number">1</span>).padStart(<span class="number">2</span>, <span class="string">'0'</span>);</span><br></pre></td></tr></table></figure></li><li>String.prototype.padEnd()<br>  <strong>padEnd可以在字符串的后面进行字符补全，语法参数等都和padStart类似。</strong><br>  在JS前端我们处理时间戳的时候单位都是ms毫秒，但是，后端同学返回的时间戳则不一样是毫秒，可能只有10位，以s秒为单位。所以，我们在前端处理这个时间戳的时候，保险起见，要先做一个13位的补全，保证单位是毫秒。使用示意：  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">timestamp = +<span class="built_in">String</span>(timestamp).padEnd(<span class="number">13</span>, <span class="string">'0'</span>);</span><br></pre></td></tr></table></figure></li><li>String.prototype.toUpperCase()<br>toUpperCase() 方法将调用该方法的字符串转为大写形式并返回（如果调用该方法的值不是字符串类型会被强制转换）。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'wormnimaya'</span></span><br><span class="line"><span class="built_in">console</span>.log(str.toUpperCase()); <span class="comment">// WORMNIMAYA</span></span><br></pre></td></tr></table></figure></li><li>String.prototype.toLowerCase()<br>toLowerCase() 会将调用该方法的字符串值转为小写形式，并返回。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'wormNimaYa'</span></span><br><span class="line"><span class="built_in">console</span>.log(str.toLowerCase()); <span class="comment">// wormnimaya</span></span><br></pre></td></tr></table></figure></li><li>String.prototype.trim()<br>trim() 方法会从一个字符串的两端删除空白字符。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> username = <span class="string">'   wormnimaya   '</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'------'</span> + username.trim() + <span class="string">'-----'</span>); <span class="comment">// ------wormnimaya-----</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="字符串结构赋值"><a href="#字符串结构赋值" class="headerlink" title="字符串结构赋值"></a>字符串结构赋值</h4>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a, b, c] = <span class="string">'wor'</span></span><br><span class="line"><span class="built_in">console</span>.log(a, b, c); <span class="comment">// w o r</span></span><br></pre></td></tr></table></figure><h4 id="扩展运算符-…"><a href="#扩展运算符-…" class="headerlink" title="扩展运算符(…)"></a>扩展运算符(…)</h4>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'wormnimaya'</span></span><br><span class="line"><span class="keyword">let</span> arr = [...str]</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// ["w", "o", "r", "m", "n", "i", "m", "a", "y", "a"]</span></span><br></pre></td></tr></table></figure><h4 id="字符串模板"><a href="#字符串模板" class="headerlink" title="字符串模板"></a>字符串模板</h4><p>  有利于字符串的拼接</p><ul><li>保留字符串格式<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> username = <span class="string">'wormnimaya'</span></span><br><span class="line"><span class="keyword">let</span> age = <span class="number">22</span></span><br><span class="line"><span class="keyword">let</span> sex = <span class="string">'男生'</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`我的名字叫<span class="subst">$&#123;username&#125;</span>,我今年<span class="subst">$&#123;age&#125;</span>岁了，我是个<span class="subst">$&#123;sex&#125;</span>`</span>); <span class="comment">// 我的名字叫wormnimaya,我今年22岁了，我是个男生</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="string">`</span></span><br><span class="line"><span class="string">&lt;p&gt;111&lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;span&gt;222&lt;/span&gt;</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br></pre></td></tr></table></figure></li></ul><h3 id="Boolean"><a href="#Boolean" class="headerlink" title="Boolean"></a>Boolean</h3><p> 布尔类型有两个值：true 和 false ，其中 true 表示真（对），而 false 表示假（错)</p><ol><li>数据类型转换<br><img src="../image/java6.png" alt=""><ul><li>代表空、否定的值会被转换为 false  ，如 ‘’、0、NaN、null、undefined </li><li>其余值都会被转换为 true<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="string">''</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="number">0</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="literal">NaN</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="literal">null</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="literal">undefined</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="string">'小白'</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="number">12</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li></ul></li></ol><h3 id="Undefined"><a href="#Undefined" class="headerlink" title="Undefined"></a>Undefined</h3><p> 一个声明后没有被赋值的变量会有一个默认值undefined </p><h3 id="symbol"><a href="#symbol" class="headerlink" title="symbol"></a>symbol</h3><h3 id="null"><a href="#null" class="headerlink" title="null"></a>null</h3><p> 虽然 <code>typeof null</code> 返回的值是 <code>object</code>,但是<code>null</code>不是对象，而是基本数据类型的一种。</p><h2 id="引用类型"><a href="#引用类型" class="headerlink" title="引用类型"></a>引用类型</h2><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>  数组是指一组数据的集合，其中的每个数据被称作元素，在数组中可以存放<code>任意类型的元素</code>。数组是一种将一组数据存储在单个变量名下的优雅方式。</p><h4 id="创建数组"><a href="#创建数组" class="headerlink" title="创建数组"></a>创建数组</h4><ul><li>利用  new 创建数组  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 当Array()中填写是一个参数并且是数字，则代表数组长度</span></span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">2</span>); </span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// [empty × 2]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">'2'</span>); </span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// ["2"]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure></li><li>利用数组字面量创建数组<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. 使用数组字面量方式创建空的数组</span></span><br><span class="line"><span class="keyword">var</span>  arr = []；</span><br><span class="line"><span class="comment">//2. 使用数组字面量方式创建带初始值的数组</span></span><br><span class="line"><span class="keyword">var</span>  arr1 = [<span class="string">'小白'</span>,<span class="string">'小黑'</span>,<span class="string">'大黄'</span>,<span class="string">'瑞奇'</span>];</span><br></pre></td></tr></table></figure></li><li>Array.of() 创建数组<br>Array.of() 和 Array 构造函数之间的区别在于处理整数参数：Array.of(7) 创建一个具有单个元素 7 的数组，而 Array(7) 创建一个长度为7的空数组（注意：这是指一个有7个空位(empty)的数组，而不是由7个undefined组成的数组。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = <span class="built_in">Array</span>.of(<span class="number">1</span>, <span class="string">'2'</span>, &#123; <span class="attr">name</span>: <span class="string">'wormnimaya'</span>, <span class="attr">age</span>: <span class="number">22</span> &#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure></li><li>数组元素的类型<br>数组中可以存放任意类型的数据，例如字符串，数字，布尔值等.<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arrStus = [<span class="string">'小白'</span>,<span class="number">12</span>,<span class="literal">true</span>,<span class="number">28.9</span>]</span><br></pre></td></tr></table></figure><ol><li>获取数组中的元素<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义数组</span></span><br><span class="line"><span class="keyword">var</span> arrStus = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="comment">// 获取数组中的第2个元素</span></span><br><span class="line">alert(arrStus[<span class="number">1</span>]);</span><br></pre></td></tr></table></figure></li><li>遍历数组</li></ol></li><li>数组遍历<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">'red'</span>,<span class="string">'green'</span>, <span class="string">'blue'</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arrStus[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>数组的长度<br>数组的长度：默认情况下表示数组中元素的个数；<br>如果设置的<code>length</code>属性值大于数组的元素个数，则会在数组末尾出现空白元素；<br>如果设置的<code>length</code>属性值小于数组的元素个数，则会把超过该值的数组元素删除<br>数组的<code>length</code>属性可以被修改<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arrStus = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">alert(arrStus.length); <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arrStus = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">arrStus.length = <span class="number">2</span></span><br><span class="line"><span class="built_in">console</span>.log(arrStus); <span class="comment">// [1, 2]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arrStus = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">arrStus.length = <span class="number">4</span></span><br><span class="line"><span class="built_in">console</span>.log(arrStus); <span class="comment">// [1, 2, 3, empty]</span></span><br></pre></td></tr></table></figure><ol start="3"><li>检测是否为数组</li></ol></li><li>instanceof 运算符<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="keyword">let</span> username = <span class="string">'wormnimaya'</span></span><br><span class="line"><span class="built_in">console</span>.log(arr <span class="keyword">instanceof</span> <span class="built_in">Array</span>) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(username <span class="keyword">instanceof</span> <span class="built_in">String</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li><li>Array.isArray()<br>Array.isArray()用于判断一个对象是否为数组，isArray() 是 HTML5 中提供的方法<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="keyword">let</span> username = <span class="string">'wormnimaya'</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(arr)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(username)) <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="数组的属性和方法"><a href="#数组的属性和方法" class="headerlink" title="数组的属性和方法"></a>数组的属性和方法</h4><ul><li>添加删除数组元素的方法<br>数组中有进行增加、删除元素的方法，部分方法如下表<br><img src="../image/java7.png" alt=""></li><li>数组排序<br>数组中有对数组本身排序的方法，部分方法如下表<br><img src="../image/java8.png" alt=""><blockquote><p>注意：sort方法需要传入参数来设置升序、降序排序</p><ul><li>如果传入“function(a,b){ return a-b;}”，则为升序</li><li>如果传入“function(a,b){ return b-a;}”，则为降序</li></ul></blockquote></li><li>数组索引方法<br>数组中有获取数组指定元素索引值的方法，部分方法如下表<br><img src="../image/java9.png" alt=""></li><li>数组转换为字符串<br>数组中有把数组转化为字符串的方法，部分方法如下表<br><img src="../image/java10.png" alt=""><blockquote><p>注意：join方法如果不传入参数，逗号分割每一项</p></blockquote></li><li>数组的合并与截取<br><img src="../image/java11.png" alt=""></li><li>Array.prototype.includes()<br>includes() 方法用来判断一个数组是否包含一个指定的值，根据情况，如果包含则返回 true，否则返回false<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="built_in">console</span>.log(arr.includes(<span class="number">1</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li><li>Array.from()<br>将伪数组转化为数组<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> arr = <span class="built_in">Array</span>.from(<span class="built_in">Array</span>.from(<span class="built_in">arguments</span>)) <span class="comment">// 将伪数组转化为数组</span></span><br><span class="line">    arr.forEach(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(value);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p =  <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">'p'</span>)) </span><br><span class="line">p.forEach(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><h4 id="数组的遍历"><a href="#数组的遍历" class="headerlink" title="数组的遍历"></a>数组的遍历</h4><ul><li><p><strong>for循环</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">38</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arr[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>forEach()</strong><br>遍历数组中的每一个元素，没有返回值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">38</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="comment">// 函数第一个参数是数组中的每一个元素</span></span><br><span class="line"><span class="comment">// 第二个参数是数组索引</span></span><br><span class="line"><span class="comment">// 第三个参数是数组本身</span></span><br><span class="line">arr.forEach(<span class="function">(<span class="params">element, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(index + <span class="string">':'</span> + element, arr);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p><strong>注意</strong><br>不支持break和continue</p></blockquote></li><li><p><strong>map()</strong><br>遍历数组中的每一个元素，并且函数会返回一个<code>return 元素</code>的新数组</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数第一个参数是数组中的每一个元素</span></span><br><span class="line"><span class="comment">// 第二个参数是数组索引</span></span><br><span class="line"><span class="comment">// 第三个参数是数组本身</span></span><br><span class="line"> <span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"> <span class="keyword">let</span> arr1 = arr.map(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> value + <span class="number">1</span></span><br><span class="line"> &#125;)</span><br><span class="line"> <span class="built_in">console</span>.log(arr1);</span><br></pre></td></tr></table></figure></li><li><p><strong>filter()</strong><br>返回每个元素满足条件的新数组, return后面写的是条件，原数组中的满足条件的元素都会添加到新数组中</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> arr1 = arr.filter(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> value &gt; <span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br></pre></td></tr></table></figure></li><li><p><strong>some()</strong><br>返回boolean，判断是否有元素符合return的条件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> isflag = arr.some(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> value &gt; <span class="number">4</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(isflag);</span><br></pre></td></tr></table></figure></li><li><p><strong>every()</strong><br>返回boolean，判断每个元素都符合return的条件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> isflag = arr.every(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> value &gt; <span class="number">4</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(isflag);</span><br></pre></td></tr></table></figure></li><li><p><strong>reduce</strong><br>reduce遍历每一个函数，每一次return的结果赋值给函数的第一个参数，最后返回一个结果<br>  <strong>求出数组中最大的元素</strong></p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一个参数必须：累计器</span></span><br><span class="line"><span class="comment">// 第二个参数必须：当前值</span></span><br><span class="line"><span class="comment">// 第三个参数可选：当前元素的索引</span></span><br><span class="line"><span class="comment">// 第四个参数可选：当前元素所属的数组对象</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> num = arr.reduce(<span class="function">(<span class="params">prev, cur</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.max(prev, cur)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(num);</span><br></pre></td></tr></table></figure><p>  <strong>累加</strong></p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> num = arr.reduce(<span class="function">(<span class="params">prev, cur</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> prev + cur </span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(num);</span><br></pre></td></tr></table></figure></li><li><p><strong>find()</strong><br>找到数组中，满足return条件的元素，并返回元素</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> result = arr.find(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> value &lt; <span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></li><li><p><strong>findIndex()</strong><br>找到数组中，满足return条件的元素，并返回元素的索引</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> result = arr.findIndex(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> value &lt; <span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></li><li><p><strong>for… in…</strong><br>for…in可以遍历数组，但是如果 array 有自定义属性，你发现也会被遍历出来(显然不合理)。这是因为 for…in 是为遍历对象创造的（{a:1, b:2}），不是为数组设计的。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!<span class="built_in">Array</span>.prototype.foo) &#123;</span><br><span class="line">    <span class="built_in">Array</span>.prototype.foo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'foo'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> index <span class="keyword">in</span> arr) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arr[index]); <span class="comment">//1 2 3 4 5 ƒ () &#123; console.log('foo') &#125; 会把自定义方法属性遍历出来</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>注意</strong>：<br>for…in不能用于遍历数组。<br>for…in代码块中不能有 return，不然会抛出异常。</p></blockquote></li><li><p><strong>for…of</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (variable <span class="keyword">of</span> iterable) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>iterable 的含义就很直观的感受到 for…of 遍历的是一切可遍历的元素（包括<code>Array</code>，<code>Ma</code>p，<code>Set</code>，<code>String</code>，<code>TypedArray</code>，<code>arguments</code>对象等等）</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 遍历数组每一个元素</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> arr) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 遍历数组每一个元素</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> arr.values()) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 遍历数组每一个元素的索引</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> arr.keys()) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 遍历数组的索引和元素</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [index, item] <span class="keyword">of</span> arr.entries()) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(index, item)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="数组的结构赋值"><a href="#数组的结构赋值" class="headerlink" title="数组的结构赋值"></a>数组的结构赋值</h4><ul><li>赋值元素可以是任意可遍历的对象<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a, b, c] = <span class="string">"abc"</span> </span><br><span class="line"><span class="keyword">let</span> [one, two, three] = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) </span><br><span class="line"><span class="built_in">console</span>.log(a, b, c, one, two, three); <span class="comment">// a b c 1 2 3</span></span><br></pre></td></tr></table></figure></li><li>可以跳过赋值元素<br>如果想忽略数组的某个元素对变量进行赋值，可以使用逗号来处理。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [name, , title] = [<span class="string">'John'</span>, <span class="string">'Jim'</span>, <span class="string">'Sun'</span>, <span class="string">'Moon'</span>]</span><br><span class="line"><span class="built_in">console</span>.log(name,title) <span class="comment">// John Sun</span></span><br></pre></td></tr></table></figure></li><li>rest 参数<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [name1, name2, ...rest] = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">"d"</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(name1) <span class="comment">// a</span></span><br><span class="line"><span class="built_in">console</span>.log(name2) <span class="comment">// b</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(rest[<span class="number">0</span>]) <span class="comment">// c</span></span><br><span class="line"><span class="built_in">console</span>.log(rest[<span class="number">1</span>]) <span class="comment">// d</span></span><br><span class="line"><span class="built_in">console</span>.log(rest.length) <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>注意</strong>：<br>我们可以使用 rest 来接受赋值数组的剩余元素，不过要确保这个 rest 参数是放在被赋值变量的最后一个位置上。</p></blockquote></li></ul><h4 id="扩展运算符-…-和rest参数"><a href="#扩展运算符-…-和rest参数" class="headerlink" title="扩展运算符(…)和rest参数"></a>扩展运算符(…)和rest参数</h4><ul><li>扩展运算符：把数组或者类数组展开成用逗号隔开的值<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="built_in">console</span>.log(...arr); <span class="comment">// 1 2 3 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 传递参数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a, b, c); <span class="comment">// 1 2 3 </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">foo(...arr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 数组合并</span></span><br><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">arr1.push(...arr2)</span><br><span class="line"><span class="built_in">console</span>.log(arr1); <span class="comment">// 1 2 3 4 5 6</span></span><br></pre></td></tr></table></figure></li><li>rest参数：把逗号隔开的值组合成一个数组<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数参数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">...rest</span>) </span>&#123;</span><br><span class="line">    rest.forEach(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(value); <span class="comment">// 1 2 3</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 剩余参数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x, ...rest</span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(x); <span class="comment">// 1</span></span><br><span class="line">   <span class="built_in">console</span>.log(...rest); <span class="comment">// 2 3</span></span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 剩余参数</span></span><br><span class="line"><span class="keyword">let</span> [x, ...y] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="built_in">console</span>.log(x, y); <span class="comment">// 1 [2, 3, 4]</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>总结：</strong><br><code>在=右边</code>在<code>实参上</code>是扩展运算符，在<code>=左边</code>在<code>形参上</code>为rest参数</p></blockquote></li></ul><h3 id="函数-特殊的引用类型"><a href="#函数-特殊的引用类型" class="headerlink" title="函数(特殊的引用类型)"></a>函数(特殊的引用类型)</h3><h4 id="函数的两种声明方式"><a href="#函数的两种声明方式" class="headerlink" title="函数的两种声明方式"></a>函数的两种声明方式</h4>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明定义方式</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;...&#125;</span><br><span class="line">fn(); </span><br><span class="line"></span><br><span class="line"><span class="comment">// 这是函数表达式写法，匿名函数后面跟分号结束</span></span><br><span class="line"><span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;...&#125;；</span><br><span class="line"><span class="comment">// 调用的方式，函数调用必须写到函数体下面， 因为存在变量提升</span></span><br><span class="line">fn();</span><br></pre></td></tr></table></figure><ul><li>函数形参和实参数量不匹配时<br><img src="../image/java12.png" alt=""></li><li>arguments的使用<br>当不确定有多少个参数传递的时候，可以用 arguments 来获取。JavaScript 中，arguments实际上它是当前函数的一个内置对象。所有函数都内置了一个 arguments 对象，arguments 对象中存储了传递的所有实参。arguments展示形式是一个伪数组，因此可以进行遍历。伪数组具有以下特点：<ul><li>具有 length 属性</li><li>按索引方式储存数据</li><li>不具有数组的 push , pop 等方法<blockquote><p>注意：在函数内部使用该对象，用此对象获取函数调用时传的实参。</p></blockquote></li></ul></li><li>普通函数this指向问题<table><thead><tr><th>调用方式</th><th>this指向</th></tr></thead><tbody><tr><td>普通函数调用</td><td>window</td></tr><tr><td>构造函数调用</td><td>实例对象 原型对象里面的方法也指向实例对象</td></tr><tr><td>对象方法调用</td><td>该方法所属对象</td></tr><tr><td>事件绑定方法</td><td>绑定事件对象</td></tr><tr><td>定时器函数</td><td>window</td></tr><tr><td>立即执行函数</td><td>window</td></tr></tbody></table></li></ul><h4 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h4><p>  箭头函数可以说是 ES6 很大的福利了，不管你是函数式爱好者还是面向对象开发者，函数是必须要用到的东西。之前声明函数需要使用 function，如下：<br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'say hello'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 或</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> hello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'say hello'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>  使用箭头函数：<br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> hello = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'say hello'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><ul><li>如果带参数该怎么做呢？<blockquote><p>如果只有一个参数，可以省略括号，如果大于一个参数一定要记得带括号</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> hello = <span class="function">(<span class="params">name</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'say hello'</span>, name)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> hello = <span class="function"><span class="params">name</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'say hello'</span>, name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>返回值<ul><li>没有返回值直接返回undefined<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> foo = <span class="function">(<span class="params">name</span>) =&gt;</span> <span class="built_in">console</span>.log(name)</span><br><span class="line"><span class="built_in">console</span>.log(foo(<span class="string">'wormnimaya'</span>)) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></li><li>如果返回值是表达式<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pow = <span class="function"><span class="params">x</span> =&gt;</span> x * x</span><br></pre></td></tr></table></figure></li><li>如果返回值是字面量对象<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = <span class="function">(<span class="params">name</span>) =&gt;</span> (&#123;</span><br><span class="line">    age: <span class="number">20</span>,</span><br><span class="line">    addr: <span class="string">'Beijing City'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul></li><li>箭头函数的this指向<br>箭头函数不绑定this关键字，箭头函数中的this，指向的是函数定义位置的上下文this<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>) <span class="comment">// obj</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">name</span>: <span class="string">'wormnimaya'</span>, <span class="attr">age</span>: <span class="number">12</span>&#125;</span><br><span class="line">foo.call(obj)()</span><br></pre></td></tr></table></figure></li></ul><h4 id="函数中this的改变"><a href="#函数中this的改变" class="headerlink" title="函数中this的改变"></a>函数中this的改变</h4><ul><li><p><strong>call方法</strong><br><code>call()</code>方法调用一个对象。简单理解为调用函数的方式，但是它可以改变函数的<code>this</code>指向</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fun.call(thisArg, arg1, arg2)</span><br></pre></td></tr></table></figure><ul><li><p><code>call</code> 第一个可以调用函数 第二个可以改变函数内的<code>this</code>指向</p></li><li><p><code>call</code> 的主要作用可以实现继承(后面<code>class</code>讲)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">      name: <span class="string">'wormnimaya'</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  fn.call(obj, <span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>apply</strong><br><code>apply()</code>方法调用一个函数。简单理解为调用函数的方式，但是它可以改变函数的<code>this</code>指向</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fun.apply(this.Arg, [argsArry])</span><br></pre></td></tr></table></figure><ul><li><p><code>thisArg</code>：在<code>fun</code>函数运行时指定的<code>this</code>值</p></li><li><p><code>argsArray</code>：传的值，必须包含在数组里面</p></li><li><p>返回值就是函数的返回值，因为它就是调用函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'wormnimaya'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">&#125;</span><br><span class="line">fn.apply(obj, [<span class="number">1</span>, <span class="number">2</span>])</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>bind方法</strong><br>bind()方法不会调用函数。但是能改变函数内部this指向</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fun.bind(<span class="keyword">this</span>.Args, arg1, arg2)</span><br></pre></td></tr></table></figure><ul><li><p>thisArg：在fun函数运行时指定的this值</p></li><li><p>arg1, arg2:传递的其他参数</p></li><li><p>返回由指定的this值和初始化参数改造的原函数拷贝</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">     name: <span class="string">'wormnimaya'</span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">var</span> foo =fn.bind(obj, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"> foo()</span><br><span class="line"> <span class="comment">// 1. 不会调用原来的函数可以改变原来函数内部的this指向</span></span><br><span class="line"> <span class="comment">// 2. 返回的是原函数改变this之后产生的新函数</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><h4 id="立即执行函数"><a href="#立即执行函数" class="headerlink" title="立即执行函数"></a>立即执行函数</h4><p> 立即执行函数就是声明一个匿名函数，马上调用这个匿名函数，创建一个独立的作用域。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一种立即执行函数写法</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">   alert(a + b)</span><br><span class="line">&#125;)(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 第二种立即执行函数写法</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  alert(a + b)</span><br><span class="line">&#125; (<span class="number">1</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure></p><h3 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h3><p> <strong>为什么需要对象？</strong><br> 数组保存数据的缺点是：数据只能通过索引值访问，开发者需要清晰的清除所有的数据的排行才能准确地获取数据，而当数据量庞大时，不可能做到记忆所有数据的索引值。为了让更好地存储一组数据，对象应运而生：对象中为每项数据设置了属性名称，可以访问数据更语义化，数据结构清晰，表意明显，方便开发者使用。</p><h4 id="利用字面量创建对象"><a href="#利用字面量创建对象" class="headerlink" title="利用字面量创建对象"></a>利用字面量创建对象</h4> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> star = &#123;</span><br><span class="line">    name : <span class="string">'pink'</span>,</span><br><span class="line">    age : <span class="number">18</span>,</span><br><span class="line">    sex : <span class="string">'男'</span>,</span><br><span class="line">    sayHi : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">'大家好啊~'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ol><li><strong>对象的使用</strong><ul><li>访问对象的属性<br>对象里面的属性调用 : 对象.属性名 ，这个小点 . 就理解为“ 的 ”<br>对象里面属性的另一种调用方式 : 对象[‘属性名’]，注意方括号里面的属性必须加引号 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(star.name)     <span class="comment">// 调用名字属性</span></span><br><span class="line"><span class="built_in">console</span>.log(star[<span class="string">'name'</span>])  <span class="comment">// 调用名字属性</span></span><br></pre></td></tr></table></figure>但是如果<code>key是变量</code>的话就不能使用点了，js会理解变量为对象的key值，造成混淆<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> v3 = obj[key];<span class="comment">//key是一个变量</span></span><br></pre></td></tr></table></figure></li><li>调用对象的方法<br>对象里面的方法调用：对象.方法名() ，注意这个方法名字后面一定加括号 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">star.sayHi();</span><br></pre></td></tr></table></figure></li><li>删除属性<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">     name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">     age: <span class="number">22</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">delete</span> obj.age</span><br><span class="line"> <span class="built_in">console</span>.log(obj); <span class="comment">// &#123;name: "wormnimaya"&#125; obj.age被删除</span></span><br></pre></td></tr></table></figure></li><li>判断对象中是否含有属性<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">    age: <span class="number">22</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'name'</span> <span class="keyword">in</span> obj); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li></ul></li></ol><h4 id="利用-new-Object-创建对象"><a href="#利用-new-Object-创建对象" class="headerlink" title="利用 new Object 创建对象"></a>利用 new Object 创建对象</h4>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> andy = <span class="keyword">new</span> Obect();</span><br><span class="line">andy.name = <span class="string">'pink'</span>;</span><br><span class="line">andy.age = <span class="number">18</span>;</span><br><span class="line">andy.sex = <span class="string">'男'</span>;</span><br><span class="line">andy.sayHi = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">'大家好啊~'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="构造函数创建对象"><a href="#构造函数创建对象" class="headerlink" title="构造函数创建对象"></a>构造函数创建对象</h4><p> 构造函数：是一种特殊的函数，主要用来初始化对象，即为对象成员变量赋初始值，它总与 <code>new</code>运算符一起使用。我们可以把对象中一些公共的属性和方法抽取出来，然后封装到这个函数里面<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, sex</span>) </span>&#123;</span><br><span class="line">     <span class="comment">// 实例属性</span></span><br><span class="line">     <span class="keyword">this</span>.name = name</span><br><span class="line">     <span class="keyword">this</span>.age = age</span><br><span class="line">     <span class="keyword">this</span>.sex = sex</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">// 实例方法</span></span><br><span class="line"> Person.prototype.say = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'我的年龄是'</span> + <span class="keyword">this</span>.age);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 静态属性</span></span><br><span class="line"> Person.hobby = <span class="string">'play'</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">// 静态方法</span></span><br><span class="line"> Person.getHobby = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'我的爱好是'</span> + Person.hobby);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">let</span> obj = <span class="keyword">new</span> Person(<span class="string">'wormnimaya'</span>, <span class="number">22</span>, <span class="string">'男'</span>)</span><br><span class="line"> <span class="built_in">console</span>.log(obj.name); <span class="comment">// 调用实例属性</span></span><br><span class="line"> obj.say() <span class="comment">// 调用实例方法</span></span><br><span class="line"></span><br><span class="line"> <span class="built_in">console</span>.log(Person.hobby); <span class="comment">// 调用静态属性</span></span><br><span class="line"> Person.getHobby() <span class="comment">// 调用静态方法</span></span><br></pre></td></tr></table></figure></p><blockquote><p><strong>注意：</strong><br>构造函数中的<code>this</code>指向实例对象，实例方法中的this也指向实例对象，静态方法中的<code>this</code>指向构造函数，所以无法访问实例属性</p></blockquote><p> <strong>继承</strong><br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name</span><br><span class="line">&#125;</span><br><span class="line">Animal.prototype.say = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'我的名字叫'</span> + <span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dog</span>(<span class="params">name, color</span>) </span>&#123;</span><br><span class="line">    Animal.call(<span class="keyword">this</span>, name) <span class="comment">// 修改父类的this指向，并传递参数</span></span><br><span class="line">    <span class="keyword">this</span>.color = color</span><br><span class="line">&#125; </span><br><span class="line">Dog.prototype = <span class="keyword">new</span> Animal()</span><br><span class="line">Dog.prototype.constuctor = Dog</span><br><span class="line"><span class="keyword">let</span> dog = <span class="keyword">new</span> Dog(<span class="string">'wang'</span>, <span class="string">'white'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(dog.name); <span class="comment">// 调用父类属性</span></span><br><span class="line">dog.say() <span class="comment">// 调用父类方法</span></span><br></pre></td></tr></table></figure></p><h4 id="类"><a href="#类" class="headerlink" title="类"></a>类</h4><ol><li><strong>用class定义类</strong><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">        <span class="comment">// 实例属性</span></span><br><span class="line">        <span class="keyword">this</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 实例方法</span></span><br><span class="line">    sayName() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'我的名字叫'</span> + <span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 静态方法</span></span><br><span class="line">    <span class="keyword">static</span> sayCount() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'我是父类的静态方法'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 静态属性</span></span><br><span class="line">    <span class="keyword">static</span> count = <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> animal = <span class="keyword">new</span> Animal(<span class="string">'wangcai'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(animal.name); <span class="comment">// 输出实例属性</span></span><br><span class="line">animal.sayName() <span class="comment">// 调用实例方法</span></span><br><span class="line">Animal.sayCount() <span class="comment">// 调用静态方法</span></span><br><span class="line"><span class="built_in">console</span>.log(Animal.count); <span class="comment">// 调用静态属性</span></span><br></pre></td></tr></table></figure></li><li><strong>get与set</strong><br>get和set方法可以为实例属性，取值和存值，可以在get和set中进行逻辑操作<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">        <span class="comment">// 实例属性</span></span><br><span class="line">        <span class="keyword">this</span>.name = name</span><br><span class="line">        <span class="keyword">this</span>._sex =  <span class="string">''</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">get</span> sex() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>._sex</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span> sex(val) &#123;</span><br><span class="line">        <span class="keyword">this</span>._sex = val</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> animal = <span class="keyword">new</span> Animal(<span class="string">'wangcai'</span>)</span><br><span class="line">animal.sex = <span class="string">'男'</span></span><br><span class="line"><span class="built_in">console</span>.log(animal.sex);</span><br></pre></td></tr></table></figure></li><li><strong>继承</strong><br>继承父类后，子类拥有父类所有静态属性，静态方法，实例属性，实例方法的使用权（包括set和get方法）<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">        <span class="comment">// 实例属性</span></span><br><span class="line">        <span class="keyword">this</span>.name = name</span><br><span class="line">        <span class="keyword">this</span>._sex = <span class="string">''</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">get</span> sex() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>._sex</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span> sex(val) &#123;</span><br><span class="line">        <span class="keyword">this</span>._sex = val</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 实例方法</span></span><br><span class="line">    sayName() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'我的名字叫'</span> + <span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 静态方法</span></span><br><span class="line">    <span class="keyword">static</span> sayCount() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'我是父类的静态方法'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 静态属性</span></span><br><span class="line">    <span class="keyword">static</span> count = <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name, age) &#123;</span><br><span class="line">        <span class="keyword">super</span>(name)</span><br><span class="line">        <span class="keyword">this</span>.age = age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> dog = <span class="keyword">new</span> Dog(<span class="string">'wangcai'</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">console</span>.log(dog.name); <span class="comment">// 调用父类的实例属性</span></span><br><span class="line">dog.sayName() <span class="comment">// 调用父类的实例方法</span></span><br><span class="line"><span class="built_in">console</span>.log(Dog.count); <span class="comment">// 调用父类的静态属性</span></span><br><span class="line">Dog.sayCount() <span class="comment">// 调用父类的静态方法</span></span><br><span class="line">dog.sex = <span class="string">'女'</span> <span class="comment">// 调用父类的set方法为属性赋值</span></span><br><span class="line"><span class="built_in">console</span>.log(dog.sex); <span class="comment">// 调用父类的get方法为属性取值</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>注意</strong><br>子类继承了父类，不管是否传值，都要调用<code>super()</code></p></blockquote></li></ol><h4 id="对象遍历"><a href="#对象遍历" class="headerlink" title="对象遍历"></a>对象遍历</h4><ol><li><p><strong>for…in</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">    age: <span class="number">22</span>,</span><br><span class="line">    sex: <span class="string">'男'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(k); <span class="comment">// 这里的 k 是属性名</span></span><br><span class="line">    <span class="built_in">console</span>.log(obj[k]); <span class="comment">// 这里的 obj[k] 是属性值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>Object.keys()</strong><br><code>Object.keys()</code>用于返回对象所有<code>key</code>组成的数组。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">     name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">     age: <span class="number">22</span>,</span><br><span class="line">     sex: <span class="string">'男'</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="built_in">Object</span>.keys(obj).forEach(<span class="function">(<span class="params">k</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(k,obj[k]);</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure></li><li><p><strong>Object.entries()</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">    age: <span class="number">12</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> <span class="built_in">Object</span>.entries(obj)) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key, value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这段代码确实成功的遍历了出来，但是上边说过 <code>Object.entries</code> 返回的是数组，这里面还用了数组的解构赋值，很多同学不明白是怎么结合的，其实很简单，看下 <code>Object.entries</code> 的返回值就好了：<br><img src="../image/java16.png" alt=""></p></li><li><p><strong>Object.getOwnPropertyNames()</strong><br><code>Object.getOwnPropertyNames()</code>用于返回对象所有<code>key</code>组成的数组。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">    age: <span class="number">22</span>,</span><br><span class="line">    sex: <span class="string">'男'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(obj).forEach(<span class="function">(<span class="params">k</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(k,obj[k]);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p><strong>Reflect.ownKeys()</strong><br><code>Reflect.ownKeys()</code>用于返回对象所有<code>key</code>组成的数组。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">     name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">     age: <span class="number">22</span>,</span><br><span class="line">     sex: <span class="string">'男'</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="built_in">Reflect</span>.ownKeys(obj).forEach(<span class="function">(<span class="params">k</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(k,obj[k]);</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure></li></ol><h4 id="对象中常用的属性方法"><a href="#对象中常用的属性方法" class="headerlink" title="对象中常用的属性方法"></a>对象中常用的属性方法</h4><ol><li><p><strong>Object.keys方法</strong><br>Object.keys方法是JavaScript中用于遍历对象属性的一个方法 。它传入的参数是一个对象，返回的是一个数组，数组中包含的是该对象所有的属性名。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">    age: <span class="number">22</span>,</span><br><span class="line">    sex: <span class="string">'男'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(obj)); <span class="comment">// ["name", "age", "sex"]</span></span><br></pre></td></tr></table></figure></li><li><p><strong>Object.values()方法</strong><br>Object.values方法返回一个数组，成员是参数对象自身的（不含继承的）所有可遍历（ enumerable ）属性的键值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123; <span class="attr">foo</span>: <span class="string">"bar"</span>, <span class="attr">baz</span>: <span class="number">42</span> &#125;;  </span><br><span class="line"><span class="built_in">Object</span>.values(obj)  </span><br><span class="line"><span class="comment">// ["bar", 42]</span></span><br></pre></td></tr></table></figure></li><li><p><strong>Object.entries()</strong><br><code>Object.entries()</code>方法返回一个给定对象自身可枚举属性的键值对数组</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">    age: <span class="number">12</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.entries(obj));</span><br></pre></td></tr></table></figure><p><img src="../image/java16.png" alt=""></p></li><li><p><strong>Object.is()</strong><br>判断两个值是否相等相当于<code>===</code>， 判断复杂类型的时候判断的是地址值是否相等, 返回<code>Boolean</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="number">1</span>, <span class="string">'1'</span>)); <span class="comment">// false</span></span><br><span class="line">      </span><br><span class="line"><span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">    name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">    age: <span class="number">22</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">    age: <span class="number">22</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(obj1, obj2)) <span class="comment">// false 虽然内容相同，但不是一个对象</span></span><br></pre></td></tr></table></figure><p><strong>特例</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="literal">NaN</span>, <span class="literal">NaN</span>)); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> === <span class="literal">NaN</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li><li><p><strong>Object.assign()</strong><br>合并对象(可以合并对象中只能是基本类型), <code>Object.assign()</code> 方法用于将源对象复制到目标对象，它将返回目标对象。参数一是目标对象，参数二是源对象</p><table><thead><tr><th align="center">参数</th><th align="center">含义</th><th align="center">必选</th></tr></thead><tbody><tr><td align="center">target</td><td align="center">目标对象</td><td align="center">Y</td></tr><tr><td align="center">sources</td><td align="center">源对象</td><td align="center">N</td></tr></tbody></table><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">let</span> target = &#123;</span><br><span class="line">    a: <span class="number">1</span>,</span><br><span class="line">    b: <span class="number">2</span>,</span><br><span class="line">    say() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'say'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> source = &#123;</span><br><span class="line">    c: <span class="number">3</span>,</span><br><span class="line">    hello() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'hello'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> returnedTarget = <span class="built_in">Object</span>.assign(target, source)</span><br><span class="line"><span class="built_in">console</span>.log(target);</span><br><span class="line"><span class="built_in">console</span>.log(returnedTarget);</span><br></pre></td></tr></table></figure><p><strong>Object.assign()不能合并多重嵌套</strong><br>合并后<code>b</code>属性中的<code>d</code>,<code>e</code>丢失，这是因为<code>assign</code>单纯的拷贝了地址</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = &#123;</span><br><span class="line">     a: <span class="number">1</span>,</span><br><span class="line">     b: &#123;</span><br><span class="line">         d: <span class="number">5</span>,</span><br><span class="line">         e: <span class="number">6</span></span><br><span class="line">     &#125;,</span><br><span class="line">     say() &#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">'say'</span>);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">let</span> source = &#123;</span><br><span class="line">     c: <span class="number">3</span>,</span><br><span class="line">     b: &#123;</span><br><span class="line">         f: <span class="number">7</span></span><br><span class="line">     &#125;,</span><br><span class="line">     hello() &#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">'hello'</span>);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="built_in">Object</span>.assign(target, source)</span><br><span class="line"> <span class="built_in">console</span>.log(target);</span><br></pre></td></tr></table></figure></li><li><p><strong>Object.defineProperty</strong><br>定义新属性或修改原有的属性。<br><code>Object.defineProperty(obj,  prop,  descriptor)</code><br><code>Object. defineProperty()</code> 第三个参数 <code>descriptor</code>说明：以对象形式<code>{}</code>书写</p><ul><li><code>value</code>：设置属性的值默认为 <code>undefined</code></li><li><code>writable</code>：值是否可以重写。 <code>true| false</code> 默认为 <code>false</code></li><li><code>enumerable</code>：目标属性是否可以被枚举。 <code>true | false</code>默认为 <code>false</code></li><li><code>configurable</code>：目标属性是否可以被删除或是否可以再次修改特性 <code>true| false</code>默认为 <code>false</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'wormnimaya'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'age'</span>, &#123;</span><br><span class="line">    value: <span class="number">22</span>,</span><br><span class="line">    writable: <span class="literal">false</span>,</span><br><span class="line">    enumerable: <span class="literal">false</span>,</span><br><span class="line">    configurable: <span class="literal">false</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>Object.defineProperties()</strong><br>定义多个新属性或修改多个原有的属性。<br><code>Object.defineProperties(obj, props)</code><br><code>Object.defineProperties(obj, props)</code> 第二个参数 <code>props</code>说明：以对象形式<code>{}</code>书写</p><ul><li><code>value</code>：设置属性的值默认为 <code>undefined</code></li><li><code>writable</code>：值是否可以重写。 <code>true| false</code> 默认为 <code>false</code></li><li><code>enumerable</code>：目标属性是否可以被枚举。 <code>true | false</code>默认为 <code>false</code></li><li><code>configurable</code>：目标属性是否可以被删除或是否可以再次修改特性 <code>true| false</code>默认为 <code>false</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'wormnimaya'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperties(obj, &#123;</span><br><span class="line">    <span class="string">'age'</span>: &#123;</span><br><span class="line">        value: <span class="number">22</span>,</span><br><span class="line">        writable: <span class="literal">false</span>,</span><br><span class="line">        enumerable: <span class="literal">false</span>,</span><br><span class="line">        configurable: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">'sex'</span>: &#123;</span><br><span class="line">        value: <span class="string">'男'</span>,</span><br><span class="line">        writable: <span class="literal">false</span>,</span><br><span class="line">        enumerable: <span class="literal">false</span>,</span><br><span class="line">        configurable: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul></li></ol><h4 id="内置对象"><a href="#内置对象" class="headerlink" title="内置对象"></a>内置对象</h4><p> <code>JavaScript</code> 提供了多个内置对象：<code>Math</code>、 <code>Date</code> 、<code>Array</code>、<code>String</code>等    </p><ol><li>Math对象<br><code>Math</code> 对象不是构造函数，它具有数学常数和函数的属性和方法。跟数学相关的运算（求<code>绝对值</code>，<code>取整</code>、<code>最大值</code>等）可以使用 <code>Math</code> 中的成员。<table><thead><tr><th>属性、方法名</th><th>功能</th></tr></thead><tbody><tr><td>Math.PI</td><td>圆周率</td></tr><tr><td>Math.floor()</td><td>向下取整</td></tr><tr><td>Math.ceil()</td><td>向上取整</td></tr><tr><td>Math.round()</td><td>四舍五入版 就近取整   注意 -3.5   结果是  -3</td></tr><tr><td>Math.abs()</td><td>绝对值</td></tr><tr><td>Math.max()/Math.min()</td><td>求最大和最小值</td></tr><tr><td>Math.random()</td><td>获取范围在[0,1)内的随机值</td></tr></tbody></table></li><li>Date对象<br><code>Date</code> 对象和 <code>Math</code> 对象不一样，<code>Date</code>是一个构造函数，所以使用时需要实例化后才能使用其中具体方法和属性。<code>Date</code> 实例用来处理日期和时间</li></ol><ul><li>使用Date实例化日期对象<br><strong>获取当前时间必须实例化：</strong> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(); <span class="comment">// now 是 Sun Aug 23 2020 11:12:47 GMT+0800 (中国标准时间)</span></span><br></pre></td></tr></table></figure> <strong>获取指定时间的日期对象</strong> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> future = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2019/5/1'</span>);</span><br></pre></td></tr></table></figure><blockquote><p>注意：如果创建实例时并未传入参数，则得到的日期对象是当前时间对应的日期对象</p></blockquote></li><li>使用Date实例的方法和属性<br><img src="../image/java32.png" alt=""></li><li>通过Date实例获取总毫米数<br>总毫秒数的含义：基于1970年1月1日（世界标准时间）起的毫秒数<br><strong>获取总毫秒数方法</strong><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实例化Date对象</span></span><br><span class="line"><span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="comment">// 1. 用于获取对象的原始值</span></span><br><span class="line"><span class="built_in">console</span>.log(date.valueOf())</span><br><span class="line"><span class="built_in">console</span>.log(date.getTime())</span><br><span class="line"><span class="comment">// 2. 简单写可以这么做</span></span><br><span class="line"><span class="keyword">var</span> now = + <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="comment">// 3. HTML5中提供的方法，有兼容性问题</span></span><br><span class="line"><span class="keyword">var</span> now = <span class="built_in">Date</span>.now();</span><br></pre></td></tr></table></figure></li></ul><ol start="3"><li><p>数组对象</p></li><li><p>基本包装类型<br>为了方便操作基本数据类型，<code>JavaScript</code> 还提供了三个特殊的引用类型：<code>String</code>、<code>Number</code>和 <code>Boolean</code>。</p><p>基本包装类型就是把简单数据类型包装成为复杂数据类型，这样基本数据类型就有了属性和方法。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'andy'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.length);</span><br></pre></td></tr></table></figure><p>按道理基本数据类型是没有属性和方法的，而对象才有属性和方法，但上面代码却可以执行，这是因为 js 会把基本数据类型包装为复杂数据类型，其执行过程如下 ：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 生成临时变量，把简单类型包装为复杂数据类型</span></span><br><span class="line"><span class="keyword">var</span> temp = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'andy'</span>);</span><br><span class="line"><span class="comment">// 2. 赋值给我们声明的字符变量</span></span><br><span class="line">str = temp;</span><br><span class="line"><span class="comment">// 3. 销毁临时变量</span></span><br><span class="line">temp = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure></li></ol><h4 id="原型对象"><a href="#原型对象" class="headerlink" title="原型对象"></a>原型对象</h4><p> <code>Javascript</code>规定，每一个构造函数都有一个 <code>prototype</code>属性，指向<code>原型对象</code>。这个对象的所有属性和方法都会被构造函数所拥有。我们可以把那些不变的方法，直接定义在 <code>prototype</code>对象上，这样所有对象的实例就可以共享这些方法。<code>原型</code>是一个对象，构造函数中<code>prototype</code>指向原型，也称<code>原型对象</code>。原型的作用是<code>共享方法</code>。</p><ol><li><p><strong>prototype</strong><br>每一个构造函数都有一个 <code>prototype</code>属性，指向<code>原型对象</code>。这个对象的所有属性和方法都会被构造函数所拥有。我们可以把那些不变的方法，直接定义在 <code>prototype</code>对象上，这样所有对象的实例就可以共享这些方法。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.name = name</span><br><span class="line">&#125;</span><br><span class="line">Animal.prototype.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'你好'</span> + <span class="keyword">this</span>.name);</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> dog = <span class="keyword">new</span> Animal(<span class="string">'狗'</span>)</span><br><span class="line"><span class="keyword">let</span> cat = <span class="keyword">new</span> Animal(<span class="string">'猫'</span>)</span><br><span class="line">dog.say()</span><br><span class="line">cat.say()</span><br></pre></td></tr></table></figure></li><li><p><strong><strong>proto</strong></strong><br>对象都会有一个属性<code>__proto__</code>指向构造函数的 <code>prototype</code>原型对象，之所以们对象可以使用构造函数<code>prototype</code>原型对象的属性和方法，就是因为对象有 <code>__proto__</code>原型的存在。</p><ul><li><code>prototype</code>把原型对象的地址赋值给<code>__proto__</code>，<code>__proto__</code>和<code>prototype</code>是等价的</li><li><code>__proto__</code>对象原型的意义就在于为对象的查找机制提供一个方向，或者说一条路线，但是它是一个非标准属性因此实际开发中，不可以使用这个属性，它只是内部指向原型对象<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name</span><br><span class="line">&#125;</span><br><span class="line">Animal.prototype.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'你好'</span> + <span class="keyword">this</span>.name);</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">let</span> dog = <span class="keyword">new</span> Animal(<span class="string">'狗'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(dog.__proto__ === Animal.prototype); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><img src="../image/java13.png" alt=""></li></ul></li><li><p><strong>constructor构造函数</strong></p><ul><li><code>__proto__</code>和<code>prototype</code>里面都有一个属性 <code>constructor</code> 属性 ，<code>constructor</code> 我们称为构造函数，因为它指回构造函数本身。</li><li><code>constructor</code> 主要用于记录该对象引用于哪个构造函数，它可以让原型对象重新指向原来的构造函数。</li><li>一般情况下，对象的方法都在构造函数的原型对象中设置。如果有多个对象的方法，我们可以给原型对象采取对象形式赋值，但是这样就会覆盖构造函数原型对象原来的内容，这样修改后的原型对象 <code>constructor</code>  就不再指向当前构造函数了。此时，我们可以在修改后的原型对象中，添加一个 <code>constructor</code> 指向原来的构造函数。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Star</span>(<span class="params">uname, age</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.uname = uname;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 很多情况下,我们需要手动的利用constructor 这个属性指回 原来的构造函数</span></span><br><span class="line">Star.prototype = &#123;</span><br><span class="line"><span class="comment">// 如果我们修改了原来的原型对象,给原型对象赋值的是一个对象,则必须手动的利用constructor指回原来的构造函数</span></span><br><span class="line">  <span class="keyword">constructor</span>: Star, // 手动设置指回原来的构造函数</span><br><span class="line">  sing: function() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'我会唱歌'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  movie: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'我会演电影'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> zxy = <span class="keyword">new</span> Star(<span class="string">'张学友'</span>, <span class="number">19</span>);</span><br><span class="line"><span class="built_in">console</span>.log(zxy)</span><br></pre></td></tr></table></figure></li></ul><p><strong>构造函数的<code>prototype</code>属性指向了构造函数原型对象 ,实例对象是由构造函数创建的,实例对象的<code>__proto__</code>属性指向了构造函数的原型对象 ,构造函数的原型对象的<code>constructor</code>属性指向了构造函数,实例对象的原型的<code>constructor</code>属性也指向了构造函数</strong><br><img src="../image/java14.png" alt=""></p></li><li><p><strong>原型链</strong><br>  每一个实例对象又有一个<code>__proto__</code>属性，指向的构造函数的原型对象，构造函数的原型对象也是一个对象，也有<code>__proto__</code>属性，这样一层一层往上找就形成了原型链。<br>当访问一个对象的属性（包括方法）时，首先查找这个对象自身有没有该属性。如果没有就查找它的原型（也就是 <code>__proto__</code>指向原型对象）。 如果还没有就查找原型对象的原型（<code>Object</code>的原型对象）。依此类推一直找到 <code>Object</code> 为止（<code>null</code>）。<code>__proto__</code>对象原型的意义就在于为对象成员查找机制提供一个方向，或者说一条路线。<br><img src="../image/java15.png" alt=""></p></li><li><p><strong>原型对象中this指向</strong><br>构造函数中的<code>this</code>和原型对象的<code>this</code>,都指向我们<code>new</code>出来的实例对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Star</span>(<span class="params">uname, age</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.uname = uname;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> that;</span><br><span class="line">Star.prototype.sing = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'我会唱歌'</span>);</span><br><span class="line">    that = <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> ldh = <span class="keyword">new</span> Star(<span class="string">'刘德华'</span>, <span class="number">18</span>);</span><br><span class="line"><span class="comment">// 1. 在构造函数中,里面this指向的是对象实例 ldh</span></span><br><span class="line"><span class="built_in">console</span>.log(that === ldh);<span class="comment">//true</span></span><br><span class="line"><span class="comment">// 2.原型对象函数里面的this 指向的是 实例对象 ldh</span></span><br></pre></td></tr></table></figure></li><li><p><strong>通过原型为数组扩展内置方法</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="built_in">Array</span>.prototype.sum = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.length; i++) &#123;</span><br><span class="line">      sum += <span class="keyword">this</span>[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> sum;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//此时数组对象中已经存在sum()方法了  可以始终 数组.sum()进行数据的求</span></span><br></pre></td></tr></table></figure><h4 id="对象结构赋值"><a href="#对象结构赋值" class="headerlink" title="对象结构赋值"></a>对象结构赋值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">     name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">     age: <span class="number">22</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123;name, age&#125; = obj</span><br><span class="line"><span class="built_in">console</span>.log(name, age);</span><br></pre></td></tr></table></figure><blockquote><p>在这个结构赋值的过程中，左侧的“模板”结构要与右侧的 Object 一致，但是属性的顺序无需一致</p></blockquote><p><strong>修改属性名</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">    age: <span class="number">22</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123;name, age&#125; = obj</span><br><span class="line"><span class="built_in">console</span>.log(name, age);</span><br></pre></td></tr></table></figure></li></ol><h4 id="rest运算符和扩展运算符"><a href="#rest运算符和扩展运算符" class="headerlink" title="rest运算符和扩展运算符"></a>rest运算符和扩展运算符</h4><ol><li><strong>rest</strong><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">   name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">   age: <span class="number">22</span>,</span><br><span class="line">   sex: <span class="string">'男'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123; name, ...rest &#125; = obj</span><br><span class="line"><span class="built_in">console</span>.log(name, rest.age, rest.sex);</span><br></pre></td></tr></table></figure></li><li><strong>扩展运算符</strong><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">    age: <span class="number">22</span>,</span><br><span class="line">    sex: <span class="string">'男'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">    grade: <span class="number">95</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(&#123;...obj, ...obj1&#125;); <span class="comment">// &#123;name: "wormnimaya", age: 22, sex: "男", grade: 95&#125;</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="深拷贝浅拷贝"><a href="#深拷贝浅拷贝" class="headerlink" title="深拷贝浅拷贝"></a>深拷贝浅拷贝</h4><ol><li><p>浅拷贝<br>浅拷贝只是单纯的把地址赋值给变量，不会在堆中开辟空间，所以两个变量指向同一个地址，一个改变另一个也相应改变</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">     name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">     age: <span class="string">'12'</span>,</span><br><span class="line">     address: &#123;</span><br><span class="line">         number: <span class="number">123456</span></span><br><span class="line">     &#125;,</span><br><span class="line">     arr: [<span class="number">12</span>, <span class="number">3</span>, <span class="number">44</span>]</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">let</span> obj1 = obj</span><br><span class="line"> obj1.name = <span class="string">'小明'</span></span><br><span class="line"> <span class="built_in">console</span>.log(obj);</span><br></pre></td></tr></table></figure></li><li><p>深拷贝<br>深拷贝是在堆中重新开辟一个空间来存储，两个变量指向不同的空间，一个改变另一个不会发生变化</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(obj))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">    age: <span class="string">'12'</span>,</span><br><span class="line">    address: &#123;</span><br><span class="line">        number: <span class="number">123456</span></span><br><span class="line">    &#125;,</span><br><span class="line">    arr: [<span class="number">12</span>, <span class="number">3</span>, <span class="number">44</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj1 = deepCode(obj)</span><br><span class="line">obj1.name = <span class="string">'小明'</span></span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br></pre></td></tr></table></figure><p><strong>自写深拷贝函数</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">obj = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> obj !== <span class="string">'object'</span> || obj == <span class="literal">null</span>) &#123;</span><br><span class="line">          <span class="comment">// obj 是 null ，或者不是对象和数组，直接返回</span></span><br><span class="line">          <span class="keyword">return</span> obj</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 初始化返回结果</span></span><br><span class="line">      <span class="keyword">let</span> result</span><br><span class="line">      <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="built_in">Array</span>) &#123;</span><br><span class="line">          result = []</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          result = &#123;&#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">          <span class="comment">// 保证 key 不是原型的属性</span></span><br><span class="line">          <span class="keyword">if</span> (obj.hasOwnProperty(key)) &#123;</span><br><span class="line">              <span class="comment">// 递归调用！！！</span></span><br><span class="line">              result[key] = deepClone(obj[key])</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 返回结果</span></span><br><span class="line">      <span class="keyword">return</span> result</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> obj = &#123;</span><br><span class="line">      name: <span class="string">'wormnimaya'</span>,</span><br><span class="line">      age: <span class="string">'12'</span>,</span><br><span class="line">      address: &#123;</span><br><span class="line">          number: <span class="number">123456</span></span><br><span class="line">      &#125;,</span><br><span class="line">      arr: [<span class="number">12</span>, <span class="number">3</span>, <span class="number">44</span>]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> obj1 = deepClone(obj)</span><br><span class="line">  obj1.name = <span class="string">'小明'</span></span><br><span class="line">  <span class="built_in">console</span>.log(obj);</span><br></pre></td></tr></table></figure></li></ol><h2 id="引用类型和值类型的区别"><a href="#引用类型和值类型的区别" class="headerlink" title="引用类型和值类型的区别"></a>引用类型和值类型的区别</h2><p> 在栈中会开辟空间储存值类型数据，而引用类型会在队中开辟空间存储数据，而在栈中储存的是引用类型的地址值<br> <img src="../image/java17.png" alt=""></p><ol><li>简单类型（基本数据类型、值类型）：在存储时变量中存储的是值本身，包括<code>string</code> ，<code>number</code>，<code>boolean</code>，<code>undefined</code>，<code>null</code>，<code>symbol</code></li><li>复杂数据类型（引用类型）：在存储时变量中存储的仅仅是地址（引用），通过 new 关键字创建的对象（系统对象、自定义对象），如 Object、Array、Date等；<blockquote><p>基本数据类型是值拷贝，复杂数据类型是引用拷贝</p></blockquote><h2 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h2></li><li>识别所有基本类型(不能判断null)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'wormnimaya'</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> str); <span class="comment">// string</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> num = <span class="number">1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> num); <span class="comment">// number</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a); <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> flag = <span class="literal">true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> flag); <span class="comment">// boolean</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> s = <span class="built_in">Symbol</span>(<span class="string">'s'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> s); <span class="comment">// symbol</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">null</span>); <span class="comment">// object</span></span><br></pre></td></tr></table></figure></li><li>识别函数<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> fn); <span class="comment">// function</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">console</span>.log); <span class="comment">// function</span></span><br></pre></td></tr></table></figure></li><li>判断是否是引用类型（不可再细分）<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]); <span class="comment">// object</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> &#123;<span class="attr">age</span>: <span class="number">22</span>&#125;); <span class="comment">// object</span></span><br></pre></td></tr></table></figure></li></ol><h1 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h1><h2 id="什么是正则表达式"><a href="#什么是正则表达式" class="headerlink" title="什么是正则表达式"></a>什么是正则表达式</h2><p> 正则表达式（ <code>Regular Expression</code> ）是用于匹配字符串中字符组合的模式。在<code>JavaScript</code>中，正则表达式也是对象。</p><h2 id="正则表达式的创建"><a href="#正则表达式的创建" class="headerlink" title="正则表达式的创建"></a>正则表达式的创建</h2><ol><li>通过调用RegExp对象的构造函数创建 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> regexp = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/123/</span>);</span><br></pre></td></tr></table></figure></li><li>利用字面量创建 正则表达式<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rg = <span class="regexp">/123/</span>;</span><br></pre></td></tr></table></figure></li><li>测试正则表达式<br><code>test()</code> 正则对象方法，用于检测字符串是否符合该规则，该对象会返回 <code>true</code> 或 <code>false</code>，其参数是测试字符串。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rg = <span class="regexp">/123/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(rg.test(<span class="number">123</span>));<span class="comment">//匹配字符中是否出现123  出现结果为true</span></span><br><span class="line"><span class="built_in">console</span>.log(rg.test(<span class="string">'abc'</span>));<span class="comment">//匹配字符中是否出现123 未出现结果为false</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="正则表达式的组成"><a href="#正则表达式的组成" class="headerlink" title="正则表达式的组成"></a>正则表达式的组成</h2><p> 一个正则表达式可以由简单的字符构成，比如 <code>/abc/</code>，也可以是简单和特殊字符的组合，比如<code>/ab*c/</code>。其中特殊字符也被称为元字符，在正则表达式中是具有特殊意义的专用符号，如 <code>^</code> 、<code>$</code> 、<code>+</code> 等。<br> <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="noopener">MDN</a></p><h3 id="边界符"><a href="#边界符" class="headerlink" title="边界符"></a>边界符</h3><p> 正则表达式中的边界符（位置符）用来提示字符所处的位置，主要有两个字符</p><table><thead><tr><th>边界符</th><th>说明</th></tr></thead><tbody><tr><td>^</td><td>表示匹配行首的文本（以谁开始）</td></tr><tr><td>$</td><td>表示匹配行尾的文本（以谁结束）</td></tr></tbody></table><p> 如果 <code>^</code>和 <code>$</code> 在一起，表示必须是精确匹配。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> rg = <span class="regexp">/abc/</span>; <span class="comment">// 正则表达式里面不需要加引号 不管是数字型还是字符串型</span></span><br><span class="line"><span class="comment">// /abc/ 只要包含有abc这个字符串返回的都是true</span></span><br><span class="line"><span class="built_in">console</span>.log(rg.test(<span class="string">'abc'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(rg.test(<span class="string">'abcd'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(rg.test(<span class="string">'aabcd'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'---------------------------'</span>);</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^abc/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">'abc'</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">'abcd'</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">'aabcd'</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'---------------------------'</span>);</span><br><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/^abc$/</span>; <span class="comment">// 精确匹配 要求必须是 abc字符串才符合规范</span></span><br><span class="line"><span class="built_in">console</span>.log(reg1.test(<span class="string">'abc'</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg1.test(<span class="string">'abcd'</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg1.test(<span class="string">'aabcd'</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg1.test(<span class="string">'abcabc'</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure></p><h3 id="字符类"><a href="#字符类" class="headerlink" title="字符类"></a>字符类</h3><p> 字符类表示有一系列字符可供选择，只要匹配其中一个就可以了。所有可供选择的字符都放在方括号内。</p><h4 id="方括号"><a href="#方括号" class="headerlink" title="[]方括号"></a>[]方括号</h4><p> 表示有一系列字符可供选择，只要匹配其中一个就可以了<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rg = <span class="regexp">/[abc]/</span>; <span class="comment">// 只要包含有a 或者 包含有b 或者包含有c 都返回为true</span></span><br><span class="line"><span class="built_in">console</span>.log(rg.test(<span class="string">'andy'</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(rg.test(<span class="string">'baby'</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(rg.test(<span class="string">'color'</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(rg.test(<span class="string">'red'</span>));<span class="comment">//false</span></span><br><span class="line"><span class="keyword">var</span> rg1 = <span class="regexp">/^[abc]$/</span>; <span class="comment">// 三选一 只有是a 或者是 b  或者是c 这三个字母才返回 true</span></span><br><span class="line"><span class="built_in">console</span>.log(rg1.test(<span class="string">'aa'</span>));<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(rg1.test(<span class="string">'a'</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(rg1.test(<span class="string">'b'</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(rg1.test(<span class="string">'c'</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(rg1.test(<span class="string">'abc'</span>));<span class="comment">//true</span></span><br><span class="line">----------------------------------------------------------------------------------</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^[a-z]$/</span> <span class="comment">//26个英文字母任何一个字母返回 true  - 表示的是a 到z 的范围  </span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">'a'</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">'z'</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">'A'</span>));<span class="comment">//false</span></span><br><span class="line">-----------------------------------------------------------------------------------</span><br><span class="line"><span class="comment">//字符组合</span></span><br><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/^[a-zA-Z0-9]$/</span>; <span class="comment">// 26个英文字母(大写和小写都可以)任何一个字母返回 true  </span></span><br><span class="line">------------------------------------------------------------------------------------</span><br><span class="line"><span class="comment">//取反 方括号内部加上 ^ 表示取反，只要包含方括号内的字符，都返回 false 。</span></span><br><span class="line"><span class="keyword">var</span> reg2 = <span class="regexp">/^[^a-zA-Z0-9]$/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg2.test(<span class="string">'a'</span>));<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg2.test(<span class="string">'B'</span>));<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg2.test(<span class="number">8</span>));<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg2.test(<span class="string">'!'</span>));<span class="comment">//true</span></span><br></pre></td></tr></table></figure></p><h4 id="量词符"><a href="#量词符" class="headerlink" title="量词符"></a>量词符</h4><p> 量词符用来设定某个模式出现的次数。</p><table><thead><tr><th>量词</th><th>说明</th></tr></thead><tbody><tr><td>*</td><td>重复0次或更多次</td></tr><tr><td>+</td><td>重复1次或更多次</td></tr><tr><td>?</td><td>重复0次或1次</td></tr><tr><td>{n}</td><td>重复n次</td></tr><tr><td>{n,}</td><td>重复n次或更多次</td></tr><tr><td>{n,m}</td><td>重复n到m次</td></tr></tbody></table><h4 id="括号总结"><a href="#括号总结" class="headerlink" title="括号总结"></a>括号总结</h4><ol><li>大括号  量词符.  里面表示重复次数</li><li>中括号 字符集合。匹配方括号中的任意字符. </li><li>小括号表示优先级<br><a href="https://c.runoob.com/" target="_blank" rel="noopener">正则表达式在线测试</a></li></ol><h3 id="预定义类"><a href="#预定义类" class="headerlink" title="预定义类"></a>预定义类</h3><p> 预定义类指的是某些常见模式的简写方式.<br> <img src="../image/java18.png" alt=""><br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 验证座机号码</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^\d&#123;3&#125;-\d&#123;8&#125;|\d&#123;4&#125;-\d&#123;7&#125;$/</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^\d&#123;3,4&#125;-\d&#123;7,8&#125;$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 手机号验证:/^1[3|4|5|7|8][0-9]&#123;9&#125;$/;</span></span><br></pre></td></tr></table></figure></p><h3 id="正则替换replace"><a href="#正则替换replace" class="headerlink" title="正则替换replace"></a>正则替换replace</h3><p> <code>replace()</code>方法可以实现替换字符串操作，用来替换的参数可以是一个字符串或是一个正则表达式<br> <code>string. replace(regexp/substr, replacement)</code></p><ul><li>第一个参数: 被替换的字符串或者 正则表达式</li><li>第二个参数：替换为的字符串</li><li>返回值是一个替换完毕的新字符串</li></ul><p><code>/表达式/ [switch]</code><br> switch（也称为修饰符）按照什么样的模式来匹配。有三种值</p><ul><li>g：全局匹配</li><li>i：忽略大小写</li><li>gi：全局匹配+忽略大小写<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'andy和red'</span>;</span><br><span class="line"><span class="keyword">var</span> newStr = str.replace(<span class="string">'andy'</span>, <span class="string">'baby'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(newStr)<span class="comment">//baby和red</span></span><br><span class="line"><span class="comment">//等同于 此处的andy可以写在正则表达式内</span></span><br><span class="line"><span class="keyword">var</span> newStr2 = str.replace(<span class="regexp">/andy/</span>, <span class="string">'baby'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(newStr2)<span class="comment">//baby和red</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//替换第一个</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'abcabc'</span></span><br><span class="line"><span class="keyword">var</span> nStr = str.replace(<span class="regexp">/a/</span>,<span class="string">'哈哈'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(nStr) <span class="comment">//哈哈bcabc</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//全部替换g</span></span><br><span class="line"><span class="keyword">var</span> nStr = str.replace(<span class="regexp">/a/g</span>,<span class="string">'哈哈'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(nStr) <span class="comment">//哈哈bc哈哈bc</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//忽略大小写i</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'aAbcAba'</span>;</span><br><span class="line"><span class="keyword">var</span> newStr = str.replace(<span class="regexp">/a/gi</span>,<span class="string">'哈哈'</span>)<span class="comment">//"哈哈哈哈bc哈哈b哈哈"</span></span><br></pre></td></tr></table></figure></li></ul><h1 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h1><h2 id="运算符的分类"><a href="#运算符的分类" class="headerlink" title="运算符的分类"></a>运算符的分类</h2><p> <strong>运算符</strong>（operator）也被称为操作符，是用于实现赋值、比较和执行算数运算等功能的符号。<br> JavaScript中常用的运算符有：</p><ul><li>算数运算符</li><li>递增和递减运算符</li><li>比较运算符</li><li>逻辑运算符</li><li>赋值运算符</li></ul><h2 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h2><p> 算术运算使用的符号，用于执行两个变量或值的算术运算。<br> <img src="../image/java19.png" alt=""></p><ol><li>浮点数的精度问题<br>浮点数值的最高精度是 17 位小数，但在进行算术计算时其精确度远远不如整数。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = <span class="number">0.1</span> + <span class="number">0.2</span>;    <span class="comment">// 结果不是 0.3，而是：0.30000000000000004</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0.07</span> * <span class="number">100</span>);   <span class="comment">// 结果不是 7，  而是：7.000000000000001</span></span><br></pre></td></tr></table></figure><blockquote><p>不要直接判断两个浮点数是否相等 ! </p></blockquote></li><li>表达式和返回值<ul><li>表达式: 是由数字、运算符、变量等组成的式子</li><li>返回值: 表达式最终都会有一个结果，返回给开发者，称为返回值</li></ul></li></ol><h2 id="递增和递减运算符"><a href="#递增和递减运算符" class="headerlink" title="递增和递减运算符"></a>递增和递减运算符</h2><p> 如果需要反复给数字变量添加或减去1，可以使用递增（++）和递减（ – ）运算符来完成。放在变量前面时，我们可以称为前置递增（递减）运算符，放在变量后面时，我们可以称为后置递增（递减）运算符。</p><ol><li>递增运算符<ul><li>前置递增<br>本身等于递增后的值<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">1</span></span><br><span class="line"><span class="built_in">console</span>.log(++num); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure></li><li>后置递增<br>本身等于递增前的值<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">1</span></span><br><span class="line"><span class="built_in">console</span>.log(num++); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure></li></ul></li><li>递减运算符<ul><li>前置递减<br>本身等于递减后的值<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">2</span></span><br><span class="line"><span class="built_in">console</span>.log(--num); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure></li><li>后置递减<br>本身等于递减之前的值<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">2</span></span><br><span class="line"><span class="built_in">console</span>.log(num--); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure></li></ul></li></ol><h2 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h2><p> 比较运算符（关系运算符）是两个数据进行比较时所使用的运算符，比较运算后，会返回一个布尔值（<code>true / false</code>）作为比较运算的结果<br> <img src="../image/java20.png" alt=""></p><p> <strong>等号比较</strong><br> <img src="../image/java21.png" alt=""><br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">18</span> == <span class="string">'18'</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">18</span> === <span class="string">'18'</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure></p><h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><p> 逻辑运算符是用来进行布尔值运算的运算符，其返回值也是布尔值。后面开发中经常用于多个条件的判断<br> <img src="../image/java22.png" alt=""></p><ol><li>逻辑与&amp;&amp;<br>两边都是 true才返回 true，否则返回 false<br><img src="../image/java23.png" alt=""><br><img src="../image/java24.png" alt=""></li><li>逻辑或 ||<br>一边<code>true</code>就返回<code>true</code><br><img src="../image/java25.png" alt=""><br><img src="../image/java26.png" alt=""></li><li>逻辑非 ！<br>逻辑非（!）也叫作取反符，用来取一个布尔值相反的值，如 <code>true</code> 的相反值是 <code>false</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isOk = !<span class="literal">true</span>;</span><br><span class="line"><span class="built_in">console</span>.log(isOk);  <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li><li>短路运算（逻辑中断）<ul><li>逻辑与<br><code>语法： 表达式1 &amp;&amp; 表达式2</code><br>如果第一个表达式的值为真，则返回表达式2<br>如果第一个表达式的值为假，则返回表达式1<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log( <span class="number">123</span> &amp;&amp; <span class="number">456</span> ); <span class="comment">// 456</span></span><br><span class="line"><span class="built_in">console</span>.log( <span class="number">0</span> &amp;&amp; <span class="number">456</span> ); <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log( <span class="number">123</span> &amp;&amp; <span class="number">456</span>&amp;&amp; <span class="number">789</span> ); <span class="comment">//789</span></span><br></pre></td></tr></table></figure></li><li>逻辑或<br><code>语法： 表达式1 || 表达式2</code><br>如果第一个表达式的值为真，则返回表达式1<br>如果第一个表达式的值为假，则返回表达式2<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log( <span class="number">123</span> || <span class="number">456</span> ); <span class="comment">//  123</span></span><br><span class="line"><span class="built_in">console</span>.log( <span class="number">0</span> ||  <span class="number">456</span> );   <span class="comment">//  456</span></span><br><span class="line"><span class="built_in">console</span>.log( <span class="number">123</span> || <span class="number">456</span> || <span class="number">789</span> );<span class="comment">// 123</span></span><br></pre></td></tr></table></figure></li></ul></li></ol><h2 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><p> 用来把数据赋值给变量的运算符。<br> <img src="../image/java27.png" alt=""><br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age = <span class="number">10</span>;</span><br><span class="line">age += <span class="number">5</span>;  <span class="comment">// 相当于 age = age + 5;</span></span><br><span class="line">age -= <span class="number">5</span>;  <span class="comment">// 相当于 age = age - 5;</span></span><br><span class="line">age *= <span class="number">10</span>; <span class="comment">// 相当于 age = age * 10;</span></span><br></pre></td></tr></table></figure></p><h2 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h2><p> <img src="../image/java28.png" alt=""></p><ul><li>一元运算符里面的逻辑非优先级很高</li><li>逻辑与比逻辑或优先级高</li></ul><h1 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h1><ol><li>顺序流程控制<br>顺序结构是程序中最简单、最基本的流程控制，它没有特定的语法结构，程序会按照代码的先后顺序，依次执行，程序中大多数的代码都是这样执行的。<br><img src="../image/java29.png" alt=""></li><li>分支流程控制<br>由上到下执行代码的过程中，根据不同的条件，执行不同的路径代码（执行代码多选一的过程），从而得到不同的结果<br><img src="../image/java30.png" alt=""><ul><li>if 语句<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (条件表达式) &#123;</span><br><span class="line">   <span class="comment">// 条件成立执行的代码语句</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>if else语句<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 条件成立  执行 if 里面代码，否则执行else 里面的代码</span></span><br><span class="line"><span class="keyword">if</span> (条件表达式) &#123;</span><br><span class="line">    <span class="comment">// [如果] 条件成立执行的代码</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// [否则] 执行的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>if else if 语句(多分支语句)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 适合于检查多重条件。</span></span><br><span class="line"><span class="keyword">if</span> (条件表达式<span class="number">1</span>) &#123;</span><br><span class="line">    语句<span class="number">1</span>；</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (条件表达式<span class="number">2</span>)  &#123;</span><br><span class="line">    语句<span class="number">2</span>；</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (条件表达式<span class="number">3</span>)  &#123;</span><br><span class="line">  语句<span class="number">3</span>；</span><br><span class="line">....</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 上述条件都不成立执行此处代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>三元表达式<br>如果表达式1为 <code>true</code> ，则返回表达式2的值，如果表达式1为 <code>false</code>，则返回表达式3的值<br><code>表达式1 ? 表达式2 : 表达式3;</code></li><li>switch分支流程控制<br><code>switch</code> 语句也是多分支语句，它用于基于不同的条件来执行不同的代码。当要针对变量设置一系列的特定值的选项时，就可以使用 <code>switch</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">switch</span>( 表达式 )&#123; </span><br><span class="line">    <span class="keyword">case</span> value1:</span><br><span class="line">        <span class="comment">// 表达式 等于 value1 时要执行的代码</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> value2:</span><br><span class="line">        <span class="comment">// 表达式 等于 value2 时要执行的代码</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="comment">// 表达式 不等于任何一个 value 时要执行的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>执行case 里面的语句时，如果没有break，则继续执行下一个case里面的语句。</p></blockquote></li></ul></li><li>循环<ul><li>for循环<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>双重for循环<br>外层循环执行一次，内层循环要执行全部次数<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> star = <span class="string">''</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">1</span>; j &lt;= <span class="number">3</span>; j++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">3</span>; i++) &#123;</span><br><span class="line">    star += <span class="string">'☆'</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 每次满 5个星星 就 加一次换行</span></span><br><span class="line">    star += <span class="string">'\n'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(star);</span><br></pre></td></tr></table></figure></li><li>while循环<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (条件表达式) &#123;</span><br><span class="line">    <span class="comment">// 循环体代码 </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>do-while循环<br>先执行一次循环体代码, 再执行条件表达式，如果结果为 <code>true</code>，则继续执行循环体代码，如果为 <code>false</code>，则退出循环，继续执行后面代码<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">     <span class="comment">// 循环体代码 - 条件表达式为 true 时重复执行循环体代码</span></span><br><span class="line"> &#125; <span class="keyword">while</span>(条件表达式);</span><br></pre></td></tr></table></figure><blockquote><p>注意：先再执行循环体，再判断，<code>do…while</code>循环语句至少会执行一次循环体代码</p></blockquote></li><li>continue、break<br>continue 关键字用于立即跳出本次循环，继续下一次循环<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'这个包子有虫子，扔掉'</span>);</span><br><span class="line">        <span class="keyword">continue</span>; <span class="comment">// 跳出本次循环，跳出的是第3次循环 </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'我正在吃第'</span> + i + <span class="string">'个包子呢'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>break 关键字用于立即跳出整个循环（循环结束）。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i == <span class="number">3</span>) &#123;</span><br><span class="line">      <span class="keyword">break</span>; <span class="comment">// 直接退出整个for 循环，跳到整个for下面的语句</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'我正在吃第'</span> + i + <span class="string">'个包子呢'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ol><h1 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h1><p> 通常来说，一段程序代码中所用到的名字并不总是有效和可用的，而限定这个名字的可用性的代码范围就是这个名字的作用域。作用域的使用提高了程序逻辑的局部性，增强了程序的可靠性，减少了名字冲突。</p><h2 id="全局作用域"><a href="#全局作用域" class="headerlink" title="全局作用域"></a>全局作用域</h2><p> 作用于所有代码执行的环境(整个 script 标签内部)或者一个独立的 js 文件。</p><h2 id="局部作用域"><a href="#局部作用域" class="headerlink" title="局部作用域"></a>局部作用域</h2><p> 作用于函数内的代码环境，就是局部作用域。因为跟函数有关系，所以也称为函数作用域。</p><h2 id="块级作用域"><a href="#块级作用域" class="headerlink" title="块级作用域"></a>块级作用域</h2><p> <code>es6</code>之前没有块级作用域，es6以后用let或者const声明的变量具有块级作用域, 块作用域由 <code>{ }</code> 包括。</p><ul><li>Js中没有块级作用域（在ES6之前）<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">     <span class="keyword">var</span> num = <span class="number">1</span></span><br><span class="line">     <span class="built_in">console</span>.log(num);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(num);</span><br></pre></td></tr></table></figure></li><li>ES6以后<br>具有块级作用域<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">     <span class="keyword">let</span> num = <span class="number">1</span></span><br><span class="line">     <span class="built_in">console</span>.log(num);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="built_in">console</span>.log(num); <span class="comment">// num is not defined</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h2><p> 在全局作用域下声明的变量叫做全局变量（在函数外部定义的变量）。</p><ul><li>全局变量在代码的任何位置都可以使</li><li>在全局作用域下 var 声明的变量 是全局变量</li><li>特殊情况下，在函数内不使用 var 声明的变量也是全局变量（不建议使用）</li></ul><h2 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h2><p> 在局部作用域下声明的变量叫做局部变量（在函数内部定义的变量）</p><ul><li>局部变量只能在该函数内部使用</li><li>在函数内部 var 声明的变量是局部变量</li><li>函数的形参实际上就是局部变量</li></ul><h2 id="全局变量和局部变量的区别"><a href="#全局变量和局部变量的区别" class="headerlink" title="全局变量和局部变量的区别"></a>全局变量和局部变量的区别</h2><ul><li>全局变量：在任何一个地方都可以使用，只有在浏览器关闭时才会被销毁，因此比较占内存</li><li>局部变量：只在函数内部使用，当其所在的代码块被执行时，会被初始化；当代码块运行结束后，就会被销毁，因此更节省内存空间</li></ul><h2 id="作用域链"><a href="#作用域链" class="headerlink" title="作用域链"></a>作用域链</h2><p>只要是代码都一个作用域中，写在函数内部的是局部作用域，未写在任何函数内部即在全局作用域中；如果函数中还有函数，那么在这个作用域中就又可以诞生一个作用域；根据在<strong>内部函数可以访问外部函数变量</strong>的这种机制，用链式查找决定哪些数据能被内部函数访问，就称作作用域链<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(num);</span><br><span class="line">&#125;</span><br><span class="line">fn()</span><br></pre></td></tr></table></figure><br> <strong>作用域链：采取就近原则的方式来查找变量最终的值。</strong><br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> num = <span class="number">2</span></span><br><span class="line">    <span class="built_in">console</span>.log(num);</span><br><span class="line">&#125;</span><br><span class="line">fn()</span><br></pre></td></tr></table></figure></p><h2 id="预解析"><a href="#预解析" class="headerlink" title="预解析"></a>预解析</h2><p> <code>JavaScript代码</code>是由浏览器中的 <code>JavaScript解析器</code>来执行的。<code>JavaScript解析器</code>在运行<code>JavaScript代码</code>的时候分为两步：<code>预解析</code>和<code>代码执行</code>。</p><ul><li>预解析：在当前作用域下, <code>JS</code> 代码执行之前，浏览器会默认把带有 <code>var</code> 和 <code>function</code> 声明的变量在内存中进行提前声明或者定义。</li><li>代码执行： 从上到下执行JS语句</li><li>预解析会把变量和函数的声明在代码执行之前执行完成。</li></ul><ol><li>变量预解析<br>预解析也叫做变量、函数提升。变量提升（变量预解析）： 变量的声明会被提升到当前作用域的最上面，变量的赋值不会提升。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(num);  <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</span><br></pre></td></tr></table></figure><blockquote><p>变量提升只提升声明，不提升赋值</p></blockquote></li><li>函数预解析<br>函数提升： 函数的声明会被提升到当前作用域的最上面，但是不会调用函数。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fn();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'打印'</span>); 控制台打印字符串 --- ”打印“ </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>函数声明代表函数整体，所以函数提升后，函数名代表整个函数，但是函数并没有被调用！</p></blockquote></li><li>函数表达式声明函数问题<br>函数表达式创建函数，会执行变量提升，此时接收函数的变量名无法正确的调用<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fn();</span><br><span class="line"><span class="keyword">var</span>  fn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'想不到吧'</span>); <span class="comment">// 结果：报错提示 ”fn is not a function"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>该段代码执行之前，会做变量声明提升，fn在提升之后的值是undefined, 此时fn的值是undefined，所以无法正确调用</p></blockquote></li></ol><h1 id="严格模式"><a href="#严格模式" class="headerlink" title="严格模式"></a>严格模式</h1><p> <code>JavaScript</code> 除了提供正常模式外，还提供了严格模式（<code>strict mode</code>）。<code>ES5</code> 的严格模式是采用具有限制性 <code>JavaScript</code>变体的一种方式，即在严格的条件下运行 <code>JS</code> 代码。</p><p> 严格模式在 <code>IE10</code> 以上版本的浏览器中才会被支持，旧版本浏览器中会被忽略。</p><p> 严格模式对正常的 <code>JavaScript</code> 语义做了一些更改：</p><ol><li>消除了 <code>Javascript</code> 语法的一些不合理、不严谨之处，减少了一些怪异行为。</li><li>消除代码运行的一些不安全之处，保证代码运行的安全。</li><li>提高编译器效率，增加运行速度。</li><li>禁用了在 <code>ECMAScript</code> 的未来版本中可能会定义的一些语法，为未来新版本的 <code>Javascript</code> 做好铺垫。比如一些保留字如：<code>class</code>,<code>enum</code>,<code>export</code>, <code>extends</code>, <code>import</code>, <code>super</code> 不能做变量名</li></ol><h2 id="开启严格模式"><a href="#开启严格模式" class="headerlink" title="开启严格模式"></a>开启严格模式</h2><p> 严格模式可以应用到整个脚本或个别函数中。因此在使用时，我们可以将严格模式分为为<code>脚本开启严格模式</code>和为<code>函数开启严格模式</code>两种情况。</p><ol><li>为脚本开启严格模式<br>有的 <code>script</code> 脚本是严格模式，有的 <code>script</code> 脚本是正常模式，这样不利于文件合并，所以可以将整个脚本文件放在一个立即执行的匿名函数之中。这样独立创建一个作用域而不影响其他 script 脚本文件。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">//在当前的这个自调用函数中有开启严格模式，当前函数之外还是普通模式</span></span><br><span class="line"><span class="meta">  　　　　"use strict"</span>;</span><br><span class="line">      <span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line">  　　　　<span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  &#125;)();</span><br></pre></td></tr></table></figure></li><li>为函数开启严格模式<br>要给某个函数开启严格模式，需要把“use strict”;  (或 ‘use strict’; ) 声明放在函数体所有语句之前。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="meta">　　 "use strict"</span>;</span><br><span class="line">　　 <span class="keyword">return</span> <span class="string">"123"</span>;</span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">//当前fn函数开启了严格模式</span></span><br></pre></td></tr></table></figure></li><li>严格模式中的变化<br>严格模式对 <code>Javascript</code> 的语法和行为，都做了一些改变。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">10</span> </span><br><span class="line"><span class="built_in">console</span>.log(num) <span class="comment">// 严格模式后先声明才能使用变量</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num2 = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">delete</span> num2; <span class="comment">// 严格模式不允许删除变量</span></span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// 严格模式下全局作用域中函数中的 this 是 undefined</span></span><br><span class="line">&#125;</span><br><span class="line">fn();  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Star</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.sex = <span class="string">'男'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Star();严格模式下,如果 构造函数不加new调用会报错.</span></span><br><span class="line"><span class="keyword">var</span> ldh = <span class="keyword">new</span> Star();</span><br><span class="line"><span class="built_in">console</span>.log(ldh.sex);</span><br><span class="line">   </span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// 严格模式下，定时器 this 还是指向 window</span></span><br><span class="line">&#125;, <span class="number">2000</span>);</span><br></pre></td></tr></table></figure><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode" target="_blank" rel="noopener">更多严格模式参考</a></li></ol><h1 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h1><p> <strong>高阶函数</strong>是对其他函数进行操作的函数，它<code>接收函数作为参数</code>或将<code>函数作为返回值输出</code></p><p> 函数也是一种数据类型，同样可以作为参数，传递给另外一个参数使用。最典型的就是作为<strong>回调函数</strong>。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">callback</span>) </span>&#123;</span><br><span class="line">    callback &amp;&amp; callback()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'我是高阶函数'</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">'我是高阶函数'</span>);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> fn()();</span><br></pre></td></tr></table></figure></p><h1 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h1><h2 id="什么是闭包"><a href="#什么是闭包" class="headerlink" title="什么是闭包"></a>什么是闭包</h2><p> 闭包（<code>closure</code>）指有权访问另一个函数作用域中变量的函数。简单理解就是 ，一个作用域可以访问另外一个函数内部的局部变量<br> <img src="../image/java31.png" alt=""></p><h2 id="闭包的作用"><a href="#闭包的作用" class="headerlink" title="闭包的作用"></a>闭包的作用</h2><p> 延伸变量的作用范围。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f = fn();</span><br><span class="line">f(); <span class="comment">// 全局作用域访问到局部变量</span></span><br></pre></td></tr></table></figure></p><h2 id="闭包的案例"><a href="#闭包的案例" class="headerlink" title="闭包的案例"></a>闭包的案例</h2><ol><li>利用闭包的方式得到当前<code>li</code> 的索引号<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.length; i++) &#123;</span><br><span class="line">  <span class="comment">// 利用for循环创建了4个立即执行函数</span></span><br><span class="line">  <span class="comment">// 立即执行函数也成为小闭包因为立即执行函数里面的任何一个函数都可以使用它的i这变量</span></span><br><span class="line">  (<span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">      lis[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(i);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;)(i);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li><li>闭包应用3秒钟之后,打印所有li元素的内容<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.length; i++) &#123;</span><br><span class="line">  (<span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">      setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(lis[i].innerHTML);</span><br><span class="line">      &#125;, <span class="number">3000</span>)</span><br><span class="line">  &#125;)(i);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li></ol><h1 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h1><h2 id="什么是递归"><a href="#什么是递归" class="headerlink" title="什么是递归"></a>什么是递归</h2><p> 如果一个函数在内部可以调用其本身，那么这个函数就是递归函数。简单理解:函数内部自己调用自己, 这个函数就是递归函数</p><blockquote><p>递归函数的作用和循环效果一样，由于递归很容易发生“栈溢出”错误（stack overflow），所以必须要加退出条件return。</p></blockquote><h2 id="利用递归求1-n的阶乘"><a href="#利用递归求1-n的阶乘" class="headerlink" title="利用递归求1~n的阶乘"></a>利用递归求1~n的阶乘</h2> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//利用递归函数求1~n的阶乘 1 * 2 * 3 * 4 * ..n</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>) &#123; <span class="comment">//结束条件</span></span><br><span class="line">      <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n * fn(n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(fn(<span class="number">3</span>));</span><br></pre></td></tr></table></figure><h2 id="利用递归遍历数据"><a href="#利用递归遍历数据" class="headerlink" title="利用递归遍历数据"></a>利用递归遍历数据</h2> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 我们想要做输入id号,就可以返回的数据对象</span></span><br><span class="line"><span class="keyword">var</span> data = [&#123;</span><br><span class="line">    id: <span class="number">1</span>,</span><br><span class="line">    name: <span class="string">'家电'</span>,</span><br><span class="line">    goods: [&#123;</span><br><span class="line">        id: <span class="number">11</span>,</span><br><span class="line">        gname: <span class="string">'冰箱'</span>,</span><br><span class="line">        goods: [&#123;</span><br><span class="line">            id: <span class="number">111</span>,</span><br><span class="line">            gname: <span class="string">'海尔'</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            id: <span class="number">112</span>,</span><br><span class="line">            gname: <span class="string">'美的'</span></span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        id: <span class="number">12</span>,</span><br><span class="line">        gname: <span class="string">'洗衣机'</span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    id: <span class="number">2</span>,</span><br><span class="line">    name: <span class="string">'服饰'</span></span><br><span class="line">&#125;];</span><br><span class="line"><span class="comment">//1.利用 forEach 去遍历里面的每一个对象</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getID</span>(<span class="params">json, id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> o = &#123;&#125;;</span><br><span class="line">    json.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// console.log(item); // 2个数组元素</span></span><br><span class="line">        <span class="keyword">if</span> (item.id == id) &#123;</span><br><span class="line">            <span class="comment">// console.log(item);</span></span><br><span class="line">            o = item;</span><br><span class="line">            <span class="comment">// 2. 我们想要得里层的数据 11 12 可以利用递归函数</span></span><br><span class="line">            <span class="comment">// 里面应该有goods这个数组并且数组的长度不为 0 </span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (item.goods &amp;&amp; item.goods.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            o = getID(item.goods, id);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h1><p> <a href="https://wormnimaya.github.io/Promise/">promise和async/await</a></p><h1 id="Web-API"><a href="#Web-API" class="headerlink" title="Web API"></a>Web API</h1><h2 id="获取元素"><a href="#获取元素" class="headerlink" title="获取元素"></a>获取元素</h2><h3 id="根据ID获取"><a href="#根据ID获取" class="headerlink" title="根据ID获取"></a>根据ID获取</h3><p> 语法：<code>document.getElementById(&#39;id&#39;)</code>，作用：<code>根据ID获取元素对象</code>，参数：<code>id值</code>，<code>区分大小写的字符串</code>，返回值：<code>元素对象</code> 或 <code>null</code><br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;li id=<span class="string">"li"</span>&gt;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script&gt;</span></span><br><span class="line"><span class="regexp">        let li = document.getElementById('li')</span></span><br><span class="line"><span class="regexp">        console.log(li)</span></span><br><span class="line"><span class="regexp">    &lt;/</span>script&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="根据标签名获取元素"><a href="#根据标签名获取元素" class="headerlink" title="根据标签名获取元素"></a>根据标签名获取元素</h3><p> 语法：<code>document.getElementsByTagName(&#39;标签名&#39;)</code> 或者 <code>element.getElementsByTagName(&#39;标签名&#39;)</code>，作用：<code>根据标签名获取元素对象</code>，参数：<code>标签名</code>，返回值：<code>元素对象集合（伪数组，数组元素是元素对象）</code><br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">    &lt;li&gt;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">    &lt;li&gt;&lt;/</span>li&gt;</span><br><span class="line">    &lt;li&gt;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">    &lt;li&gt;&lt;/</span>li&gt;</span><br><span class="line">    &lt;li&gt;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">&lt;/u</span>l&gt;</span><br><span class="line"> &lt;ul id=<span class="string">"nav"</span>&gt;</span><br><span class="line">    &lt;li&gt;生僻字&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">    &lt;li&gt;生僻字&lt;/</span>li&gt;</span><br><span class="line">    &lt;li&gt;生僻字&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">    &lt;li&gt;生僻字&lt;/</span>li&gt;</span><br><span class="line">    &lt;li&gt;生僻字&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">&lt;/u</span>l&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// 返回的是 获取过来元素对象的集合 以伪数组的形式存储的，可遍历</span></span><br><span class="line">    <span class="keyword">var</span> lis = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'li'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(lis)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// element.getElementsByTagName()  可以得到这个元素里面的某些标签</span></span><br><span class="line">    <span class="keyword">var</span> nav = <span class="built_in">document</span>.getElementById(<span class="string">'nav'</span>)</span><br><span class="line">    <span class="keyword">var</span> lis1 = nav.getElementsByTagName(<span class="string">'li'</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(lis1)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="类名"><a href="#类名" class="headerlink" title="类名"></a>类名</h3><p> <code>document.getElementsByClassName(&#39;类名&#39;)</code>，根据类名返回对象的合集<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">   &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"nav"</span>&gt;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">   &lt;li class="nav"&gt;&lt;/</span>li&gt;</span><br><span class="line">   &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"nav"</span>&gt;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">   &lt;li class="nav"&gt;&lt;/</span>li&gt;</span><br><span class="line">   &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"nav"</span>&gt;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">&lt;/u</span>l&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">   <span class="comment">// 根据类名返回对象的合集</span></span><br><span class="line">   <span class="keyword">let</span> lis = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'.nav'</span>)</span><br><span class="line">   <span class="built_in">console</span>.log(lis)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="选择器返回第一个对象"><a href="#选择器返回第一个对象" class="headerlink" title="选择器返回第一个对象"></a>选择器返回第一个对象</h3><p> <code>document.querySelector(&#39;选择器&#39;)</code>，根据指定选择器返回第一个对象<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">   &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"nav"</span>&gt;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">   &lt;li class="nav"&gt;&lt;/</span>li&gt;</span><br><span class="line">   &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"nav"</span>&gt;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">   &lt;li class="nav"&gt;&lt;/</span>li&gt;</span><br><span class="line">   &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"nav"</span>&gt;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">&lt;/u</span>l&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">let</span> li = <span class="built_in">document</span>.querySelector(<span class="string">'.nav'</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(li) </span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="根据指定选择器返回对象合集"><a href="#根据指定选择器返回对象合集" class="headerlink" title="根据指定选择器返回对象合集"></a>根据指定选择器返回对象合集</h3><p>  <code>document.getElementsByClassName(&#39;选择器&#39;)</code>，根据指定选择器返回对象合集<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"nav"</span>&gt;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">      &lt;li class="nav"&gt;&lt;/</span>li&gt;</span><br><span class="line">      &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"nav"</span>&gt;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">      &lt;li class="nav"&gt;&lt;/</span>li&gt;</span><br><span class="line">      &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"nav"</span>&gt;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/u</span>l&gt;</span><br><span class="line">   &lt;script&gt;</span><br><span class="line">       <span class="keyword">let</span> lis = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.nav'</span>)</span><br><span class="line">       <span class="built_in">console</span>.log(li)  <span class="comment">// 由类名组成的伪数组 NodeList(5) [li.nav, li.nav, li.nav, li.nav, li.nav]</span></span><br><span class="line">       <span class="built_in">console</span>.log(lis[<span class="number">0</span>]) <span class="comment">// dom对象 &lt;li class="nav"&gt;&lt;/li&gt;</span></span><br><span class="line">   &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure></p><h3 id="获取body"><a href="#获取body" class="headerlink" title="获取body"></a>获取body</h3><p> 获得<code>body</code>元素<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> body = <span class="built_in">document</span>.body</span><br><span class="line"><span class="built_in">console</span>.log(body) <span class="comment">// body元素</span></span><br></pre></td></tr></table></figure></p><h3 id="获取html"><a href="#获取html" class="headerlink" title="获取html"></a>获取html</h3><p> 获得<code>html</code>元素<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> html = <span class="built_in">document</span>.documentElement</span><br><span class="line"><span class="built_in">console</span>.log(html) <span class="comment">// html 元素</span></span><br></pre></td></tr></table></figure></p><h2 id="常见的鼠标事件"><a href="#常见的鼠标事件" class="headerlink" title="常见的鼠标事件"></a>常见的鼠标事件</h2><p> <img src="../image/java33.png" alt=""></p><h2 id="操作元素"><a href="#操作元素" class="headerlink" title="操作元素"></a>操作元素</h2><h3 id="改变元素内容"><a href="#改变元素内容" class="headerlink" title="改变元素内容"></a>改变元素内容</h3><ol><li>element.innerText<br>从起始位置到终止位置的内容，但它去除标签，同时空格和换行也会去掉</li><li>element.innerHTML<br>起始位置到终止位置的全部内容，包括标签，同时保留空格和换行<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 1. innerHTML识别标签，innerText不识别</span></span><br><span class="line">    <span class="keyword">let</span> div1 = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'div1'</span>)[<span class="number">0</span>]</span><br><span class="line">    div1.innerHTML= <span class="string">`&lt;strong&gt;我是div1&lt;/strong&gt;`</span></span><br><span class="line">    <span class="keyword">let</span> div2 = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'div2'</span>)[<span class="number">0</span>]</span><br><span class="line">    div2.innerText = <span class="string">`&lt;strong&gt;我是div2&lt;/strong&gt;`</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// 2. innerText会去除空格和换行，而innerHTML会保留空格和换行</span></span><br><span class="line">    <span class="keyword">let</span> p = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'p'</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="built_in">console</span>.log(p.innerHTML)</span><br><span class="line">    <span class="built_in">console</span>.log(p.innerText)</span><br></pre></td></tr></table></figure></li><li>innerText和innerHTML的区别<ul><li><code>innerText</code>会去除空格和换行，而<code>innerHTML</code>会保留空格和换行    </li><li><code>innerText</code>不会识别标签，而<code>innerHTML</code>会识别</li></ul></li></ol><h3 id="常用元素的属性操作"><a href="#常用元素的属性操作" class="headerlink" title="常用元素的属性操作"></a>常用元素的属性操作</h3><p> <img src="../image/java34.png" alt=""></p><ol><li><strong>获取属性的值</strong><br><code>元素对象.属性名</code></li><li><strong>设置属性的值</strong><br><code>元素对象.属性名 = 值</code></li></ol><h3 id="表单元素的属性操作"><a href="#表单元素的属性操作" class="headerlink" title="表单元素的属性操作"></a>表单元素的属性操作</h3><p> <img src="../image/java35.png" alt=""></p><ol><li><strong>获取属性的值</strong><br><code>元素对象.属性名</code></li><li><strong>设置属性的值</strong><br><code>元素对象.属性名 = 值</code>，表单元素中有一些属性如：<code>disabled</code>、<code>checked</code>、<code>selected</code>，元素对象的这些属性的值是<code>布尔型</code>。<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">value</span>=<span class="string">"输入内容"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 1. 获取元素</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> input = <span class="built_in">document</span>.querySelector(<span class="string">'input'</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 2. 注册事件 处理程序</span></span></span><br><span class="line"><span class="actionscript">        btn.onclick = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 表单里面的值 文字内容是通过 value 来修改的</span></span></span><br><span class="line"><span class="actionscript">            input.value = <span class="string">'被点击了'</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 如果想要某个表单被禁用 不能再点击 disabled  我们想要这个按钮 button禁用</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">// btn.disabled = true;</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.disabled = <span class="literal">true</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// this 指向的是事件函数的调用者 btn</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="自定义属性操作"><a href="#自定义属性操作" class="headerlink" title="自定义属性操作"></a>自定义属性操作</h3><p> 自定义属性目的：是为了保存并使用数据。有些数据可以保存到页面中而不用保存到数据库中。</p><h4 id="获取属性值"><a href="#获取属性值" class="headerlink" title="获取属性值"></a>获取属性值</h4><p> <code>element.属性名</code> 获取性值, 不能获取自定属性，只能获得元素自带的元素<br> <code>element.getAttribute（&#39;属性名&#39;)</code>, 能获取自定属性，也能获得元素自带的元素<br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"demo"</span> <span class="attr">index</span>=<span class="string">"1"</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> div = <span class="built_in">document</span>.querySelector(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 1. 获取元素的属性值</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// (1) element.属性</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(div.id);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// console.log(div.index) 不能获取自定属性，只能获得元素自带的元素</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">//(2) element.getAttribute('属性') ，能获取自定属性，也能获得元素自带的元素</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(div.getAttribute(<span class="string">'id'</span>));</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(div.getAttribute(<span class="string">'index'</span>));</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="设置属性值"><a href="#设置属性值" class="headerlink" title="设置属性值"></a>设置属性值</h4><p> <code>element.属性=&#39;值设置内置属性值&#39;</code>，设置元素原有属性的值，不能设置自定义属性的值<br> <code>element.setAttribute(&quot;属性&#39;,&quot;值）</code>，不但能设置自定义属性的值(主要设置自定义属性的值)，也能设置元素原有属性的值<br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">     <span class="keyword">let</span> div = <span class="built_in">document</span>.querySelector(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="actionscript">     <span class="comment">// div.setAttribute('id', 'test1')</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">     // console.log(div.outerHTML) <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">     <span class="comment">// div.setAttribute('index', '1')</span></span></span><br><span class="line"><span class="actionscript">     <span class="comment">// console.log(div.outerHTML)  div id="test" index="1"&gt;&lt;/div&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">     <span class="comment">// div.id = 'test2'</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">     // console.log(div.outerHTML)  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">     <span class="comment">// div.index = '1'</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">     // console.log(div.outerHTML) <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><blockquote><p>总结：<code>element.属性</code>可以修改和添加元素原本有的属性，<code>element.setAttribute(&quot;属性&#39;,&quot;值）</code>可以不但能修改和添加自定义的元素（主要修改添加自定义属性），也可以添加修改元素本身得元素</p></blockquote><h4 id="移出属性"><a href="#移出属性" class="headerlink" title="移出属性"></a>移出属性</h4><ul><li>element.removeAttribute(‘属性’)<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> div = <span class="built_in">document</span>.querySelector(<span class="string">'div'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    div.setAttribute(<span class="string">'index'</span>, <span class="string">'1'</span>)</span></span><br><span class="line"><span class="actionscript">    div.removeAttribute(<span class="string">'index'</span>)</span></span><br><span class="line"><span class="handlebars"><span class="xml">    console.log(div.outerHTML) // <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> 设置自定义属性后有删除了自定义属性</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line">`</span><br></pre></td></tr></table></figure></li></ul><h4 id="H5自定义属性"><a href="#H5自定义属性" class="headerlink" title="H5自定义属性"></a>H5自定义属性</h4><p> 有些自定义属性很容易引起歧义，不容易判断是元素的内置属性还是自定义属性，H5给我们新增了自定义属性</p><ol><li>设置h5自定义属性<br><code>H5</code>规定自定义属性<code>data-</code>开头做为属性名并且赋值， 例如<code>&lt;div data-index=&#39;1&#39;&gt;&lt;/div&gt;</code>或者使用<code>JS</code>设置<code>element.setAttribute(&#39;data-index&#39;,2)</code></li><li>获取H5自定义属性<ul><li>兼容性获取<code>element.getAttribute(&#39;data-index&#39;)</code></li><li>H5新增<code>element.dataset.index</code>或者<code>elememt.dataset[&#39;index]</code> ie11以上版本 才可以支持</li></ul></li></ol><h3 id="样式属性操作"><a href="#样式属性操作" class="headerlink" title="样式属性操作"></a>样式属性操作</h3><p> 我们可以通过 <code>JS</code> 修改元素的<code>大小</code>、<code>颜色</code>、<code>位置</code>等样式。</p><ol><li><p><strong>通过操作style属性</strong><br>元素对象的<code>style</code>属性也是一个对象，<code>元素对象.style.样式属性 = 值</code>;</p><blockquote><p><strong>注意</strong></p><ul><li><code>JS</code>里面的样式采取驼峰命名法比如 <code>fontsize</code>、 <code>backgroundcolor</code></li><li><code>JS</code>修改<code>style</code>样式操作，产生的是行内样式，<code>CSS</code>权重比较高</li></ul></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>出现<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 1. 获取元素</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> button = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">'div'</span>)</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 2. 注册事件 处理程序</span></span></span><br><span class="line"><span class="actionscript">        button.onclick = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// div.style里面的属性 采取驼峰命名法</span></span></span><br><span class="line"><span class="actionscript">            div.style.backgroundColor = <span class="string">'purple'</span>;</span></span><br><span class="line"><span class="actionscript">            div.style.width = <span class="string">'250px'</span>;</span></span><br><span class="line"><span class="actionscript">            div.style.height = <span class="string">'100px'</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>通过操作className属性</strong><br><code>元素对象.className = 值</code>，为元素添加类，来改变样式，因为<code>class</code>是关键字，所有使用<code>className</code>。</p><blockquote><p><strong>注意</strong></p><ul><li>如果样式修改较多，可以采取操作类名方式更改元素样式。</li><li><code>class</code>因为是个保留字，因此使用<code>className</code>来操作元素类名属性</li><li><code>className</code>会直接更改元素的类名，会覆盖原先的类名。</li></ul></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.box1</span> &#123;</span></span><br><span class="line">                width: 100px;</span><br><span class="line">                height: 100px;</span><br><span class="line">                border: 1px solid;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.box2</span> &#123;</span></span><br><span class="line">                background: red;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">'div'</span>)</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 我们可以通过 修改元素的className更改元素的样式 适合于样式较多或者功能复杂的情况</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 如果想要保留原先的类名，我们可以这么做 多类名选择器</span></span></span><br><span class="line"><span class="actionscript">        div.className = <span class="string">'box1 box2'</span></span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>利用classList的api操作属性</strong><br>虽然 <code>element.classList</code> 本身是只读的，但是你可以使用 <code>add()</code> 和 <code>remove()</code> 方法修改元素。</p><ol><li><code>div.classList.add(&quot;&quot;);</code></li><li><code>div.classList.remove(&quot;&quot;);</code></li><li><code>div.classList.toggle(&quot;&quot;);</code></li><li><code>div.classList.replace(&quot;&quot;, &quot;&quot;)</code><blockquote><p>add添加不会覆盖之前的类名</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> div = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">div.className = <span class="string">'foo'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始状态：&lt;div class="foo"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="built_in">console</span>.log(div.outerHTML);</span><br><span class="line"><span class="comment">// 除了包含 innerHTML的全部内容外，还包含对象标签本身</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 classList API 移除、添加类值</span></span><br><span class="line">div.classList.remove(<span class="string">"foo"</span>);</span><br><span class="line">div.classList.add(<span class="string">"anotherclass"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;div class="anotherclass"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="built_in">console</span>.log(div.outerHTML);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果 visible 类值已存在，则移除它，否则添加它</span></span><br><span class="line">div.classList.toggle(<span class="string">"visible"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加或移除多个类值</span></span><br><span class="line">div.classList.add(<span class="string">"foo"</span>, <span class="string">"bar"</span>, <span class="string">"baz"</span>);</span><br><span class="line">div.classList.remove(<span class="string">"foo"</span>, <span class="string">"bar"</span>, <span class="string">"baz"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用展开语法添加或移除多个类值</span></span><br><span class="line"><span class="keyword">const</span> cls = [<span class="string">"foo"</span>, <span class="string">"bar"</span>];</span><br><span class="line">div.classList.add(...cls); </span><br><span class="line">div.classList.remove(...cls);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将类值 "foo" 替换成 "bar"</span></span><br><span class="line">div.classList.replace(<span class="string">"foo"</span>, <span class="string">"bar"</span>);</span><br></pre></td></tr></table></figure></li></ol></li></ol><h3 id="节点操作"><a href="#节点操作" class="headerlink" title="节点操作"></a>节点操作</h3><h4 id="节点概述"><a href="#节点概述" class="headerlink" title="节点概述"></a>节点概述</h4><p> 网页中的所有内容都是节点（标签、属性、文本、注释等），在 <code>DOM</code> 中，节点翻译为英文为<code>node</code>。<br> <code>HTML DOM</code> 树中的所有节点均可通过 <code>JavaScript</code> 进行访问，所有 <code>HTML</code> 元素（节点）均可被修改，也可以创建或删除。</p><h4 id="父级节点"><a href="#父级节点" class="headerlink" title="父级节点"></a>父级节点</h4><ul><li><code>node.parentNode</code>属性可返回某节点的父节点，注意是最近的一个父节点</li><li>如果指定的节点没有父节点则返回<code>null</code><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>我是span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> span = <span class="built_in">document</span>.querySelector(<span class="string">'span'</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(span.parentNode) <span class="comment">// 输出span的父元素p</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="子节点"><a href="#子节点" class="headerlink" title="子节点"></a>子节点</h4><ol><li>所有子节点<br><code>parentNode.childNodes（标准）</code>返回包含指定节点的子节点的集合，该集合为即时更新的集合<blockquote><p>注意：返回值里面包含了所有的子节点，包括元素节点，文本节点等。<br>如果只想要获得里面的元素节点，则需要专门处理。所以我们一般不提倡使用 <code>childNodes</code></p></blockquote></li><li>子元素节点<br><code>parentNode.children（非标准）</code>是一个只读属性，返回所有的子元素节点。它只返回子元素节点，其余节点不返回（这个是我们重点掌握的）。虽然 <code>children</code>是一个非标准，但是得到了各个浏览器的支持，因此我们可以放心使用<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// DOM 提供的方法（API）获取</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> ul = <span class="built_in">document</span>.querySelector(<span class="string">'ul'</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> lis = ul.querySelectorAll(<span class="string">'li'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 1. 子节点  childNodes 所有的子节点 包含 元素节点 文本节点等等</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(ul.childNodes); <span class="comment">// NodeList(9) [text, li, text, li, text, li, text, li, text]</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(ul.childNodes[<span class="number">1</span>]); <span class="comment">// &lt;li&gt;我是li&lt;/li&gt;</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 2. children 获取所有的子元素节点 也是我们实际开发常用的</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(ul.children); <span class="comment">// HTMLCollection(4) [li, li, li, li]</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>第1个子节点<br><code>parentNode.firstChild</code>返回第一个子节点，找不到则返回<code>null</code>。同样，也是包含所有的节点</li><li>第1个子元素节点<br><code>parentNode.firstElementChild</code>返回第一个子元素节点，找不到则返回<code>null</code><blockquote><p>注意：这个方法有兼容性题，IE9以上オ支持。</p></blockquote></li><li>最后1个子节点<br><code>parentNode.lastChild</code>返回最后一个子节点，找不到则返回<code>null</code>。同样，也是包含所有的节点</li><li>最后1个子元素节点<br><code>parentNode.lastElementChild</code>返回最后一个子元素节点，找不到则返回<code>null</code><blockquote><p>注意：这个方法有兼容性题，IE9以上オ支持。</p></blockquote><ul><li>实际开发中，<code>firstChild</code> 和 <code>lastChild</code> 包含其他节点，操作不方便，而 <code>firstElementChild</code> 和 <code>lastElementChild</code> 又有兼容性问题，那么我们如何获取第一个子元素节点或最后一个子元素节点呢？</li><li>解决方案<br>如果想要第一个子元素节点，可以使用 <code>parentNode.children[0]</code><br>如果想要最后一个子元素节点，可以使用 <code>parentNode.children[ parentNode.children.length-1]</code><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是li1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是li2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是li3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是li4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是li5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> ol = <span class="built_in">document</span>.querySelector(<span class="string">'ol'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 1. firstChild 第一个子节点 不管是文本节点还是元素节点</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(ol.firstChild);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(ol.lastChild);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 2. firstElementChild 返回第一个子元素节点 ie9才支持</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(ol.firstElementChild);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(ol.lastElementChild);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 3. 实际开发的写法  既没有兼容性问题又返回第一个子元素</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(ol.children[<span class="number">0</span>]);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(ol.children[ol.children.length - <span class="number">1</span>]);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li></ol><h4 id="兄弟节点"><a href="#兄弟节点" class="headerlink" title="兄弟节点"></a>兄弟节点</h4><ol><li>下一个兄弟节点<br><code>node.nextSibling</code>返回当前元素的下一个兄弟节点，找不到则返回<code>null</code>.</li><li>下一个兄弟元素节点（有兼容性问题）<br><code>node.nextElementSibling</code>返回当前元素下一个兄弟元素节点，找不到则返<code>null</code></li><li>上一个兄弟节点<br><code>node.previousSibling</code>返回当前元素上ー个兄弟点，找不到则返回<code>null</code>.</li><li>上一个兄弟元素节点（有兼容性问题）<br><code>node.previousElementSibling</code>返回当前元素上一个兄弟节点，找不到则返回<code>null</code><blockquote><p>注意：nextElementSibling和 previousElementSibling有兼容性问題，IE9以上才支持。</p></blockquote></li><li>解决兼容性问题<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getNextElementSibling</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> el = element;</span><br><span class="line">   <span class="keyword">while</span> (el = el.nextSibling) &#123;</span><br><span class="line">     <span class="keyword">if</span> (el.nodeType === <span class="number">1</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> el;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>我是p<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>我是div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>我是span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> div = <span class="built_in">document</span>.querySelector(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 1.nextSibling 下一个兄弟节点 包含元素节点或者 文本节点等等</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(div.nextSibling);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(div.nextSibling);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 2. nextElementSibling 得到下一个兄弟元素节点</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(div.nextElementSibling);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(div.previousElementSibling);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>nextSibling 和 nextSibling 包含元素节点或者 文本节点等等，换行算文本节点</p></blockquote></li></ol><h4 id="创建节点"><a href="#创建节点" class="headerlink" title="创建节点"></a>创建节点</h4><p> <code>document.createElement(&#39;tagname&quot;)</code>方法创建由 <code>tagname</code>指定的<code>HTML</code>元素。因为这些元素原先不存在,<br> 是根据我们的需求动态生成的，所以我们也称为<code>动态创建元素节点</code>。<br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>123<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 1. 创建节点元素节点</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> li = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 2. 添加节点 node.appendChild(child)  node 父级  child 是子级 后面追加元素</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> ul = <span class="built_in">document</span>.querySelector(<span class="string">'ul'</span>);</span></span><br><span class="line">    ul.appendChild(li);</span><br><span class="line"><span class="actionscript">    <span class="comment">// 3. 添加节点 node.insertBefore(child, 指定元素);</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> lili = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span></span><br><span class="line">    ul.insertBefore(lili, ul.children[0]);</span><br><span class="line"><span class="actionscript">    <span class="comment">// 4. 我们想要页面添加一个新的元素 ： 1. 创建元素 2. 添加元素</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="添加节点"><a href="#添加节点" class="headerlink" title="添加节点"></a>添加节点</h4><ol><li><code>node.appendChild(child)</code>方法将一个节点添加到指定父节点的子节点列表未尾。类似于<code>css</code>里面的<br><code>after伪元素</code>。</li><li><code>node.insertbefore(child)</code>，指定元素方法将一个节点添加到父节点的指定子节点前面。类似于<code>css</code>里面的 <code>before</code>伪元素`。<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>123<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 1. 创建节点元素节点</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> li = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 2. 添加节点 node.appendChild(child)  node 父级  child 是子级 后面追加元素</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> ul = <span class="built_in">document</span>.querySelector(<span class="string">'ul'</span>);</span></span><br><span class="line">    ul.appendChild(li);</span><br><span class="line"><span class="actionscript">    <span class="comment">// 3. 添加节点 node.insertBefore(child, 指定元素);</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> lili = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span></span><br><span class="line">    ul.insertBefore(lili, ul.children[0]);</span><br><span class="line"><span class="actionscript">    <span class="comment">// 4. 我们想要页面添加一个新的元素 ： 1. 创建元素 2. 添加元素</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="删除节点"><a href="#删除节点" class="headerlink" title="删除节点"></a>删除节点</h4><p> <code>node.removeChild(child)</code>方法从 node节点中删除一个子节点，返回删除的节点。<br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>熊大<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>熊二<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>光头强<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 1.获取元素</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> ul = <span class="built_in">document</span>.querySelector(<span class="string">'ul'</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 2. 删除元素  node.removeChild(child)</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// ul.removeChild(ul.children[0]);</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 3. 点击按钮依次删除里面的孩子</span></span></span><br><span class="line"><span class="actionscript">    btn.onclick = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line">        if (ul.children.length == 0) &#123;</span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.disabled = <span class="literal">true</span>;</span></span><br><span class="line"><span class="actionscript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line">            ul.removeChild(ul.children[0]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="复制（克隆）节点"><a href="#复制（克隆）节点" class="headerlink" title="复制（克隆）节点"></a>复制（克隆）节点</h4><p> <code>node.cloneNode()</code>方法返回调用该方法的节点的一个副本。也称为克隆节点/拷贝节点</p><blockquote><p><strong>注意：</strong><br>1.如果括号参数为空或者为false，则是浅拷贝，即只克隆复制节点本身，不克隆里面的子节点。<br>2.如果括号参数为true，则是深度拷贝，会复制节点本身以及里面所有的子节点。</p></blockquote> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>1111<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> ul = <span class="built_in">document</span>.querySelector(<span class="string">'ul'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 1. node.cloneNode(); 括号为空或者里面是false 浅拷贝 只复制标签不复制里面的内容</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 2. node.cloneNode(true); 括号为true 深拷贝 复制标签复制里面的内容</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> lili = ul.children[<span class="number">0</span>].cloneNode(<span class="literal">true</span>);</span></span><br><span class="line">    ul.appendChild(lili);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="事件高级"><a href="#事件高级" class="headerlink" title="事件高级"></a>事件高级</h2><h3 id="注册事件"><a href="#注册事件" class="headerlink" title="注册事件"></a>注册事件</h3><p> <img src="../image/java36.png" alt=""></p><h3 id="事件监听"><a href="#事件监听" class="headerlink" title="事件监听"></a>事件监听</h3><ol><li>addEventListener() 事件监听（IE9以后支持）<br><img src="../image/java37.png" alt=""><br><code>eventTarget.addEventListener()</code>方法将指定的监听器注册到 <code>eventTarget</code>（目标对象）上，当该对象触发指定的事件时，就会执行事件处理函数。<br><img src="../image/java38.png" alt=""></li><li>attacheEvent()事件监听（IE678支持）<br><img src="../image/java39.png" alt=""><br><code>eventTarget.attachEvent()</code>方法将指定的监听器注册到 <code>eventTarget</code>（目标对象） 上，当该对象触发指定的事件时，指定的回调函数就会被执行。<br><img src="../image/java40.png" alt=""><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>传统注册事件<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>方法监听注册事件<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>ie9 attachEvent<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> btns = <span class="built_in">document</span>.querySelectorAll(<span class="string">'button'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 1. 传统方式注册事件</span></span></span><br><span class="line"><span class="actionscript">    btns[<span class="number">0</span>].onclick = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        alert(<span class="string">'hi'</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    btns[<span class="number">0</span>].onclick = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        alert(<span class="string">'hao a u'</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    <span class="comment">// 2. 事件侦听注册事件 addEventListener</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// (1) 里面的事件类型是字符串 必定加引号 而且不带on</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// (2) 同一个元素 同一个事件可以添加多个侦听器（事件处理程序）</span></span></span><br><span class="line"><span class="actionscript">    btns[<span class="number">1</span>].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line">        alert(22);</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="actionscript">    btns[<span class="number">1</span>].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line">        alert(33);</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="actionscript">    <span class="comment">// 3. attachEvent ie9以前的版本支持</span></span></span><br><span class="line"><span class="actionscript">    btns[<span class="number">2</span>].attachEvent(<span class="string">'onclick'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line">        alert(11);</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>事件监听兼容性解决方案<br>封装一个函数，函数中判断浏览器的类型：<br><img src="../image/java41.png" alt=""></li></ol><h3 id="删除事件（解绑事件）"><a href="#删除事件（解绑事件）" class="headerlink" title="删除事件（解绑事件）"></a>删除事件（解绑事件）</h3><p> <img src="../image/java42.png" alt=""><br>    <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> divs = <span class="built_in">document</span>.querySelectorAll(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="actionscript">    divs[<span class="number">0</span>].onclick = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line">        alert(11);</span><br><span class="line"><span class="actionscript">        <span class="comment">// 1. 传统方式删除事件</span></span></span><br><span class="line"><span class="actionscript">        divs[<span class="number">0</span>].onclick = <span class="literal">null</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    <span class="comment">// 2. removeEventListener 删除事件</span></span></span><br><span class="line"><span class="actionscript">    divs[<span class="number">1</span>].addEventListener(<span class="string">'click'</span>, fn) <span class="comment">// 里面的fn 不需要调用加小括号</span></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line">        alert(22);</span><br><span class="line"><span class="actionscript">        divs[<span class="number">1</span>].removeEventListener(<span class="string">'click'</span>, fn);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    <span class="comment">// 3. detachEvent</span></span></span><br><span class="line"><span class="actionscript">    divs[<span class="number">2</span>].attachEvent(<span class="string">'onclick'</span>, fn1);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">fn1</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line">        alert(33);</span><br><span class="line"><span class="actionscript">        divs[<span class="number">2</span>].detachEvent(<span class="string">'onclick'</span>, fn1);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><br> <strong>删除事件兼容性解决方案</strong><br>  <img src="../image/java43.png" alt=""></p><h3 id="DOM事件流"><a href="#DOM事件流" class="headerlink" title="DOM事件流"></a>DOM事件流</h3><p> 当时的2大浏览器霸主谁也不服谁,IE 提出从目标元素开始，然后一层一层向外接收事件并响应，也就是冒泡型事件流。Netscape（网景公司）提出从最外层开始，然后一层一层向内接收事件并响应，也就是捕获型事件流。最终，w3c 采用折中的方式，平息了战火，制定了统一的标准 —–— 先捕获再冒泡。现代浏览器都遵循了此标准，所以当事件发生时，会经历3个阶段。</p><p> <strong>DOM 事件流会经历3个阶段:</strong></p><ul><li>捕获阶段</li><li>当前目标阶段</li><li>冒泡阶段<br><img src="../image/java44.png" alt=""><br><img src="../image/java45.png" alt=""></li></ul><p> <strong>事件冒泡</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"father"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"son"</span>&gt;</span>son盒子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// onclick 和 attachEvent（ie） 在冒泡阶段触发</span></span></span><br><span class="line"><span class="actionscript">      <span class="comment">// 冒泡阶段 如果addEventListener 第三个参数是 false 或者 省略 </span></span></span><br><span class="line"><span class="actionscript">      <span class="comment">// son -&gt; father -&gt;body -&gt; html -&gt; document</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> son = <span class="built_in">document</span>.querySelector(<span class="string">'.son'</span>);</span></span><br><span class="line"><span class="actionscript"><span class="comment">// 给son注册单击事件</span></span></span><br><span class="line"><span class="actionscript">      son.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">          alert(<span class="string">'son'</span>);</span></span><br><span class="line"><span class="actionscript">      &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="actionscript"><span class="comment">// 给father注册单击事件</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> father = <span class="built_in">document</span>.querySelector(<span class="string">'.father'</span>);</span></span><br><span class="line"><span class="actionscript">      father.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">          alert(<span class="string">'father'</span>);</span></span><br><span class="line"><span class="actionscript">      &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="actionscript"><span class="comment">// 给document注册单击事件，省略第3个参数</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">          alert(<span class="string">'document'</span>);</span></span><br><span class="line">      &#125;)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p> <strong>事件捕获</strong><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"father"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"son"</span>&gt;</span>son盒子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// 如果addEventListener() 第三个参数是 true 那么在捕获阶段触发</span></span></span><br><span class="line"><span class="actionscript">      <span class="comment">// document -&gt; html -&gt; body -&gt; father -&gt; son</span></span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> son = <span class="built_in">document</span>.querySelector(<span class="string">'.son'</span>);</span></span><br><span class="line"><span class="actionscript"><span class="comment">// 给son注册单击事件，第3个参数为true</span></span></span><br><span class="line"><span class="actionscript">       son.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">           alert(<span class="string">'son'</span>);</span></span><br><span class="line"><span class="actionscript">       &#125;, <span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> father = <span class="built_in">document</span>.querySelector(<span class="string">'.father'</span>);</span></span><br><span class="line"><span class="actionscript"><span class="comment">// 给father注册单击事件，第3个参数为true</span></span></span><br><span class="line"><span class="actionscript">       father.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">           alert(<span class="string">'father'</span>);</span></span><br><span class="line"><span class="actionscript">       &#125;, <span class="literal">true</span>);</span></span><br><span class="line"><span class="actionscript"><span class="comment">// 给document注册单击事件，第3个参数为true</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">          alert(<span class="string">'document'</span>);</span></span><br><span class="line"><span class="actionscript">      &#125;, <span class="literal">true</span>)</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h3><ol><li>什么是事件对象<br>事件发生后，跟事件相关的一系列信息数据的集合都放到这个对象里面，这个对象就是事件对象。<br><strong>比如：</strong><ul><li>谁绑定了这个事件。</li><li>鼠标触发事件的话，会得到鼠标的相关信息，如鼠标位置。</li><li>键盘触发事件的话，会得到键盘的相关信息，如按了哪个键。</li></ul></li><li>事件对象的使用<br>事件触发发生时就会产生事件对象，并且系统会以实参的形式传给事件处理函数。所以，在事件处理函数中声明1个形参用来接收事件对象。<br><img src="../image/java46.png" alt=""></li><li>事件对象的兼容性处理<br><strong>事件对象本身的获取存在兼容问题：</strong><ul><li>标准浏览器中是浏览器给方法传递的参数，只需要定义形参 e 就可以获取到。</li><li>在 IE6~8 中，浏览器不会给方法传递参数，如果需要的话，需要到 window.event 中获取查找。</li></ul><strong>解决问题</strong><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>123<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="actionscript">    div.onclick = <span class="function"><span class="keyword">function</span><span class="params">(e)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 事件对象</span></span></span><br><span class="line"><span class="javascript">            e = e || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(e);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>所有事件对象的公共属性和方法, 高版本的浏览器不但有<code>window.event</code>,也有<code>兼容低版本浏览器的对象的属性和方法</code><br><img src="../image/java47.png" alt=""></li><li>e.target 和 this 的区别<br>常情况下target 和 this是一致的，但有一种情况不同，那就是在事件冒泡时（父子元素有相同事件，单击子元素，父元素的事件处理函数也会被触发执行），这时候this指向的是父元素，因为它是绑定事件的元素对象，而target指向的是子元素，因为他是触发事件的那个具体元素对象。<ul><li><code>this</code> 是事件绑定的元素（绑定这个事件处理函数的元素）</li><li><code>e.target</code> 是事件触发的元素</li></ul><strong>target 和 this是一致</strong><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>123<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="actionscript">    div.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">(e)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// e.target 和 this指向的都是div</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(e.target);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span></span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><strong>事件冒泡下的e.target和this不一致</strong><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>abc<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>abc<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>abc<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> ul = <span class="built_in">document</span>.querySelector(<span class="string">'ul'</span>);</span></span><br><span class="line"><span class="actionscript">    ul.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">(e)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 我们给ul 绑定了事件  那么this 就指向ul  </span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// ul</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// e.target 触发了事件的对象 我们点击的是li e.target 指向的就是li</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(e.target); <span class="comment">// li</span></span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="阻止默认行为"><a href="#阻止默认行为" class="headerlink" title="阻止默认行为"></a>阻止默认行为</h3><p> <code>html</code>中一些标签有默认行为，例如a标签被单击后，默认会进行页面跳转。<br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.baidu.com"</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 2. 阻止默认行为 让链接不跳转 </span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> a = <span class="built_in">document</span>.querySelector(<span class="string">'a'</span>);</span></span><br><span class="line"><span class="actionscript">    a.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">(e)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">         e.preventDefault(); <span class="comment">//  dom 标准写法</span></span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="actionscript">    <span class="comment">// 3. 传统的注册方式</span></span></span><br><span class="line"><span class="actionscript">    a.onclick = <span class="function"><span class="keyword">function</span><span class="params">(e)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 普通浏览器 e.preventDefault();  方法</span></span></span><br><span class="line">        e.preventDefault();</span><br><span class="line"><span class="actionscript">        <span class="comment">// 低版本浏览器 ie678  returnValue  属性</span></span></span><br><span class="line"><span class="actionscript">        e.returnValue = <span class="literal">false</span>;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 我们可以利用return false 也能阻止默认行为 没有兼容性问题</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="阻止事件冒泡"><a href="#阻止事件冒泡" class="headerlink" title="阻止事件冒泡"></a>阻止事件冒泡</h3><p> 事件冒泡本身的特性，会带来的坏处，也会带来的好处<br> <img src="../image/java48.png" alt=""><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"father"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"son"</span>&gt;</span>son儿子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> son = <span class="built_in">document</span>.querySelector(<span class="string">'.son'</span>);</span></span><br><span class="line"><span class="actionscript"><span class="comment">// 给son注册单击事件</span></span></span><br><span class="line"><span class="actionscript">      son.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">(e)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">          alert(<span class="string">'son'</span>);</span></span><br><span class="line"><span class="actionscript">          e.stopPropagation(); <span class="comment">// stop 停止  Propagation 传播</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">window</span>.event.cancelBubble = <span class="literal">true</span>; <span class="comment">// 非标准 cancel 取消 bubble 泡泡</span></span></span><br><span class="line"><span class="actionscript">      &#125;, <span class="literal">false</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> father = <span class="built_in">document</span>.querySelector(<span class="string">'.father'</span>);</span></span><br><span class="line"><span class="actionscript"><span class="comment">// 给father注册单击事件</span></span></span><br><span class="line"><span class="actionscript">      father.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">          alert(<span class="string">'father'</span>);</span></span><br><span class="line"><span class="actionscript">      &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="actionscript"><span class="comment">// 给document注册单击事件</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">          alert(<span class="string">'document'</span>);</span></span><br><span class="line">      &#125;)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><br> <strong>阻止事件冒泡的兼容性处理</strong><br>  <img src="../image/java49.png" alt=""></p><h3 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h3><p> 事件冒泡本身的特性，会带来的坏处，也会带来的好处。</p><ol><li>什么是事件委托<br>事件委托也称为事件代理，在 <code>jQuery</code> 里面称为事件委派，说白了就是，不给子元素注册事件，给父元素注册事件，把处理代码在父元素的事件中执行。</li><li>事件委托的原理<br>给父元素注册事件，利用事件冒泡，当子元素的事件触发，会冒泡到父元素，然后去控制相应的子元素。</li><li>事件委托的作用<ul><li>我们只操作了一次 <code>DOM</code> ，提高了程序的性能。</li><li>动态新创建的子元素，也拥有事件。<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>知否知否，点我应有弹框在手！<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>知否知否，点我应有弹框在手！<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>知否知否，点我应有弹框在手！<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>知否知否，点我应有弹框在手！<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>知否知否，点我应有弹框在手！<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 事件委托的核心原理：给父节点添加侦听器， 利用事件冒泡影响每一个子节点</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> ul = <span class="built_in">document</span>.querySelector(<span class="string">'ul'</span>);</span></span><br><span class="line"><span class="actionscript">    ul.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">(e)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// e.target 这个可以得到我们点击的对象</span></span></span><br><span class="line"><span class="actionscript">        e.target.style.backgroundColor = <span class="string">'pink'</span>;</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li></ol><h3 id="常用鼠标事件"><a href="#常用鼠标事件" class="headerlink" title="常用鼠标事件"></a>常用鼠标事件</h3><p> <img src="../image/java50.png" alt=""></p><h4 id="mouseenter-和mouseover的区别"><a href="#mouseenter-和mouseover的区别" class="headerlink" title="mouseenter 和mouseover的区别"></a>mouseenter 和mouseover的区别</h4><p> 当鼠标移动到元素上时就会触发 <code>mouseenter事件</code>, 类似 <code>mouseover</code><br> <strong>它们两者之间的差别是</strong><br>  <code>mouseover</code> 鼠标经过自身盒子会触发，经过子盒子还会触发。<code>mouseenter</code>只会经过自身盒子触发, 之所以这样，就是因为<code>mouseenter</code>不会冒泡,<code>mouseenter</code>也不会冒泡。</p><h4 id="禁止选中文字和禁止右键菜单"><a href="#禁止选中文字和禁止右键菜单" class="headerlink" title="禁止选中文字和禁止右键菜单"></a>禁止选中文字和禁止右键菜单</h4><p> <img src="../image/java51.png" alt=""></p><h4 id="鼠标事件对象"><a href="#鼠标事件对象" class="headerlink" title="鼠标事件对象"></a>鼠标事件对象</h4><p> <img src="../image/java52.png" alt=""></p><ul><li>获取鼠标在页面的坐标<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 鼠标事件对象 MouseEvent</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 1. client 鼠标在可视区的x和y坐标</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(e.clientX);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(e.clientY);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">'---------------------'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// 2. page 鼠标在页面文档的x和y坐标</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(e.pageX);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(e.pageY);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">'---------------------'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// 3. screen 鼠标在电脑屏幕的x和y坐标</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(e.screenX);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(e.screenY);</span></span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="常用的键盘事件"><a href="#常用的键盘事件" class="headerlink" title="常用的键盘事件"></a>常用的键盘事件</h3><h4 id="键盘事件"><a href="#键盘事件" class="headerlink" title="键盘事件"></a>键盘事件</h4><p> <img src="../image/java53.png" alt=""><br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 常用的键盘事件</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">//1. keyup 按键弹起的时候触发 </span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.addEventListener(<span class="string">'keyup'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">'我弹起了'</span>);</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="comment">//3. keypress 按键按下的时候触发  不能识别功能键 比如 ctrl shift 左右箭头啊</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.addEventListener(<span class="string">'keypress'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">'我按下了press'</span>);</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="actionscript">    <span class="comment">//2. keydown 按键按下的时候触发  能识别功能键 比如 ctrl shift 左右箭头啊</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.addEventListener(<span class="string">'keydown'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">'我按下了down'</span>);</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="actionscript">    <span class="comment">// 4. 三个事件的执行顺序  keydown -- keypress -- keyup</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="键盘事件对象"><a href="#键盘事件对象" class="headerlink" title="键盘事件对象"></a>键盘事件对象</h4><p> <img src="../image/java54.png" alt=""></p><h2 id="元素偏移量-offset-系列"><a href="#元素偏移量-offset-系列" class="headerlink" title="元素偏移量 offset 系列"></a>元素偏移量 offset 系列</h2><h3 id="offset"><a href="#offset" class="headerlink" title="offset"></a>offset</h3><p> <code>offset</code> 翻译过来就是偏移量， 我们使用 <code>offset</code>系列相关属性可以动态的得到该元素的<code>位置（偏移）</code>、<code>大小</code><br> 1.获得元素距离带有定位父元素的位置<br> 2.获得元素自身的大小（宽度高度）<br> 3.注意：返回的数值都不带单位<br> <img src="../image/java73.png" alt=""></p><h3 id="offset-与-style-区别"><a href="#offset-与-style-区别" class="headerlink" title="offset 与 style 区别"></a>offset 与 style 区别</h3><h4 id="offset-1"><a href="#offset-1" class="headerlink" title="offset"></a>offset</h4><ul><li>offset 可以得到任意样式表中的样式值</li><li>offset 系列获得的数值是没有单位的</li><li>offsetWidth 包含padding+border+width</li><li>offsetWidth 等属性是只读属性，只能获取不能赋值<blockquote><p>所以，我们想要获取元素大小位置，用offset更合适</p></blockquote></li></ul><h4 id="style"><a href="#style" class="headerlink" title="style"></a>style</h4><ul><li>style 只能得到行内样式表中的样式值</li><li>style.width 获得的是带有单位的字符串</li><li>style.width 获得不包含padding和border 的值</li><li>style.width 是可读写属性，可以获取也可以赋值<blockquote><p> 所以，我们想要给元素更改值，则需要用style改变<br>因为平时我们都是给元素注册触摸事件，所以重点记住 targetTocuhe</p></blockquote></li></ul><h2 id="元素可视区-client-系列"><a href="#元素可视区-client-系列" class="headerlink" title="元素可视区 client 系列"></a>元素可视区 client 系列</h2><h3 id="client概述"><a href="#client概述" class="headerlink" title="client概述"></a>client概述</h3><p> <code>client</code> 翻译过来就是客户端，我们使用 <code>client</code> 系列的相关属性来获取元素可视区的相关信息。通过 <code>client</code> 系列的相关属性可以动态的得到该元素的边框大小、元素大小等。<br> <img src="../image/java74.png" alt=""></p><h2 id="元素滚动-scroll-系列"><a href="#元素滚动-scroll-系列" class="headerlink" title="元素滚动 scroll 系列"></a>元素滚动 scroll 系列</h2><h3 id="scroll-概述"><a href="#scroll-概述" class="headerlink" title="scroll 概述"></a>scroll 概述</h3><p> <code>scroll</code> 翻译过来就是滚动的，我们使用 <code>scroll</code> 系列的相关属性可以动态的得到该元素的大小、滚动距离等。<br> <img src="../image/java75.png" alt=""></p><h3 id="页面被卷去的头部"><a href="#页面被卷去的头部" class="headerlink" title="页面被卷去的头部"></a>页面被卷去的头部</h3><p> 如果浏览器的高（或宽）度不足以显示整个页面时，会自动出现滚动条。当滚动条向下滚动时，页面上面被隐藏掉的高度，我们就称为页面被卷去的头部。滚动条在滚动时会触发 <code>onscroll事件</code>。</p><h2 id="三大系列总结"><a href="#三大系列总结" class="headerlink" title="三大系列总结"></a>三大系列总结</h2><p> <img src="../image/java76.png" alt=""></p><h2 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h2><h3 id="什么是BOM"><a href="#什么是BOM" class="headerlink" title="什么是BOM"></a>什么是BOM</h3><p> <code>BOM</code>（Browser Object Model）即浏览器对象模型，它提供了独立于内容而与浏览器窗口进行交互的对象，其核心对象是 <code>window</code>。<br> <code>BOM</code> 由一系列相关的对象构成，并且每个对象都提供了很多方法与属性。<br> <img src="../image/java55.png" alt=""></p><h3 id="BOM的构成"><a href="#BOM的构成" class="headerlink" title="BOM的构成"></a>BOM的构成</h3><p> <code>BOM</code> 比 <code>DOM</code> 更大，它包含 <code>DOM</code>。<br> <img src="../image/java56.png" alt=""></p><h3 id="顶级对象window"><a href="#顶级对象window" class="headerlink" title="顶级对象window"></a>顶级对象window</h3><p> <img src="../image/java57.png" alt=""></p><h3 id="window对象的常见事件"><a href="#window对象的常见事件" class="headerlink" title="window对象的常见事件"></a>window对象的常见事件</h3><ol><li><p>页面（窗口）加载事件（2种）</p><ul><li>第一种<br><img src="../image/java58.png" alt=""><br><code>window.onload</code> 是窗口 (页面）加载事件，当文档内容完全加载完成会触发该事件(包括图像、脚本文件、CSS 文件等), 就调用的处理函数。<br><img src="../image/java59.png" alt=""></li><li>第二种<br><img src="../image/java60.png" alt=""><br> DOMContentLoaded 事件触发时，仅当DOM加载完成，不包括样式表，图片，flash等等。<br>IE9以上才支持！！！<br>如果页面的图片很多的话, 从用户访问到onload触发可能需要较长的时间, 交互效果就不能实现，必然影响用户的体验，此时用 DOMContentLoaded 事件比较合适。<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.addEventListener(<span class="string">'load'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>);</span></span><br><span class="line"><span class="actionscript">        btn.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            alert(<span class="string">'点击我'</span>);</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.addEventListener(<span class="string">'load'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        alert(22);</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.addEventListener(<span class="string">'DOMContentLoaded'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        alert(33);</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>调整窗口大小事件<br><img src="../image/java61.png" alt=""><br>  <code>window.onresize</code> 是调整窗口大小加载事件,  当触发时就调用的处理函数。</p><blockquote><p>注意：<br>1.只要窗口大小发生像素变化，就会触发这个事件。<br>2.我们经常利用这个事件完成响应式布局。 <code>window.innerWidth</code> 当前屏幕的宽度</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 注册页面加载事件</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.addEventListener(<span class="string">'load'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 注册调整窗口大小事件</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// window.innerWidth 获取窗口大小</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">'变化了'</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (<span class="built_in">window</span>.innerWidth &lt;= <span class="number">800</span>) &#123;</span></span><br><span class="line"><span class="actionscript">                div.style.display = <span class="string">'none'</span>;</span></span><br><span class="line"><span class="actionscript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="actionscript">                div.style.display = <span class="string">'block'</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>定时器（两种）<br><code>window</code> 对象给我们提供了 <code>2</code> 个非常好用的方法-</p><ul><li>setTimeout()<br><img src="../image/java62.png" alt=""><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 回调函数是一个匿名函数</span></span></span><br><span class="line"><span class="actionscript">    setTimeout(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">'时间到了'</span>);</span></span><br><span class="line"></span><br><span class="line">    &#125;, 2000);</span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">callback</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">'爆炸了'</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    <span class="comment">// 回调函数是一个有名函数</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> timer1 = setTimeout(callback, <span class="number">3000</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> timer2 = setTimeout(callback, <span class="number">5000</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><ul><li>停止定时器<br><img src="../image/java63.png" alt=""><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">button</span>&gt;</span>点击停止定时器<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>);</span></span><br><span class="line"><span class="actionscript"><span class="comment">// 开启定时器</span></span></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> timer = setTimeout(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">'爆炸了'</span>);</span></span><br><span class="line">      &#125;, 5000);</span><br><span class="line"><span class="actionscript"><span class="comment">// 给按钮注册单击事件</span></span></span><br><span class="line"><span class="actionscript">      btn.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// 停止定时器</span></span></span><br><span class="line">          clearTimeout(timer);</span><br><span class="line">      &#125;)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><ul><li>setInterval()<br><img src="../image/java64.png" alt=""><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">     <span class="comment">// 1. setInterval </span></span></span><br><span class="line"><span class="actionscript">     setInterval(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">         <span class="built_in">console</span>.log(<span class="string">'继续输出'</span>);</span></span><br><span class="line">     &#125;, 1000);</span><br><span class="line"> <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><ul><li>停止定时器<br><img src="../image/java65.png" alt=""><blockquote><p><strong>推键文章</strong><br><a href="https://wangdoc.com/javascript/bom/window.html" target="_blank" rel="noopener">阮一峰</a></p></blockquote></li></ul></li></ol><h3 id="navigator对象"><a href="#navigator对象" class="headerlink" title="navigator对象"></a>navigator对象</h3><p> <code>navigator</code> 对象包含有关浏览器的信息，它有很多属性，我们最常用的是 <code>userAgent</code>，该属性可以返回由客户机发送服务器的 <code>user-agent</code> 头部的值。</p><p> 下面前端代码可以判断用户那个终端打开页面，实现跳转<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>((navigator.userAgent.match(<span class="regexp">/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i</span>))) &#123;</span><br><span class="line">    <span class="built_in">window</span>.location.href = <span class="string">""</span>;     <span class="comment">//手机</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.location.href = <span class="string">""</span>;     <span class="comment">//电脑</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="location对象"><a href="#location对象" class="headerlink" title="location对象"></a>location对象</h3><p> <img src="../image/java66.png" alt=""></p><ol><li>location 对象的属性<br><img src="../image/java67.png" alt=""></li><li>location对象的常见方法<br><img src="../image/java68.png" alt=""><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>);</span></span><br><span class="line"><span class="actionscript">    btn.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 记录浏览历史，所以可以实现后退功能</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// location.assign('http://www.itcast.cn');</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 不记录浏览历史，所以不可以实现后退功能</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// location.replace('http://www.itcast.cn');</span></span></span><br><span class="line"><span class="actionscript">        location.reload(<span class="literal">true</span>);</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="History对象"><a href="#History对象" class="headerlink" title="History对象"></a>History对象</h3><h4 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h4><p> <code>window.history</code>属性指向 <code>History</code> 对象，它表示当前窗口的浏览历史。</p><p> <code>History</code> 对象保存了当前窗口访问过的所有页面网址。下面代码表示当前窗口一共访问过3个网址。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.history.length <span class="comment">// 3</span></span><br></pre></td></tr></table></figure></p><p> 浏览器允许在地址之间导航。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 后退到前一个网址</span></span><br><span class="line">history.back()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line">history.go(<span class="number">-1</span>)</span><br></pre></td></tr></table></figure><br> 浏览器工具栏的“前进”和“后退”按钮，其实就是对 History 对象进行操作。</p><h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><p> <code>History</code> 对象主要有两个属性。</p><ul><li><p><code>History.length</code>：当前窗口访问过的网址数量（包括当前网页）</p></li><li><p><code>History.state</code>：<code>History</code> 堆栈最上层的状态值（详见下文）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 当前窗口访问过多少个网页</span></span><br><span class="line"><span class="built_in">window</span>.history.length <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// History 对象的当前状态</span></span><br><span class="line"><span class="comment">// 通常是 undefined，即未设置</span></span><br><span class="line"><span class="built_in">window</span>.history.state <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h4><h5 id="History-back-、History-forward-、History-go"><a href="#History-back-、History-forward-、History-go" class="headerlink" title="History.back()、History.forward()、History.go()"></a>History.back()、History.forward()、History.go()</h5><ul><li><p><code>History.back()</code>：移动到上一个网址，等同于点击浏览器的后退键。对于第一个访问的网址，该方法无效果。</p></li><li><p><code>History.forward()</code>：移动到下一个网址，等同于点击浏览器的前进键。对于最后一个访问的网址，该方法无效果。</p></li><li><p><code>History.go()</code>：接受一个整数作为参数，以当前网址为基准，移动到参数指定的网址，比如<code>go(1)</code>相当于<code>forward()</code>，<code>go(-1)</code>相当于<code>back()</code>。如果参数超过实际存在的网址范围，该方法无效果；如果不指定参数，默认参数为<code>0</code>，相当于刷新当前页面。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">history.back();</span><br><span class="line">history.forward();</span><br><span class="line">history.go(<span class="number">-2</span>);</span><br></pre></td></tr></table></figure><p><code>history.go(0)</code>相当于刷新当前页面。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">history.go(<span class="number">0</span>); <span class="comment">// 刷新当前页面</span></span><br></pre></td></tr></table></figure><blockquote><p>注意，移动到以前访问过的页面时，页面通常是从浏览器缓存之中加载，而不是重新要求服务器发送新的网页。</p></blockquote></li></ul><h5 id="History-pushState"><a href="#History-pushState" class="headerlink" title="History.pushState()"></a>History.pushState()</h5><p> <code>History.pushState()</code>方法用于在历史中添加一条记录。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.history.pushState(state, title, url)</span><br></pre></td></tr></table></figure><br> 该方法接受三个参数，依次为：</p><ul><li><code>state</code>：一个与添加的记录相关联的状态对象，主要用于<code>popstate</code>事件。该事件触发时，该对象会传入回调函数。也就是说，浏览器会将这个对象序列化以后保留在本地，重新载入这个页面的时候，可以拿到这个对象。如果不需要这个对象，此处可以填<code>null</code>。</li><li><code>title</code>：新页面的标题。但是，现在所有浏览器都忽视这个参数，所以这里可以填空字符串。`</li><li><code>url</code>：新的网址，必须与当前页面处在同一个域。浏览器的地址栏将显示这个网址。</li></ul><p>假定当前网址是<code>example.com/1.html</code>，使用<code>pushState()</code>方法在浏览记录（<code>History</code> 对象）中添加一个新记录。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stateObj = &#123; <span class="attr">foo</span>: <span class="string">'bar'</span> &#125;;</span><br><span class="line">history.pushState(stateObj, <span class="string">'page 2'</span>, <span class="string">'2.html'</span>);</span><br></pre></td></tr></table></figure><br> 添加新记录后，浏览器地址栏立刻显示<code>example.com/2.html</code>，但并不会跳转到<code>2.html</code>，甚至也不会检查<code>2.html</code>是否存在，它只是成为浏览历史中的最新记录。这时，在地址栏输入一个新的地址(比如访问<code>google.com</code>)，然后点击了倒退按钮，页面的 <code>URL</code> 将显示<code>2.html</code>；你再点击一次倒退按钮，<code>URL</code> 将显示<code>1.html</code>。</p><p> 总之，<code>pushState()</code>方法不会触发页面刷新，只是导致 <code>History</code> 对象发生变化，地址栏会有反应。</p><p> 使用该方法之后，就可以用<code>History.state</code>属性读出状态对象。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stateObj = &#123; <span class="attr">foo</span>: <span class="string">'bar'</span> &#125;;</span><br><span class="line">history.pushState(stateObj, <span class="string">'page 2'</span>, <span class="string">'2.html'</span>);</span><br><span class="line">history.state <span class="comment">// &#123;foo: "bar"&#125;</span></span><br></pre></td></tr></table></figure><br> 如果 <code>pushState</code> 的 <code>URL</code> 参数设置了一个新的锚点值（即<code>hash</code>），并不会触发<code>hashchange</code>事件。反过来，如果 <code>URL</code> 的锚点值变了，则会在 <code>History</code> 对象创建一条浏览记录。</p><p> 如果<code>pushState()</code>方法设置了一个跨域网址，则会报错。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 报错</span></span><br><span class="line"><span class="comment">// 当前网址为 http://example.com</span></span><br><span class="line">history.pushState(<span class="literal">null</span>, <span class="string">''</span>, <span class="string">'https://twitter.com/hello'</span>);</span><br></pre></td></tr></table></figure></p><h5 id="History-replaceState"><a href="#History-replaceState" class="headerlink" title="History.replaceState()"></a>History.replaceState()</h5><p> <code>History.replaceState()</code>方法用来修改 <code>History</code> 对象的当前记录，其他都与<code>pushState()</code>方法一模一样。</p><p>  假定当前网页是<code>example.com/example.html</code>。<br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">history.pushState(&#123;<span class="attr">page</span>: <span class="number">1</span>&#125;, <span class="string">'title 1'</span>, <span class="string">'?page=1'</span>)</span><br><span class="line"><span class="comment">// URL 显示为 http://example.com/example.html?page=1</span></span><br><span class="line"></span><br><span class="line">history.pushState(&#123;<span class="attr">page</span>: <span class="number">2</span>&#125;, <span class="string">'title 2'</span>, <span class="string">'?page=2'</span>);</span><br><span class="line"><span class="comment">// URL 显示为 http://example.com/example.html?page=2</span></span><br><span class="line"></span><br><span class="line">history.replaceState(&#123;<span class="attr">page</span>: <span class="number">3</span>&#125;, <span class="string">'title 3'</span>, <span class="string">'?page=3'</span>);</span><br><span class="line"><span class="comment">// URL 显示为 http://example.com/example.html?page=3</span></span><br><span class="line"></span><br><span class="line">history.back()</span><br><span class="line"><span class="comment">// URL 显示为 http://example.com/example.html?page=1</span></span><br><span class="line"></span><br><span class="line">history.back()</span><br><span class="line"><span class="comment">// URL 显示为 http://example.com/example.html</span></span><br><span class="line"></span><br><span class="line">history.go(<span class="number">2</span>)</span><br><span class="line"><span class="comment">// URL 显示为 http://example.com/example.html?page=3</span></span><br></pre></td></tr></table></figure></p><h5 id="popstate-事件"><a href="#popstate-事件" class="headerlink" title="popstate 事件"></a>popstate 事件</h5><p> 每当同一个文档的浏览历史（即 <code>history</code> 对象）出现变化时，就会触发 <code>popstate</code> 事件。</p><p> 注意，仅仅调用 <code>pushState()</code> 方法或<code>replaceState()</code>方法 ，并不会触发该事件，只有用户点击浏览器倒退按钮和前进按钮，或者使用 <code>JavaScript</code> 调用 <code>History.back()</code>、<code>History.forward()</code>、<code>History.go()</code>方法时才会触发。另外，该事件只针对同一个文档，如果浏览历史的切换，导致加载不同的文档，该事件也不会触发。</p><p> 使用的时候，可以为<code>popstate</code>事件指定回调函数。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onpopstate = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'location: '</span> + <span class="built_in">document</span>.location);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'state: '</span> + <span class="built_in">JSON</span>.stringify(event.state));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'popstate'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'location: '</span> + <span class="built_in">document</span>.location);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'state: '</span> + <span class="built_in">JSON</span>.stringify(event.state));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><br> 回调函数的参数是一个<code>event</code>事件对象，它的<code>state</code>属性指向<code>pushState</code>和<code>replaceState</code>方法为当前 <code>URL</code> 所提供的状态对象（即这两个方法的第一个参数）。上面代码中的 <code>event.state</code>，就是通过<code>pushState</code>和<code>replaceState</code>方法，为当前 <code>URL</code> 绑定的<code>state</code>对象。</p><p> 这个<code>state</code>对象也可以直接通过<code>history</code>对象读取。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> currentState = history.state;</span><br></pre></td></tr></table></figure></p><blockquote><p>注意，页面第一次加载的时候，浏览器不会触发 <code>popstate</code> 事件。</p></blockquote><h2 id="触屏事件"><a href="#触屏事件" class="headerlink" title="触屏事件"></a>触屏事件</h2><h3 id="触屏事件概述"><a href="#触屏事件概述" class="headerlink" title="触屏事件概述"></a>触屏事件概述</h3><p> 移动端浏览器兼容性较好，我们不需要考虑以前 <code>JS 的兼容性问题</code>，可以放心的使用原生 <code>JS</code> 书写效果，但是移动端也有自己独特的地方。比如触屏事件 <code>touch</code>（也称触摸事件），<code>Android</code>和 <code>IOS</code> 都有。</p><p> <code>touch</code> 对象代表一个触摸点。触摸点可能是一根手指，也可能是一根触摸笔。触屏事件可响应用户手指（或触控笔）对屏幕或者触控板操作。</p><p> 常见的触屏事件如下：<br> <img src="../image/java77.png" alt=""></p><h3 id="触摸事件对象（TouchEvent）"><a href="#触摸事件对象（TouchEvent）" class="headerlink" title="触摸事件对象（TouchEvent）"></a>触摸事件对象（TouchEvent）</h3><p> <code>TouchEvent</code> 是一类描述手指在触摸平面（触摸屏、触摸板等）的状态变化的事件。这类事件用于描述一个或多个触点，使开发者可以检测触点的移动，触点的增加和减少，等等</p><p> <code>touchstart</code>、<code>touchmove</code>、<code>touchend</code> 三个事件都会各自有事件对象。</p><p>  触摸事件对象重点我们看三个常见对象列表：<br> <img src="../image/java78.png" alt=""></p><h3 id="移动端拖动元素"><a href="#移动端拖动元素" class="headerlink" title="移动端拖动元素"></a>移动端拖动元素</h3><ol><li><code>touchstart</code>、<code>touchmove</code>、<code>touchend</code>可以实现拖动元素</li><li>但是拖动元素需要当前手指的坐标值 我们可以使用  <code>targetTouches[0]</code>里面的<code>pageX</code> 和 <code>pageY</code> </li><li>移动端拖动的原理：手指移动中，计算出手指移动的距离。然后用盒子原来的位置  + 手指移动的距离</li><li>手指移动的距离：手指滑动中的位置 减去  手指刚开始触摸的位置<br>拖动元素三步曲：<ul><li>触摸元素 touchstart： 获取手指初始坐标，同时获得盒子原来的位置</li><li>移动手指 touchmove： 计算手指的滑动距离，并且移动盒子</li><li>离开手指 touchend:<blockquote><p>手指移动也会触发滚动屏幕所以这里要阻止默认的屏幕滚动 e.preventDefault();</p></blockquote></li></ul></li></ol><h2 id="click-延时解决方案"><a href="#click-延时解决方案" class="headerlink" title="click 延时解决方案"></a>click 延时解决方案</h2><p> 移动端 <code>click</code> 事件会有 <code>300ms</code> 的延时，原因是移动端屏幕双击会缩放(<code>double tap to zoom</code>) 页面。<br> <strong>解决方案：</strong></p><ol><li>禁用缩放。 浏览器禁用默认的双击缩放行为并且去掉 <code>300ms</code> 的点击延迟。<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"user-scalable=no"</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>使用插件。<code>fastclick</code> 插件解决 <code>300ms</code> 延迟。<br><img src="../image/java79.png" alt=""></li></ol><h2 id="本地存储"><a href="#本地存储" class="headerlink" title="本地存储"></a><a href="https://wormnimaya.github.io/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/#%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E7%89%B9%E6%80%A7">本地存储</a></h2><h2 id="JS执行机制"><a href="#JS执行机制" class="headerlink" title="JS执行机制"></a>JS执行机制</h2><h3 id="JS-是单线程"><a href="#JS-是单线程" class="headerlink" title="JS 是单线程"></a>JS 是单线程</h3><p> <img src="../image/java69.png" alt=""><br> 单线程就意味着，所有任务需要排队，前一个任务结束，才会执行后一个任务。如果前一个任务耗时很长，后一个任务就不得不一直等着。<br> 这样所导致的问题是： 如果 JS 执行的时间过长，这样就会造成页面的渲染不连贯，导致页面渲染加载阻塞的感觉。</p><h3 id="同步任务和异步任务"><a href="#同步任务和异步任务" class="headerlink" title="同步任务和异步任务"></a>同步任务和异步任务</h3><p> 单线程导致的问题就是后面的任务等待前面任务完成，如果前面任务很耗时（比如读取网络数据），后面任务不得不一直等待！！</p><p> 为了解决这个问题，利用多核 <code>CPU</code> 的计算能力，<code>HTML5</code> 提出 <code>Web Worker</code> 标准，允许 <code>JavaScript</code> 脚本创建多个线程，但是子线程完全受主线程控制。于是，<code>JS</code> 中出现了<code>同步任务</code>和<code>异步任务</code>。</p><ol><li><p>JS中所有任务可以分成两种，一种是同步任务（synchronous），另一种是异步任务（asynchronous）。</p><p><strong>同步任务指的是：</strong><br>在主线程上排队执行的任务，只有前一个任务执行完毕，才能执行后一个任务；<br><strong>异步任务指的是：</strong><br>不进入主线程、而进入”任务队列”的任务，当主线程中的任务运行完了，才会从”任务队列”取出异步任务放入主线程执行。<br><img src="../image/java70.png" alt=""></p></li><li><p>JS执行机制（事件循环）<br><img src="../image/java71.png" alt=""><br><img src="../image/java72.png" alt=""></p></li></ol><h2 id="排他操作"><a href="#排他操作" class="headerlink" title="排他操作"></a>排他操作</h2><p> 如果有同一组元素，我们想要某一个元素实现某种样式， 需要用到循环的排他思想算法</p><ol><li>所有元素全部清除样式（干掉其他人）</li><li>给当前元素设置样式 （留下我自己）</li><li>注意顺序不能颠倒，首先干掉其他人，再设置自己<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮4<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮5<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 1. 获取所有按钮元素</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> btns = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'button'</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// btns得到的是伪数组  里面的每一个元素 btns[i]</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; btns.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">            btns[i].onclick = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">// (1) 我们先把所有的按钮背景颜色去掉  干掉所有人</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; btns.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">                    btns[i].style.backgroundColor = <span class="string">''</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="actionscript">                <span class="comment">// (2) 然后才让当前的元素背景颜色为pink 留下我自己</span></span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.style.backgroundColor = <span class="string">'pink'</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>element弹空标签问题</title>
      <link href="/element%E5%BC%B9%E7%A9%BA%E6%A0%87%E7%AD%BE%E9%97%AE%E9%A2%98/"/>
      <url>/element%E5%BC%B9%E7%A9%BA%E6%A0%87%E7%AD%BE%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/weixin_43124082/article/details/84328327" target="_blank" rel="noopener">文章转自</a></p><h1 id="使用element的Message控件，页面刷新时弹出空的提示消息"><a href="#使用element的Message控件，页面刷新时弹出空的提示消息" class="headerlink" title="使用element的Message控件，页面刷新时弹出空的提示消息"></a>使用element的Message控件，页面刷新时弹出空的提示消息</h1><p>  使用element的Message控件时，引入Message后会有如下问题：<br>  <img src="https://img-blog.csdnimg.cn/20181121190624357.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzEyNDA4Mg==,size_16,color_FFFFFF,t_70" alt=""></p><p>  如图所示：在页面刷新时，会有一条空的消息提示弹出</p><h1 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h1><p> 将<code>Vue.use(Message)</code>改为<code>Vue.component(Message.name, Message)</code>即可</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue实现吸顶功能</title>
      <link href="/vue%E5%AE%9E%E7%8E%B0%E5%90%B8%E9%A1%B6%E5%8A%9F%E8%83%BD/"/>
      <url>/vue%E5%AE%9E%E7%8E%B0%E5%90%B8%E9%A1%B6%E5%8A%9F%E8%83%BD/</url>
      
        <content type="html"><![CDATA[<h2 id="吸顶效果图"><a href="#吸顶效果图" class="headerlink" title="吸顶效果图"></a>吸顶效果图</h2><p> <img src="https://user-gold-cdn.xitu.io/2018/8/20/16556f9761db4bf4?imageslim" alt=""></p><h2 id="实现原理"><a href="#实现原理" class="headerlink" title="实现原理"></a>实现原理</h2><p> 通过监听页面的scroll事件，来得到页面的滚动距离，页面滚动距离大于要吸顶元素到顶端的距离后为元素添加固定定位的样式来实现吸顶效果。</p><h2 id="vue吸顶效果实现"><a href="#vue吸顶效果实现" class="headerlink" title="vue吸顶效果实现"></a>vue吸顶效果实现</h2><blockquote><p>需要给吸顶的元素一个宽度，否则固定定位后，宽度将是子元素撑开的的宽度，使吸顶变形</p></blockquote> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"nav-bar"</span> <span class="attr">:class</span>=<span class="string">"&#123;'is_fixed':isFixed&#125;"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pro-title"</span>&gt;</span></span><br><span class="line">       &#123;&#123;title&#125;&#125;</span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pro-param"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>概述<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>参数<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>用户评价<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"buy"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">data()&#123;</span><br><span class="line">   <span class="keyword">return</span> &#123;</span><br><span class="line">     isFixed:<span class="literal">false</span> <span class="comment">//判断是否添加样式</span></span><br><span class="line">   &#125;</span><br><span class="line"> &#125;,</span><br><span class="line"> mounted()&#123;</span><br><span class="line">   <span class="comment">// 监听scroll事件</span></span><br><span class="line">   <span class="built_in">window</span>.addEventListener(<span class="string">'scroll'</span>,<span class="keyword">this</span>.initHeight)</span><br><span class="line"> &#125;,</span><br><span class="line"> methods:&#123;</span><br><span class="line">   <span class="comment">// 通过页面滚动距离判断是否添加固定定位样式</span></span><br><span class="line">   initHeight()&#123;</span><br><span class="line">     <span class="keyword">let</span> scrollTop = <span class="built_in">window</span>.pageYOffset || <span class="built_in">document</span>.documentElement.scrollTop || <span class="built_in">document</span>.body.scrollTop;</span><br><span class="line">     <span class="keyword">this</span>.isFixed = scrollTop &gt; <span class="number">152</span>? <span class="literal">true</span>:<span class="literal">false</span>;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;,</span><br><span class="line"> destroyed()&#123;</span><br><span class="line">   <span class="comment">// 取消scroll事件</span></span><br><span class="line">   <span class="built_in">window</span>.removeEventListener(<span class="string">'scroll'</span>,<span class="keyword">this</span>.initHeight,<span class="literal">false</span>)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang&#x3D;&quot;scss&quot;&gt;</span><br><span class="line">  .nav-bar&#123;</span><br><span class="line">    height:70px;</span><br><span class="line">    line-height:70px;</span><br><span class="line">    border-top:1px solid $colorH;</span><br><span class="line">    background-color:$colorG;</span><br><span class="line">    z-index:10;</span><br><span class="line">    &amp;.is_fixed&#123;</span><br><span class="line">      position:fixed;</span><br><span class="line">      top:0;</span><br><span class="line">      width:100%;</span><br><span class="line">      box-shadow: 0 5px 5px $colorE;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>搭建电影网站</title>
      <link href="/%E6%90%AD%E5%BB%BA%E7%94%B5%E5%BD%B1%E7%BD%91%E7%AB%99/"/>
      <url>/%E6%90%AD%E5%BB%BA%E7%94%B5%E5%BD%B1%E7%BD%91%E7%AB%99/</url>
      
        <content type="html"><![CDATA[<p><strong>还在花钱购买vip追自己喜欢看的剧吗？ 还在为找不到电影资源苦恼吗？ 今天就让我们自己搭建一个电影网站吧！ 让我付费不可能的，永远是不可能的</strong></p><h2 id="什么是域名和虚拟主机"><a href="#什么是域名和虚拟主机" class="headerlink" title="什么是域名和虚拟主机"></a>什么是域名和虚拟主机</h2><p> 很多同学会有很大的疑问？ <strong>域名，虚拟主机</strong>，我靠什么是域名，虚拟主机又是什么，那我就给大家举个例子吧，让大家更容易理解，我们把互联网比作我们的世界，而虚拟主机就是我们的房子， 我们可以在虚拟主机里面搭建自己的网站项目，而域名就像是门牌号，有利于找到我们的家，也可以把域名理解为，我们访问的网址。</p><h2 id="域名"><a href="#域名" class="headerlink" title="域名"></a>域名</h2><p> 这里我为大家准备了两种方案，各有利弊吧</p><ol><li><p><a href="https://www.freenom.com/zh/freeandpaiddomains.html" target="_blank" rel="noopener">免费域名</a>，但是这种操作比较麻烦，如果小伙伴们嫌麻烦， 可以选择第二种。</p><ul><li>这里我们需要一个美国代理，如果不知道代理的请自行百度，把代理模式切换成全局模式</li><li>然后大家注册freeom这个网站，并登录，这里我给大家提供一个，<a href="https://www.linshiyouxiang.net/" target="_blank" rel="noopener">临时邮箱</a>，便于大家注册，我们把他调成英文页面</li><li>我们在面板中点击 Partners -&gt; Developers<br><img src="../image/move1.png" alt=""><br><img src="../image/move2.png" alt=""></li><li>这样我们进入了注册页面，在鼠标点击的位置填写临时邮箱<br><img src="../image/move3.png" alt=""></li><li>我们可以在google中搜索ip，查看自己的ip地址是否在美国，如果不在，请开启美国全局代理(不懂代理的请自行百度)<br><img src="../image/move4.png" alt=""></li><li>我们打开<a href="https://www.linshiyouxiang.net/" target="_blank" rel="noopener">临时邮箱</a>，把临时邮箱的地址填写到注册页面上<br><img src="../image/move5.png" alt=""><br><img src="../image/move6.png" alt=""></li><li>进入上面的页面后，进入临时邮箱，点击，进入主页<br><img src="../image/move7.png" alt=""></li><li>我们再一次在面板中点击 Partners -&gt; Developers<br><img src="../image/move1.png" alt=""><br><img src="../image/move2.png" alt=""></li><li>这次他会出现填写个人信息的模块， 这里的信息必须是美国人的真实信息，这里我为大家提供了，一个<a href="http://www.shenfendaquan.com/" target="_blank" rel="noopener">美国人信息的网站</a><br><img src="../image/move8.png" alt=""></li><li>将美国人的信息填写到表格中，(注意电话号的-要去掉)<br><img src="../image/move9.png" alt=""></li><li>出现这个页面，恭喜你注册成功了<br><img src="../image/move10.png" alt=""></li><li>现在我们就可以注册域名了<br><img src="../image/move11.png" alt=""></li><li>在搜索框中填写自己想要的域名，如果填写查找需要费用，请重新搜索自己喜欢的域名<br><img src="../image/move12.png" alt=""><br><img src="../image/move13.png" alt=""></li><li>加入购物车，点击checkout<br><img src="../image/move14.png" alt=""></li><li>选择时长，然后点击continue<br><img src="../image/move15.png" alt=""></li><li><img src="../image/move16.png" alt=""></li><li>点击蓝色按钮<br><img src="../image/move17.png" alt=""></li><li>到我们的主页查看我们购买的域名<br><img src="../image/move18.png" alt=""></li><li>域名购买完成<br><img src="../image/move19.png" alt=""></li></ul></li><li><p>到阿里旗下的<a href="https://wanwang.aliyun.com/" target="_blank" rel="noopener">万网</a>，购买一个域名，我建议大家买一个域名，这样大家的网站也有个保障，毕竟是阿里的嘛！！！</p></li></ol><h2 id="解析域名"><a href="#解析域名" class="headerlink" title="解析域名"></a>解析域名</h2><ol><li>这里推荐<a href="https://www.cloudflare.com/" target="_blank" rel="noopener">cloudflare</a><br>我在网上发现了一个文章写的特别好，<a href="https://zhuanlan.zhihu.com/p/82909515" target="_blank" rel="noopener">cloudflare使用入门教程，国外最好免费CDN</a>这里我就不自己写了</li></ol><h2 id="虚拟主机"><a href="#虚拟主机" class="headerlink" title="虚拟主机"></a>虚拟主机</h2><p> 下面用到的我分享到百度云盘中 链接：<a href="https://pan.baidu.com/s/1-NO_u3Lnrzm0uJE7Gi9VmQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1-NO_u3Lnrzm0uJE7Gi9VmQ</a><br> 提取码：7p9v</p><ol><li>这里我推荐<a href="https://www.cccyun.net/" target="_blank" rel="noopener">彩虹云</a>, 因为有免费服务，适合于新手，自己注册一个账号，购买免费的就好</li></ol><h2 id="开始建造网站"><a href="#开始建造网站" class="headerlink" title="开始建造网站"></a>开始建造网站</h2><p> 上面的准备工作做完了，我们终于可以建站了</p><ol><li><p>登录彩虹面板， 点击前往控制面板 -&gt; 一键登录控制面板<br><img src="../image/move20.png" alt=""></p></li><li><p>绑定解析域名</p><blockquote><p>注意：这里的域名是解析后的域名</p></blockquote><p><img src="../image/move21.png" alt=""></p></li><li><p>点击文件管理 -&gt; 在线文件管理器，点击wwwroot，进入wwwroot目录<br><img src="../image/move22.png" alt=""></p><ul><li>点击上传文件，上传苹果cmsv10<br><img src="../image/move23.png" alt=""></li><li>上传成功后，进行解压，<br><img src="../image/move24.png" alt=""></li><li>进入解压的文件，将里面的文件夹全部选中，点击剪切，复制到wwwroot文件目录中，如图：粘贴正确<br><img src="../image/move25.png" alt=""></li><li>点击wwwroot文件下的template目录，进入目录后，进行上传模板文件，然后解压<br><img src="../image/move26.png" alt=""></li><li>在浏览器地址输入自己的域名，出现如图，点击同意协议并安装系统 -&gt; 点击进行下一步<br><img src="../image/move27.png" alt=""></li><li>数据库配置（这里的数据库名称，账号，密码，在虚拟主机控制面板 -》 数据库链接信息）,填写好信息后，点击测试数据连接，-》 立即执行安装<br><img src="../image/move28.png" alt=""></li><li>这时候等待三秒后，页面会出现请将后台入口文件admin.php改名，防止黑客攻击，进入wwwroot文件目录，修改admin.php文件名字(注意不能叫index.php,目录中有一个文件index.php)</li><li>在浏览器地址栏中，自己的域名/刚才修改的文件名字.php,回车,填写信息进行登录，进入后台管理系统<br><img src="../image/move29.png" alt=""><br><img src="../image/move30.png" alt=""></li><li>点击系统 -》 网站参数配置 -》修改网站名称-》 修改网站模板(选择conch) -》手机模板(选择conch)配置好后，点击保存<br><img src="../image/move31.png" alt=""></li><li>首页 -》自定义菜单配置中填写如下，然后点击保存，刷新页面，左侧导航栏会出现一个海螺模板，自行配置(可以用默认配置)<br><code>海螺模板,/这里是你自己定义的文件名.php/admin/conch/theme.html</code></li><li>采集 -》自定义采集 -》添加(采集地址云盘中有) -》点击保存<br><img src="../image/move32.png" alt=""></li><li>点击资源站下面的链接, 进行绑定，绑定喜欢的资源后，点击采集所有，等待采集完毕<br><img src="../image/move33.png" alt=""></li><li>添加播放器，你进入你采集的网站里，下载相应的播放器，在视频 -》 播放器-》进行导入播放器，然后点击清理缓存(注意：必须视频采集完后，才能点击)<br><img src="../image/move34.png" alt=""></li><li>建造电影网站完毕</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> moive </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue props用法详解</title>
      <link href="/Vue-props%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/"/>
      <url>/Vue-props%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.jianshu.com/p/89bd18e44e73" target="_blank" rel="noopener">本文转自Vue props用法详解</a></p><h1 id="Vue-props用法详解"><a href="#Vue-props用法详解" class="headerlink" title="Vue props用法详解"></a>Vue props用法详解</h1><p> 组件接受的选项之一 props 是 Vue 中非常重要的一个选项。父子组件的关系可以总结为：props down, events up<br> 父组件通过 props 向下传递数据给子组件；子组件通过 events 给父组件发送消息。</p><h1 id="父子级组件"><a href="#父子级组件" class="headerlink" title="父子级组件"></a>父子级组件</h1><p> 比如我们需要创建两个组件 parent 和 child。需要保证每个组件可以在相对隔离的环境中书写，这样也能提高组件的可维护性。</p><p> 这里我们先定义父子两个组件和一个 Vue 对象：<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> childNode = &#123;</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div&gt;childNode&lt;/div&gt;</span></span><br><span class="line"><span class="string">        `</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> parentNode = &#123;</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div&gt;</span></span><br><span class="line"><span class="string">          &lt;child&gt;&lt;/child&gt;</span></span><br><span class="line"><span class="string">          &lt;child&gt;&lt;/child&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">        `</span>,</span><br><span class="line">  components: &#123;</span><br><span class="line">    child: childNode</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">"#example"</span>,</span><br><span class="line">  components: &#123;</span><br><span class="line">    parent: parentNode</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"example"</span>&gt;</span><br><span class="line">   &lt;parent&gt;&lt;<span class="regexp">/parent&gt;</span></span><br><span class="line"><span class="regexp"> &lt;/</span>div&gt;</span><br></pre></td></tr></table></figure><br> 这里的 childNode 定义的 template 是一个 div，并且内容是”childNode”字符串。<br> 而在 parentNode 的 template 中定义了 div 的 class 名叫 parent 并且包含了两个 child 组件。</p><h1 id="静态-props"><a href="#静态-props" class="headerlink" title="静态 props"></a>静态 props</h1><p> 组件实例的作用域是孤立的。这意味着不能（也不应该）在子组件的模板中直接饮用父组件的数据。要让子组件使用父组件的数据，需要通过子组件的 props 选项。</p><p> 父组件向子组件传递数据分为两种方式：动态和静态，这里先介绍静态方式。</p><p> 子组件要显示的用 props 声明它期望获得的数据</p><p> 修改上例中的代码，给 childNode 添加一个 props 选项和需要的forChildMsg数据;<br> 然后在父组件中的占位符添加特性的方式来传递数据。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> childNode = &#123;</span><br><span class="line">   template: <span class="string">`</span></span><br><span class="line"><span class="string">         &lt;div&gt;</span></span><br><span class="line"><span class="string">           &#123;&#123;forChildMsg&#125;&#125;</span></span><br><span class="line"><span class="string">         &lt;/div&gt;</span></span><br><span class="line"><span class="string">         `</span>,</span><br><span class="line">   props: [<span class="string">"for-child-msg"</span>]</span><br><span class="line"> &#125;;</span><br><span class="line"> <span class="keyword">var</span> parentNode = &#123;</span><br><span class="line">   template: <span class="string">`</span></span><br><span class="line"><span class="string">         &lt;div&gt;</span></span><br><span class="line"><span class="string">           &lt;p&gt;parentNode&lt;/p&gt;</span></span><br><span class="line"><span class="string">           &lt;child for-child-msg="aaa"&gt;&lt;/child&gt;</span></span><br><span class="line"><span class="string">           &lt;child for-child-msg="bbb"&gt;&lt;/child&gt;</span></span><br><span class="line"><span class="string">         &lt;/div&gt;</span></span><br><span class="line"><span class="string">         `</span>,</span><br><span class="line">   components: &#123;</span><br><span class="line">     child: childNode</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure></p><h2 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h2><p>   对于 props 声明的属性，在父组件的 template 模板中，属性名需要使用中划线写法；</p><p>   子组件 props 属性声明时，使用小驼峰或者中划线写法都可以；而子组件的模板使用从父组件传来的变量时，需要使用对应的小驼峰写法。别担心，Vue 能够正确识别出小驼峰和下划线命名法混用的变量，如这里的forChildMsg和for-child-msg是同一值。</p><h1 id="动态-props"><a href="#动态-props" class="headerlink" title="动态 props"></a>动态 props</h1><p>  在模板中，要动态地绑定父组件的数据到子组件模板的 props，和绑定 Html 标签特性一样，使用v-bind绑定；</p><p>  基于上述静态 props 的代码，这次只需要改动父组件：<br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> parentNode = &#123;</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div&gt;</span></span><br><span class="line"><span class="string">          &lt;p&gt;parentNode&lt;/p&gt;</span></span><br><span class="line"><span class="string">          &lt;child :for-child-msg="childMsg1"&gt;&lt;/child&gt;</span></span><br><span class="line"><span class="string">          &lt;child :for-child-msg="childMsg2"&gt;&lt;/child&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">        `</span>,</span><br><span class="line">  components: &#123;</span><br><span class="line">    child: childNode</span><br><span class="line">  &#125;,</span><br><span class="line">  data: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      childMsg1: <span class="string">"Dynamic props msg for child-1"</span>,</span><br><span class="line">      childMsg2: <span class="string">"Dynamic props msg for child-2"</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br>  在父组件的 data 的 return 数据中的 childMsg1 和 childMsg2 会被传入子组件中</p><h1 id="props-验证"><a href="#props-验证" class="headerlink" title="props 验证"></a>props 验证</h1><p>  验证传入的 props 参数的数据规格，如果不符合数据规格，Vue 会发出警告。</p><blockquote><p>能判断的所有种类（也就是 type 值）有：String, Number, Boolean, Function, Object, Array, Symbol</p></blockquote>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">"example"</span>, &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    <span class="comment">// 基础类型检测, null意味着任何类型都行</span></span><br><span class="line">    propA: <span class="built_in">Number</span>,</span><br><span class="line">    <span class="comment">// 多种类型</span></span><br><span class="line">    propB: [<span class="built_in">String</span>, <span class="built_in">Number</span>],</span><br><span class="line">    <span class="comment">// 必传且是String</span></span><br><span class="line">    propC: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      required: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 数字有默认值</span></span><br><span class="line">    propD: &#123;</span><br><span class="line">      type: <span class="built_in">Number</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="number">101</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 数组、默认值是一个工厂函数返回对象</span></span><br><span class="line">    propE: &#123;</span><br><span class="line">      type: <span class="built_in">Object</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"propE default invoked."</span>);</span><br><span class="line">        <span class="keyword">return</span> &#123; <span class="attr">message</span>: <span class="string">"I am from propE."</span> &#125;;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 自定义验证函数</span></span><br><span class="line">    propF: &#123;</span><br><span class="line">      isValid: <span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> value &gt; <span class="number">100</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">let</span> childNode = &#123;</span><br><span class="line">  template: <span class="string">"&lt;div&gt;&#123;&#123;forChildMsg&#125;&#125;&lt;/div&gt;"</span>,</span><br><span class="line">  props: &#123;</span><br><span class="line">    <span class="string">"for-child-msg"</span>: <span class="built_in">Number</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> parentNode = &#123;</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">          &lt;div class="parent"&gt;</span></span><br><span class="line"><span class="string">            &lt;child :for-child-msg="msg"&gt;&lt;/child&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;</span></span><br><span class="line"><span class="string">        `</span>,</span><br><span class="line">  components: &#123;</span><br><span class="line">    child: childNode</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="comment">// 当这里是字符串 "123456"时会报错</span></span><br><span class="line">      msg: <span class="number">123456</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>  还可以在 props 定义的数据中加入自定义验证函数，当函数返回 false 时，输出警告。</p><p>  比如我们把上述例子中的 childNode 的for-child-msg修改成一个对象，并包含一个名叫validator的函数，该命名是规定叫validator的，自定义函数名不会生效。</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> childNode = &#123;</span><br><span class="line">  template: <span class="string">"&lt;div&gt;&#123;&#123;forChildMsg&#125;&#125;&lt;/div&gt;"</span>,</span><br><span class="line">  props: &#123;</span><br><span class="line">    <span class="string">"for-child-msg"</span>: &#123;</span><br><span class="line">      validator: <span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> value &gt; <span class="number">100</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>  在这里我们给for-child-msg变量设置了validator函数，并且要求传入的值必须大于 100，否则报出警告。</p><h1 id="单向数据流"><a href="#单向数据流" class="headerlink" title="单向数据流"></a>单向数据流</h1><p>  props 是单向绑定的：当父组件的属性变化时，将传导给子组件，但是不会反过来。这是为了防止子组件五一修改父组件的状态。</p><p>  所以不应该在子组件中修改 props 中的值，Vue 会报出警告。<br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> childNode = &#123;</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">          &lt;div class="child"&gt;</span></span><br><span class="line"><span class="string">            &lt;div&gt;</span></span><br><span class="line"><span class="string">              &lt;span&gt;子组件数据&lt;/span&gt;</span></span><br><span class="line"><span class="string">              &lt;input v-model="forChildMsg"/&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;p&gt;&#123;&#123;forChildMsg&#125;&#125;&lt;/p&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;`</span>,</span><br><span class="line">  props: &#123;</span><br><span class="line">    <span class="string">"for-child-msg"</span>: <span class="built_in">String</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> parentNode = &#123;</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">          &lt;div class="parent"&gt;</span></span><br><span class="line"><span class="string">            &lt;div&gt;</span></span><br><span class="line"><span class="string">              &lt;span&gt;父组件数据&lt;/span&gt;</span></span><br><span class="line"><span class="string">              &lt;input v-model="msg"/&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;p&gt;&#123;&#123;msg&#125;&#125;&lt;/p&gt;</span></span><br><span class="line"><span class="string">            &lt;child :for-child-msg="msg"&gt;&lt;/child&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;</span></span><br><span class="line"><span class="string">        `</span>,</span><br><span class="line">  components: &#123;</span><br><span class="line">    child: childNode</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      msg: <span class="string">"default string."</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br>  这里我们给父组件和子组件都有一个输入框，并且显示出父组件数据和子组件的数据。当我们在父组件的输入框输入新数据时，同步的子组件数据也被修改了；这就是 props 的向子组件传递数据。而当我们修改子组件的输入框时，浏览器的控制台则报出错误警告</p><blockquote><p>[Vue warn]: Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop’s value. Prop being mutated: “forChildMsg”</p></blockquote><h1 id="修改-props-数据"><a href="#修改-props-数据" class="headerlink" title="修改 props 数据"></a>修改 props 数据</h1><ul><li><p>通常有两种原因：</p><ol><li>prop 作为初始值传入后，子组件想把它当做局部数据来用</li><li>prop 作为初始值传入后，由子组件处理成其他数据输出</li></ol></li><li><p>应对办法是</p><ol><li><p>定义一个局部变量，并用 prop 的值初始化它</p><p>但是由于定义的 ownChildMsg 只能接受 forChildMsg 的初始值，当父组件要传递的值变化发生时，ownChildMsg 无法收到更新。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">let</span> childNode = &#123;</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">          &lt;div class="child"&gt;</span></span><br><span class="line"><span class="string">            &lt;div&gt;</span></span><br><span class="line"><span class="string">              &lt;span&gt;子组件数据&lt;/span&gt;</span></span><br><span class="line"><span class="string">              &lt;input v-model="forChildMsg"/&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;p&gt;&#123;&#123;forChildMsg&#125;&#125;&lt;/p&gt;</span></span><br><span class="line"><span class="string">            &lt;p&gt;ownChildMsg : &#123;&#123;ownChildMsg&#125;&#125;&lt;/p&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;`</span>,</span><br><span class="line">  props: &#123;</span><br><span class="line">    <span class="string">"for-child-msg"</span>: <span class="built_in">String</span></span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">ownChildMsg</span>: <span class="keyword">this</span>.forChildMsg &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>这里我们加了一个&lt;p&gt;用于查看 ownChildMsg 数据是否变化，结果发现只有默认值传递给了 ownChildMsg，父组件改变只会变化到 forChildMsg，不会修改 ownChildMsg。</p></li><li><p>定义一个计算属性，处理 prop 的值并返回</p><p>由于是计算属性，所以只能显示值，不能设置值。我们这里设置的是一旦从父组件修改了 forChildMsg 数据，我们就把 forChildMsg 加上一个字符串”—ownChildMsg”，然后显示在屏幕上。这时是可以每当父组件修改了新数据，都会更新 ownChildMsg 数据的。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> childNode = &#123;</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">          &lt;div class="child"&gt;</span></span><br><span class="line"><span class="string">            &lt;div&gt;</span></span><br><span class="line"><span class="string">              &lt;span&gt;子组件数据&lt;/span&gt;</span></span><br><span class="line"><span class="string">              &lt;input v-model="forChildMsg"/&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;p&gt;&#123;&#123;forChildMsg&#125;&#125;&lt;/p&gt;</span></span><br><span class="line"><span class="string">            &lt;p&gt;ownChildMsg : &#123;&#123;ownChildMsg&#125;&#125;&lt;/p&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;`</span>,</span><br><span class="line">  props: &#123;</span><br><span class="line">    <span class="string">"for-child-msg"</span>: <span class="built_in">String</span></span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    ownChildMsg() &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.forChildMsg + <span class="string">"---ownChildMsg"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li><p>更加妥帖的方式是使用变量存储 prop 的初始值，并用 watch 来观察 prop 值得变化。发生变化时，更新变量的值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> childNode = &#123;</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">          &lt;div class="child"&gt;</span></span><br><span class="line"><span class="string">            &lt;div&gt;</span></span><br><span class="line"><span class="string">              &lt;span&gt;子组件数据&lt;/span&gt;</span></span><br><span class="line"><span class="string">              &lt;input v-model="forChildMsg"/&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;p&gt;&#123;&#123;forChildMsg&#125;&#125;&lt;/p&gt;</span></span><br><span class="line"><span class="string">            &lt;p&gt;ownChildMsg : &#123;&#123;ownChildMsg&#125;&#125;&lt;/p&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;`</span>,</span><br><span class="line">  props: &#123;</span><br><span class="line">    <span class="string">"for-child-msg"</span>: <span class="built_in">String</span></span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      ownChildMsg: <span class="keyword">this</span>.forChildMsg</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    forChildMsg() &#123;</span><br><span class="line">      <span class="keyword">this</span>.ownChildMsg = <span class="keyword">this</span>.forChildMsg;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></li></ul>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue中的报错信息</title>
      <link href="/vue%E4%B8%AD%E7%9A%84%E6%8A%A5%E9%94%99%E4%BF%A1%E6%81%AF/"/>
      <url>/vue%E4%B8%AD%E7%9A%84%E6%8A%A5%E9%94%99%E4%BF%A1%E6%81%AF/</url>
      
        <content type="html"><![CDATA[<h1 id="props"><a href="#props" class="headerlink" title="props"></a>props</h1><ol><li>props:父组件向子组件传值问题，<code>属性或方法”showisFlag”不是在渲染上定义的实例,但被引用了。</code><br><strong>下面的大意是：属性或方法“ showisFlag”不是在实例上定义的，而被引用了。 通过初始化属性，确保该属性是反应性的，无论是在 data 选项中，还是在基于类的组件中。</strong><br>出现问题的地方有可能是父组件传值写错了<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Property or method &quot;showisFlag&quot; is not defined on the instance but referenced during render. Make sure that this property is reactive, either in the data option, or for class-based components, by initializing the property. value</span><br></pre></td></tr></table></figure>Prop</li><li>props:子组件修改了父组件通过prop传过来的值<br><strong>避免直接修改prop，因为每当父组件重新呈现时，该值都会被覆盖。 替代，使用数据 或计算属性的基础上的prop的value。 Prop中“ btnCount” 被修改</strong><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Avoid mutatproping a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop&#39;s value. Prop being mutated: &quot;btnCount&quot;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>flex布局</title>
      <link href="/flex%E5%B8%83%E5%B1%80/"/>
      <url>/flex%E5%B8%83%E5%B1%80/</url>
      
        <content type="html"><![CDATA[<h1 id="传统布局和flex布局对比"><a href="#传统布局和flex布局对比" class="headerlink" title="传统布局和flex布局对比"></a>传统布局和flex布局对比</h1><ol><li>传统布局<ul><li>兼容性好</li><li>布局繁琐</li><li>局限性，不能再移动端很好的布局</li></ul></li><li>flex布局<ul><li>操作方便，布局极其简单，移动端使用比较广泛</li><li>pc端浏览器支持情况比较差</li><li>IE11或更低版本不支持flex或仅支持部分</li></ul></li><li>建议<ul><li>如果是pc端页面布局，还是采用传统方式</li><li>如果是移动端或者是不考虑兼容的pc则采用flex</li></ul></li></ol><h1 id="flex布局原理"><a href="#flex布局原理" class="headerlink" title="flex布局原理"></a>flex布局原理</h1><ol><li>flex 是 flexible Box 的缩写，意为”弹性布局”，用来为盒状模型提供最大的灵活性，任何一个容器都可以指定为 flex 布局。</li><li>当我们为父盒子设为 flex 布局以后，子元素的 float、clear 和 vertical-align 属性将失效。</li><li>flex布局又叫伸缩布局 、弹性布局 、伸缩盒布局 、弹性盒布局 </li><li>采用 Flex 布局的元素，称为 Flex 容器（flex container），简称”容器”。它的所有子元素自动成为容器成员，称为 Flex 项目（flex<br>item），简称”项目”。<br><strong>总结</strong>：就是通过给父盒子添加flex属性，来控制子盒子的位置和排列方式</li></ol><h1 id="父项常见属性"><a href="#父项常见属性" class="headerlink" title="父项常见属性"></a>父项常见属性</h1><ul><li>flex-direction：设置主轴的方向</li><li>justify-content：设置主轴上的子元素排列方式</li><li>flex-wrap：设置子元素是否换行</li><li>align-content：设置侧轴上的子元素的排列方式（多行）</li><li>align-items：设置侧轴上的子元素排列方式（单行）</li><li>flex-flow：复合属性，相当于同时设置了 flex-direction 和 flex-wrap</li></ul><h2 id="flex-direction设置主轴的方向"><a href="#flex-direction设置主轴的方向" class="headerlink" title="flex-direction设置主轴的方向"></a>flex-direction设置主轴的方向</h2><ul><li>在 flex 布局中，是分为主轴和侧轴两个方向，同样的叫法有 ： 行和列、x 轴和y轴</li><li>默认主轴方向就是 x 轴方向，水平向右</li><li>默认侧轴方向就是 y 轴方向，水平向下<br><img src="../image/flex1.jpg" alt=""></li><li>注意： 主轴和侧轴是会变化的，就看 flex-direction 设置谁为主轴，剩下的就是侧轴。而我们的子元素是跟着主轴来排列的<br><img src="../image/flex2.jpg" alt=""></li></ul><h2 id="justify-content-设置主轴上的子元素排列方式"><a href="#justify-content-设置主轴上的子元素排列方式" class="headerlink" title="justify-content 设置主轴上的子元素排列方式"></a>justify-content 设置主轴上的子元素排列方式</h2><p>   <img src="../image/flex3.jpg" alt=""></p><h2 id="flex-wrap设置是否换行"><a href="#flex-wrap设置是否换行" class="headerlink" title="flex-wrap设置是否换行"></a>flex-wrap设置是否换行</h2><ul><li>默认情况下，项目都排在一条线（又称”轴线”）上。flex-wrap属性定义，flex布局中默认是不换行的。</li><li>nowrap 不换行</li><li>wrap 换行</li></ul><h2 id="align-items-设置侧轴上的子元素排列方式（单行）"><a href="#align-items-设置侧轴上的子元素排列方式（单行）" class="headerlink" title="align-items 设置侧轴上的子元素排列方式（单行）"></a>align-items 设置侧轴上的子元素排列方式（单行）</h2><ul><li>该属性是控制子项在侧轴（默认是y轴）上的排列方式  在子项为单项（单行）的时候使用</li><li>flex-start 从头部开始</li><li>flex-end 从尾部开始</li><li>center 居中显示</li><li>stretch 拉伸（注意：子元素不要给高度）</li></ul><h2 id="align-content-设置侧轴上的子元素的排列方式（多行）"><a href="#align-content-设置侧轴上的子元素的排列方式（多行）" class="headerlink" title="align-content  设置侧轴上的子元素的排列方式（多行）"></a>align-content  设置侧轴上的子元素的排列方式（多行）</h2><p>   设置子项在侧轴上的排列方式 并且只能用于子项出现 换行 的情况（多行），在单行下是没有效果的。<br>   <img src="../image/flex4.jpg" alt=""></p><h2 id="align-content-和align-items区别"><a href="#align-content-和align-items区别" class="headerlink" title="align-content 和align-items区别"></a>align-content 和align-items区别</h2><ul><li>align-items  适用于单行情况下， 只有上对齐、下对齐、居中和 拉伸</li><li>align-content适应于换行（多行）的情况下（单行情况下无效）， 可以设置 上对齐、下对齐、居中、拉伸以及平均分配剩余空间等属性值。 </li><li>总结就是单行找align-items  多行找 align-content</li></ul><h2 id="flex-flow-属性是-flex-direction-和-flex-wrap-属性的复合属性"><a href="#flex-flow-属性是-flex-direction-和-flex-wrap-属性的复合属性" class="headerlink" title="flex-flow 属性是 flex-direction 和 flex-wrap 属性的复合属性"></a>flex-flow 属性是 flex-direction 和 flex-wrap 属性的复合属性</h2>   <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">flex-flow</span><span class="selector-pseudo">:row</span> <span class="selector-tag">wrap</span>;</span><br></pre></td></tr></table></figure><h1 id="flex布局子项常见属性"><a href="#flex布局子项常见属性" class="headerlink" title="flex布局子项常见属性"></a>flex布局子项常见属性</h1><ul><li>flex子项目占的份数</li><li>align-self控制子项自己在侧轴的排列方式</li><li>order属性定义子项的排列顺序（前后顺序）</li></ul><h2 id="flex-grow属性"><a href="#flex-grow属性" class="headerlink" title="flex-grow属性"></a>flex-grow属性</h2><p> <code>flex-grow</code>属性定义项目的放大比例，默认为<code>0</code>，即如果存在剩余空间，也不放大。</p><ol><li>flex-grow决定flex items 如何扩展，可以设置任意非负数字（正小数、正数、0），默认值是0，当flex container 在主轴方向上有剩余的size时，flex-grow 属性才会有效</li><li>如果所有的 flex items 的 flex-grow 总和 sum 超过 1 ，每个 flex item 扩展的距离为 flex container 的剩余size * flex-grow / sum</li><li>如果所有 flex items 的 flex-grow 总和不超过 1， 每个 flex item 扩展距离为 flex container 的剩余 size * flex-grow</li></ol><h2 id="flex-shrink属性"><a href="#flex-shrink属性" class="headerlink" title="flex-shrink属性"></a>flex-shrink属性</h2><p> <code>flex-shrink</code>属性定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小。</p><ol><li>flex-shrink 决定了flex items 如何收缩,可以设置任意非负数字（正小数，正整数.0），默认但是1，当flex items 在主轴方向上超过了flex container 的size,flex-shrink 属性才会有效</li><li>如果所有flex items的flex-shrink 总和超过1，每个flex item 收缩的size为flex items 超出 flex container的size * 收缩比例/所有flex items 的收缩比例之和</li><li>如果所有flex items的flex-shrink 总和sum 不超过1，每个flex item 收缩的size为，flex items 超出flex container的size * item收缩比例</li></ol><h2 id="flex-basis属性"><a href="#flex-basis属性" class="headerlink" title="flex-basis属性"></a>flex-basis属性</h2><p> <code>flex-basis</code>属性定义了在分配多余空间之前，项目占据的主轴空间（main size）。浏览器根据这个属性，计算主轴是否有多余空间。它的默认值为<code>auto</code>，即项目的本来大小。</p><ol><li>flex-basis 用来设置 flex items 在主轴方向上的 item 的尺寸， auto(默认值）、具体的宽度数值（100px）</li><li>优先级： flex-basis &gt; 自身定义的width或height</li></ol><h2 id="flex-属性"><a href="#flex-属性" class="headerlink" title="flex 属性"></a>flex 属性</h2><p>  flex属性是flex-grow, flex-shrink 和 flex-basis的简写，默认值为0 1 auto。后两个属性可选。<br>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">   <span class="attribute">flex</span>: none | [ &lt;<span class="string">'flex-grow'</span>&gt; &lt;<span class="string">'flex-shrink'</span>&gt;? || &lt;<span class="string">'flex-basis'</span>&gt; ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><ol><li>flex是flex-grow || fex-shrink || flex-basis 的简写，flex属性可以指定1个，2个或3个值。</li><li>单值语法：值必须为以下其中之一:<ul><li>一个无单位数（&lt;number&gt;）：它会被当作&lt;flex-grow&gt;的值。</li><li>一个有效的宽度（width)值：它会被当作&lt;flex-basis&gt;的值。</li><li>关键字none，auto流Initial.</li></ul></li><li>双值语法：<ul><li>第一个值必须为一个无单位数，并且它会被当作&lt;flex-grow&gt;的值。</li><li>第二个值必须为以下之一：一个无单位数：它会被当作&lt;flex-shrink&gt;的值，一个有效的宽度值它会被当作&lt;flex-basis&gt;的值。</li></ul></li><li>三值语法：<ul><li>第一个值必须为一个无单位数，并且它会被当作&lt;flex-grow&gt;的值。</li><li>第二个值必须为一个无单位数，并且它会被当作&lt;flex-shrink&gt;的值。</li><li>第三个值必须为一个有效的宽度值，并且它会被当作&lt;flex-basis&gt;的值。</li></ul></li></ol><h2 id="align-self控制子项自己在侧轴上的排列方式"><a href="#align-self控制子项自己在侧轴上的排列方式" class="headerlink" title="align-self控制子项自己在侧轴上的排列方式"></a>align-self控制子项自己在侧轴上的排列方式</h2><p>   align-self 属性允许单个项目有与其他项目不一样的对齐方式，可覆盖align-items 属性。默认值为 auto，表示继承父元素的 align-items 属性，如果没有父元素，则等同于 stretch。<br>   <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">span</span><span class="selector-pseudo">:nth-child(2)</span> &#123;</span><br><span class="line">     <span class="comment">/* 设置自己在侧轴上的排列方式 */</span></span><br><span class="line">     <span class="attribute">align-self</span>: flex-end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="order-属性定义项目的排列顺序"><a href="#order-属性定义项目的排列顺序" class="headerlink" title="order 属性定义项目的排列顺序"></a>order 属性定义项目的排列顺序</h2><p>   数值越小，排列越靠前，默认为0。<br>   注意：和 z-index 不一样。<br>   <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-class">.item</span> &#123;</span><br><span class="line">    <span class="attribute">order</span>: &lt;number&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>width和height</title>
      <link href="/width%E5%92%8Cheight/"/>
      <url>/width%E5%92%8Cheight/</url>
      
        <content type="html"><![CDATA[<h2 id="width"><a href="#width" class="headerlink" title="width"></a>width</h2><ol><li>width的默认值是auto, 只要给块级元素设置了height值，没有设置width，子元素相对于父元素宽度自适应。(如果父元素启动flex布局，子元素没有设置宽度，子元素将不有auto的属性特征，而是为0)</li></ol><h2 id="height"><a href="#height" class="headerlink" title="height"></a>height</h2><ol><li>height的默认值是auto, 如果没有内容，则值为0。子div脱离文档流后不会撑起父div宽高。(如果父元素启动flex布局，子元素没有设置高度，也会继承父元素的高度)</li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mock设置</title>
      <link href="/mock%E8%AE%BE%E7%BD%AE/"/>
      <url>/mock%E8%AE%BE%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="本地创建json"><a href="#本地创建json" class="headerlink" title="本地创建json"></a>本地创建json</h2><ol><li><p>在本地创建一个json文件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"status"</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">"data"</span>: &#123;</span><br><span class="line">    <span class="string">"id"</span>: <span class="number">12</span>,</span><br><span class="line">    <span class="string">"username"</span>: <span class="string">"admin"</span>,</span><br><span class="line">    <span class="string">"email"</span>: <span class="string">"admin@51purse.com"</span>,</span><br><span class="line">    <span class="string">"phone"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="string">"role"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">"createTime"</span>: <span class="number">1479048325000</span>,</span><br><span class="line">    <span class="string">"updateTime"</span>: <span class="number">1479048325000</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>调用数据接口</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 请求地址为login.jsonde</span></span><br><span class="line"> <span class="keyword">this</span>.axios.get(<span class="string">'/mock/user/login.json'</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res) </span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure></li><li><p>缺点</p><ul><li>接口开发完毕后，项目还需要改变接口代码</li></ul></li></ol><h2 id="easy-mock平台"><a href="#easy-mock平台" class="headerlink" title="easy-mock平台"></a>easy-mock平台</h2><ol><li>把接口布置到线上<a href="https://www.easy-mock.com/login" target="_blank" rel="noopener">easy-mock</a></li><li>调用数据接口<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.axios.get(<span class="string">' https://www.easy-mock.com/mock/5ed0eef80a252f635207744b/example/login'</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure></li><li>缺点<ul><li>虽然easy-mock平台，部署接口以后，不用再大量更改程序代码，但是由于是免费为我提供服务的，有时候会发生网络中断的现象，我们推荐<a href="https://wormnimaya.github.io/%E6%9C%AC%E5%9C%B0%E9%85%8D%E7%BD%AEeasy-mock/">部署本地easy-mock</a></li></ul></li></ol><h2 id="集成Mock-API"><a href="#集成Mock-API" class="headerlink" title="集成Mock API"></a>集成Mock API</h2><ol><li>安装mockjs<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install mockjs -D</span><br></pre></td></tr></table></figure></li><li>新建数据文件<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Mock <span class="keyword">from</span> <span class="string">'mockjs'</span></span><br><span class="line"></span><br><span class="line">Mock.mock(<span class="string">'/user/login'</span>, &#123;</span><br><span class="line">   <span class="string">"status"</span>: <span class="number">0</span>,</span><br><span class="line">   <span class="string">"data"</span>: &#123;</span><br><span class="line">     <span class="string">"id"</span>: <span class="number">12</span>,</span><br><span class="line">     <span class="string">"username"</span>: <span class="string">"admin"</span>,</span><br><span class="line">     <span class="string">"email"</span>: <span class="string">"admin@51purse.com"</span>,</span><br><span class="line">     <span class="string">"phone"</span>: <span class="literal">null</span>,</span><br><span class="line">     <span class="string">"role"</span>: <span class="number">0</span>,</span><br><span class="line">     <span class="string">"createTime"</span>: <span class="number">1479048325000</span>,</span><br><span class="line">     <span class="string">"updateTime"</span>: <span class="number">1479048325000</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li>在main.js配置<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mock = <span class="literal">true</span></span><br><span class="line"><span class="keyword">if</span>(mock) &#123;</span><br><span class="line">  <span class="built_in">require</span>(<span class="string">'./mock/api'</span>) </span><br><span class="line">  <span class="comment">// import在编译的时候就加载，require执行的时候才加载，这里适合用require</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>调用数据<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.axios.get(<span class="string">'/user/login'</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mock </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue环境接口设置</title>
      <link href="/vue%E7%8E%AF%E5%A2%83%E6%8E%A5%E5%8F%A3%E8%AE%BE%E7%BD%AE/"/>
      <url>/vue%E7%8E%AF%E5%A2%83%E6%8E%A5%E5%8F%A3%E8%AE%BE%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<ol><li><p>开发上线的不同阶段， 需要不同的配置</p><ul><li><p>在src目录下创建一个env.js的文件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> baseURL; <span class="comment">// 不同阶段，url地址不同</span></span><br><span class="line"><span class="keyword">switch</span> (process.env.NODE_ENV) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'development'</span>:</span><br><span class="line">    baseURL = <span class="string">'http://dev-mall-pre.springboot.cn/api'</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'test'</span>:</span><br><span class="line">    baseURL = <span class="string">'http://test-mall-pre.springboot.cn/api'</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'prev'</span>:</span><br><span class="line">    baseURL = <span class="string">'http://prev-mall-pre.springboot.cn/api'</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'prod'</span>:</span><br><span class="line">    baseURL = <span class="string">'http://mall-pre.springboot.cn/api'</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    baseURL = <span class="string">'http://mall-pre.springboot.cn/api'</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  baseURL</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>在packjson文件中配置mode</p><blockquote><p>注意： 在根目录创建.env.[mode]</p></blockquote><p>mode中自带三种阶段分别是development，test， production，如果想创建mode， 可以在根部以<code>.env.mode名称</code>形式创建配置文件，在配置文件中编辑NODE_ENV=’mode名称’，这样process.env.NODE_ENV就能取到设置的mode名称，例如：.env.prev在配置中NODE_ENV=’prev’</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">  <span class="string">"serve"</span>: <span class="string">"vue-cli-service serve --mode=test"</span>,</span><br><span class="line">  <span class="string">"test"</span>: <span class="string">"vue-cli-service serve --mode=test"</span>,</span><br><span class="line">  <span class="string">"prev"</span>: <span class="string">"vue-cli-service serve --mode=prev"</span>,</span><br><span class="line">  <span class="string">"build"</span>: <span class="string">"vue-cli-service build --mode=production"</span>,</span><br><span class="line">  <span class="string">"lint"</span>: <span class="string">"vue-cli-service lint"</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li><li><p>在main.js中使用env.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> env <span class="keyword">from</span> <span class="string">'./env'</span></span><br><span class="line">axios.defaults.baseURL = env.baseURL; <span class="comment">// 不同阶段请求地址不同</span></span><br></pre></td></tr></table></figure></li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>axios接口拦截</title>
      <link href="/axios%E6%8E%A5%E5%8F%A3%E6%8B%A6%E6%88%AA/"/>
      <url>/axios%E6%8E%A5%E5%8F%A3%E6%8B%A6%E6%88%AA/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.jianshu.com/p/646ed4edf51f" target="_blank" rel="noopener">axios拦截器接口配置与使用</a><br><a href="http://www.axios-js.com/zh-cn/docs/" target="_blank" rel="noopener">官方文档</a></p><h2 id="安装axios"><a href="#安装axios" class="headerlink" title="安装axios"></a>安装axios</h2> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install axios vue-axios -S</span><br></pre></td></tr></table></figure><h2 id="在main-js配置axios"><a href="#在main-js配置axios" class="headerlink" title="在main.js配置axios"></a>在main.js配置axios</h2>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"><span class="keyword">import</span> VueAxios <span class="keyword">from</span> <span class="string">'vue-axios'</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueAxios, axios)</span><br><span class="line"><span class="comment">// 请求基本路径</span></span><br><span class="line">axios.defaults.baseURL = <span class="string">''</span></span><br><span class="line"><span class="comment">// 如果请求花费了超过 `timeout` 的时间，请求将被中断</span></span><br><span class="line">axios.defaults.timeout = <span class="number">8000</span></span><br><span class="line"><span class="comment">// 响应拦截</span></span><br><span class="line">axios.interceptors.response.use(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> res = response.data</span><br><span class="line">  <span class="keyword">if</span> (res.status === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> res.data</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(res.status === <span class="number">10</span>) &#123;</span><br><span class="line">    <span class="built_in">window</span>.location.href = <span class="string">'/#/login'</span></span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    alert(res.msg)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> axios </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>storage的封装</title>
      <link href="/storage%E7%9A%84%E5%B0%81%E8%A3%85/"/>
      <url>/storage%E7%9A%84%E5%B0%81%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<ol><li>封装后的优势:<ul><li>一份数据储存在一个键值对中，便于数据的维护</li><li>封装的函数中实现了对象结构的存储<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span>  STORAGE_KEY = <span class="string">'mall'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">  <span class="comment">// 存储值</span></span><br><span class="line">  setItem(key,value,module_name)&#123;</span><br><span class="line">    <span class="keyword">if</span> (module_name)&#123;</span><br><span class="line">      <span class="keyword">let</span> val = <span class="keyword">this</span>.getItem(module_name);</span><br><span class="line">      val[key] = value;</span><br><span class="line">      <span class="keyword">this</span>.setItem(module_name, val);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">let</span> val = <span class="keyword">this</span>.getStorage();</span><br><span class="line">      val[key] = value;</span><br><span class="line">      <span class="built_in">window</span>.sessionStorage.setItem(STORAGE_KEY, <span class="built_in">JSON</span>.stringify(val));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 获取某一个模块下面的属性user下面的userName</span></span><br><span class="line">  getItem(key,module_name)&#123;</span><br><span class="line">    <span class="keyword">if</span> (module_name)&#123;</span><br><span class="line">      <span class="keyword">let</span> val = <span class="keyword">this</span>.getItem(module_name);</span><br><span class="line">      <span class="keyword">if</span>(val) <span class="keyword">return</span> val[key];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.getStorage()[key];</span><br><span class="line">  &#125;,</span><br><span class="line">  getStorage()&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">JSON</span>.parse(<span class="built_in">window</span>.sessionStorage.getItem(STORAGE_KEY) || <span class="string">'&#123;&#125;'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  clear(key, module_name)&#123;</span><br><span class="line">    <span class="keyword">let</span> val = <span class="keyword">this</span>.getStorage();</span><br><span class="line">    <span class="keyword">if</span> (module_name)&#123;</span><br><span class="line">      <span class="keyword">if</span> (!val[module_name])<span class="keyword">return</span>;</span><br><span class="line">      <span class="keyword">delete</span> val[module_name][key];</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">delete</span> val[key];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">window</span>.sessionStorage.setItem(STORAGE_KEY, <span class="built_in">JSON</span>.stringify(val));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> storage </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cookie没有消失之谜</title>
      <link href="/cookie%E6%B2%A1%E6%9C%89%E6%B6%88%E5%A4%B1%E4%B9%8B%E8%B0%9C/"/>
      <url>/cookie%E6%B2%A1%E6%9C%89%E6%B6%88%E5%A4%B1%E4%B9%8B%E8%B0%9C/</url>
      
        <content type="html"><![CDATA[<p><strong>在谷歌浏览器设置了会话cookie，关闭浏览器会话cookies还在，这是为什么那？</strong></p><ul><li>chrome浏览器的设置是“从上次停下的地方继续”。也就是说我关闭之后再打开会回到关闭之前的状态。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cookie </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cookie、storage与session之间的区别</title>
      <link href="/cookie%E3%80%81storage%E4%B8%8Esession%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
      <url>/cookie%E3%80%81storage%E4%B8%8Esession%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<table align="center"> <tr>  <td></td>  <td>cookie</td>  <td>localStorage</td>  <td>sessionStorage</td>  <td>session</td> </tr> <tr>  <td>存储方式</td>  <td colspan="4">都是key-value存储、同域名可用</td> </tr> <tr>  <td>存储位置</td>  <td>会话cookie储存在浏览器中、持久cookie储存在本地硬盘中</td>  <td>储存在本地硬盘中</td>  <td>储存在浏览器</td>  <td>服务端</td> </tr> <tr>  <td>特点</td>  <td>随请求头每次都进行提交</td>  <td>不随请求头提交，可长时间储存</td>  <td>不随请求头提交，页面关闭即失效</td>  <td>安全</td> </tr> <tr>  <td>是否可以跨页和跨域</td>  <td colspan="2">可跨页，不可跨域</td>  <td>不可跨页，不可跨域</td>  <td>可跨页，不可跨域</td> </tr></table>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cookie </tag>
            
            <tag> session </tag>
            
            <tag> storage </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cookie</title>
      <link href="/cookie/"/>
      <url>/cookie/</url>
      
        <content type="html"><![CDATA[<p>文章转自下面两篇文章<br><a href="https://juejin.im/post/5cbf0749e51d456e781f2023" target="_blank" rel="noopener">3分钟搞懂Cookie与Session</a><br><a href="https://www.jianshu.com/p/e66627122a3e" target="_blank" rel="noopener">本地存储之cookie和storage</a></p><h2 id="cookie存在的意义"><a href="#cookie存在的意义" class="headerlink" title="cookie存在的意义"></a>cookie存在的意义</h2><p>在这咱们就拿一个简单的登录来说，当用户来到我们的登录页面，输入用户名与密码后点击“登录”按钮之后，浏览器将页面上的认证信息通过POST给我们的服务器，当验证通过后，浏览器就会跳转到我们的主页面</p><p>那登录成功之后，我们的服务器又该如何验证用户在别的页面的访问权限呢？因为HTTP协议是无状态的，所以我们的服务器根本就没办法辨别刚刚验证通过的用户，现在发起的请求是不是通过了验证。</p><p>而我们又不能因为HTTP无状态，让用户在每次发起请求的时候，都要输一次账号密码验证，要真这样搞，我想咱家的网站距离倒闭的日子，指日可待啊</p><p>那总得想办法解决吧，最简单的方案就是所有的请求里都带上用户名与密码，虽然可行，但是大大的加大了我们服务器的负担，这回咱家公司是买服务器买倒闭的。。。<br>那么只要客户端或者服务器中保存着可以代表身份的信息，那这样我们就不需要每次都验证用户名与密码了，有了这个身份信息，我们就可以辨别，发起请求的用户是不是已经通过验证了，这就有了Cookie</p><p>总结： 因为Http协议无状态，在需要识别状态的时候，需要借助外力来辨别，而这个外力就是Cookie</p><h2 id="什么是cookie"><a href="#什么是cookie" class="headerlink" title="什么是cookie"></a>什么是cookie</h2><p> Cookie是存储在用户本地计算机上，用于保存一些用户操作的历史信息，当用户再次访问我们的服务器的时候，浏览器通过HTTP协议，将他们本地的Cookie内容也发到咱们服务器上，从而完成验证</p><p> Cookie又分为了会话Cookie与持久Cookie，要区分这两种类型，非常的简单，持久Cookie就是我们设置了它的过期时间，而没设置过期时间的，都属于会话Cookie，会话Cookie，当浏览器关闭后将会丢失，事实上这些cookie仅存储在内存中，而没有建立相应的硬盘文件。</p><h2 id="cookie的特点"><a href="#cookie的特点" class="headerlink" title="cookie的特点"></a>cookie的特点</h2><ul><li>cookie可能被禁用，当用户非常注重个人隐私保护时，他很可能禁用浏览器的cookie功能</li><li>发送http请求时会把cookie放在请求头中，服务器通过cookie来了解客户端状态</li><li>大小限制4k左右，低版本浏览器会有数量的限制</li><li>可以设置有效时间，超过时间就会消失</li><li>安全性不够高，所有的cookie都是以纯文本形式记录与文件中，因此保存用户名和密码等重要信息最好事先加密处理</li><li>有路径的概念，可以限制cookie在某个路径下</li><li>在同源窗口中都是共享的</li><li>cookie是与浏览器相关的，即使是同一个页面，不同浏览器之间所保存cookie的也不能相互访问的</li><li>每个cookie都是硬盘上的一个文件，因此很可能被用户删除</li></ul><h2 id="cookie使用"><a href="#cookie使用" class="headerlink" title="cookie使用"></a>cookie使用</h2><ol><li><p>设置cookie:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">document.cookie &#x3D; &quot;name&#x3D;aimi; age&#x3D;20;&quot;  &#x2F;* 存储多个名&#x2F;值对，用分号加空格（; ）隔开 *&#x2F;</span><br><span class="line"></span><br><span class="line">document.cookie&#x3D;&quot;str&#x3D;&quot;+escape(&quot;I love ajax&quot;); &#x2F;&#x2F; 使用escape()函数</span><br></pre></td></tr></table></figure></li><li><p>获取cookie:<br><strong>在cookie的名/值中不能使用分号、逗号、等号以及空格。</strong><br>在cookie的名中做到很容易，但在保存的值中是不确定的，所以用escape()函数进行编码，它能将一些特殊符号使用十六进制表示，例如空格将会编码为“20%”，从而可以存储cookie值中，而且使用此种方案还可以避免中文乱码的出现。在取出值后用unescape()进行解码就可以得到原来保存的值。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var strCookie &#x3D; document.cookie;</span><br><span class="line"></span><br><span class="line">var strCookie &#x3D; unescape(document.cookie); &#x2F;&#x2F; unescape()进行解码</span><br></pre></td></tr></table></figure></li><li><p>设置保存有效期：<br>没有设置时间的cookie都是单会话，当浏览器关闭后将会丢失，事实上这些cookie仅存储在内存中，而没有建立相应的硬盘文件。<br><strong>格式：document.cookie = “name=value; expiress=GMT_String”; /* GMT_String 是以GMT格式表示的时间字符串</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var expiresDays &#x3D; 30; &#x2F;* 30天之后过期 *&#x2F;</span><br><span class="line">var data &#x3D; new Date().getTime()+expiresDays*24*3600*1000；</span><br><span class="line">document.cookie &#x3D; &quot;name&#x3D;aimi; expires&#x3D;&quot; + date.toGMTString();</span><br></pre></td></tr></table></figure></li><li><p>删除有效期cookie:<br>为了删除一个cookie，可以将其过期时间设定为一个过去的时间。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var date&#x3D;new Date();  &#x2F;&#x2F;获取当前时间</span><br><span class="line">date.setTime(date.getTime()-10000);  &#x2F;&#x2F;将date设置为过去的时间</span><br><span class="line">document.cookie&#x3D;&quot;userId&#x3D;828; expires&#x3D;&quot;+date.toGMTString(); &#x2F;&#x2F;将userId这个cookie删除</span><br></pre></td></tr></table></figure></li><li><p>指定cookie可访问的路径：</p><ul><li>默认情况下，如果在某个页面创建一个cookie,那么该页面所在目录中的其他页面也可以访问该cookie,如果这个目录下还有子目录，则在子目录中也可以访问。例如在<a href="http://www.xxxx.com/html/a.html中所创建的cookie，可以被www.xxxx.com/html/b.html或" target="_blank" rel="noopener">www.xxxx.com/html/a.html中所创建的cookie，可以被www.xxxx.com/html/b.html或</a> <a href="http://www.xxx.com/" target="_blank" rel="noopener">www.xxx.com/</a> html/ some/c.html所访问，但不能被<a href="http://www.xxxx.com/d.html访问。" target="_blank" rel="noopener">www.xxxx.com/d.html访问。</a></li><li>为了控制cookie可访问的目录，需要使用path参数设置cookie,<br>doment.cookie = “name=value; path=cookieDir”; 其中cookieDir表示可访问cookie的目录。例如：document.cookie=”userId=320; path=/shop”;就表示当前cookie仅能在shop目录下使用。<br>如果要使cookie在整个网站下可用，可以将cookie_dir指定为根目录。</li></ul></li><li><p>指定可访问cookie的主机名：<br>和 路径类似，主机名是指同一个域下的不同主机，例如：<a href="http://www.google.com和gmail.google.com就是两个不同的主机名。默认情况下，" target="_blank" rel="noopener">www.google.com和gmail.google.com就是两个不同的主机名。默认情况下，</a> 一个主机中创建的cookie在另一个主机下是不能被访问的，但可以通过domain参数来实现对其的控制，其语法格式为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.cookie&#x3D;&quot;name&#x3D;value; domain&#x3D;cookieDomain&quot;;</span><br></pre></td></tr></table></figure><p>以google为例，要实现跨主机访问，可以写为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.cookie&#x3D;&quot;name&#x3D;value;domain&#x3D;.google.com&quot;;</span><br></pre></td></tr></table></figure><p>这样，所有google.com下的主机都可以访问该cookie。</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cookie </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>本地存储</title>
      <link href="/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/"/>
      <url>/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/</url>
      
        <content type="html"><![CDATA[<p>随着互联网的快速发展，基于网页的应用越来越普遍，同时也变的越来越复杂，为了满足各种各样的需求，会经常性在本地存储大量的数据，HTML5规范提出了相关解决方案。</p><h2 id="本地存储特性"><a href="#本地存储特性" class="headerlink" title="本地存储特性"></a>本地存储特性</h2><ol><li>数据存储在用户浏览器中</li><li>设置、读取方便、甚至页面刷新不丢失数据</li><li>容量较大，sessionStorage约5M、localStorage约20M</li><li>只能存储字符串，可以将对象JSON.stringify() 编码后存储</li></ol><h2 id="window-sessionStorage"><a href="#window-sessionStorage" class="headerlink" title="window.sessionStorage"></a>window.sessionStorage</h2><ol><li>生命周期为关闭浏览器窗口</li><li>在同一个窗口(页面)下数据可以共享</li><li>以键值对的形式存储使用<br>存储数据：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sessionStorage.setItem(key, value)</span><br></pre></td></tr></table></figure>获取数据：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sessionStorage.getItem(key)</span><br></pre></td></tr></table></figure>删除数据：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sessionStorage.removeItem(key)</span><br></pre></td></tr></table></figure>清空数据：(所有都清除掉)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sessionStorage.clear()</span><br></pre></td></tr></table></figure></li></ol><h2 id="window-localStorage"><a href="#window-localStorage" class="headerlink" title="window.localStorage"></a>window.localStorage</h2><ol><li>声明周期永久生效，除非手动删除 否则关闭页面也会存在</li><li>可以多窗口（页面）共享（同一浏览器可以共享）</li><li>以键值对的形式存储使用<br>存储数据：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localStorage.setItem(key, value)</span><br></pre></td></tr></table></figure>获取数据：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localStorage.getItem(key)</span><br></pre></td></tr></table></figure>删除数据：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localStorage.removeItem(key)</span><br></pre></td></tr></table></figure>清空数据：(所有都清除掉)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localStorage.clear()</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> storage </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue的命名视图</title>
      <link href="/vue%E7%9A%84%E5%91%BD%E5%90%8D%E8%A7%86%E5%9B%BE/"/>
      <url>/vue%E7%9A%84%E5%91%BD%E5%90%8D%E8%A7%86%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<p><a href="https://router.vuejs.org/zh/guide/essentials/named-views.html" target="_blank" rel="noopener">官方文档</a></p><blockquote><p>注意：components 不要写成 component</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>vue-router的name属性</title>
      <link href="/vue-router%E7%9A%84name%E5%B1%9E%E6%80%A7/"/>
      <url>/vue-router%E7%9A%84name%E5%B1%9E%E6%80%A7/</url>
      
        <content type="html"><![CDATA[<p><a href="https://router.vuejs.org/zh/guide/essentials/named-routes.html" target="_blank" rel="noopener">官方文档</a></p><h2 id="命名路由"><a href="#命名路由" class="headerlink" title="命名路由"></a>命名路由</h2><p>有时候，通过一个名称来标识一个路由显得更方便一些，特别是在链接一个路由，或者是执行一些跳转的时候。你可以在创建 Router 实例的时候，在 routes 配置中给某个路由设置名称。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/user/:userId'</span>,</span><br><span class="line">      name: <span class="string">'user'</span>,</span><br><span class="line">      component: User</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>要链接到一个命名路由，可以给 router-link 的 to 属性传一个对象：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link :to&#x3D;&quot;&#123; name: &#39;user&#39;, params: &#123; userId: 123 &#125;&#125;&quot;&gt;User&lt;&#x2F;router-link&gt;</span><br></pre></td></tr></table></figure></li><li>可以用name传参 使用$router.name获取路由的name值<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;Current route name: &#123;&#123; $route.name &#125;&#125;&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure></li><li>这跟代码调用 router.push() 是一回事：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">router.push(&#123; name: &#39;user&#39;, params: &#123; userId: 123 &#125;&#125;)</span><br></pre></td></tr></table></figure>这两种方式都会把路由导航到 /user/123 路径。</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Home = &#123; <span class="attr">template</span>: <span class="string">'&lt;div&gt;This is Home&lt;/div&gt;'</span> &#125;</span><br><span class="line"><span class="keyword">const</span> Foo = &#123; <span class="attr">template</span>: <span class="string">'&lt;div&gt;This is Foo&lt;/div&gt;'</span> &#125;</span><br><span class="line"><span class="keyword">const</span> Bar = &#123; <span class="attr">template</span>: <span class="string">'&lt;div&gt;This is Bar &#123;&#123; $route.params.id &#125;&#125;&lt;/div&gt;'</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  mode: <span class="string">'history'</span>,</span><br><span class="line">  base: __dirname,</span><br><span class="line">  routes: [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">'/'</span>, <span class="attr">name</span>: <span class="string">'home'</span>, <span class="attr">component</span>: Home &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">'/foo'</span>, <span class="attr">name</span>: <span class="string">'foo'</span>, <span class="attr">component</span>: Foo &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">'/bar/:id'</span>, <span class="attr">name</span>: <span class="string">'bar'</span>, <span class="attr">component</span>: Bar &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;div id="app"&gt;</span></span><br><span class="line"><span class="string">      &lt;h1&gt;Named Routes&lt;/h1&gt;</span></span><br><span class="line"><span class="string">      &lt;p&gt;Current route name: &#123;&#123; $route.name &#125;&#125;&lt;/p&gt; </span></span><br><span class="line"><span class="string">      &lt;ul&gt;</span></span><br><span class="line"><span class="string">        &lt;li&gt;&lt;router-link :to="&#123; name: 'home' &#125;"&gt;home&lt;/router-link&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">        &lt;li&gt;&lt;router-link :to="&#123; name: 'foo' &#125;"&gt;foo&lt;/router-link&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">        &lt;li&gt;&lt;router-link :to="&#123; name: 'bar', params: &#123; id: 123 &#125;&#125;"&gt;bar&lt;/router-link&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">      &lt;/ul&gt;</span></span><br><span class="line"><span class="string">      &lt;router-view class="view"&gt;&lt;/router-view&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  `</span></span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue组件中的name属性</title>
      <link href="/vue%E7%BB%84%E4%BB%B6%E4%B8%AD%E7%9A%84name/"/>
      <url>/vue%E7%BB%84%E4%BB%B6%E4%B8%AD%E7%9A%84name/</url>
      
        <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/Uookic/article/details/80420472" target="_blank" rel="noopener">本文转自</a><br><a href="https://cn.vuejs.org/v2/api/#name" target="_blank" rel="noopener">官方文档</a></p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>我们在写vue项目的时候会遇到给组件命名，这里的name非必选项，看起来好像没啥用处，但是实际上这里用处还挺多的<br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">      name:<span class="string">'xxx'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="当项目使用keep-alive时，可搭配组件name进行缓存过滤"><a href="#当项目使用keep-alive时，可搭配组件name进行缓存过滤" class="headerlink" title="当项目使用keep-alive时，可搭配组件name进行缓存过滤"></a>当项目使用keep-alive时，可搭配组件name进行缓存过滤</h2><p>举个例子：我们有个组件命名为detail,其中dom加载完毕后我们在钩子函数mounted中进行数据加载<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  name:&#39;Detail&#39;</span><br><span class="line">&#125;，</span><br><span class="line">mounted()&#123;</span><br><span class="line">  this.getInfo();</span><br><span class="line">&#125;，</span><br><span class="line">methods:&#123;</span><br><span class="line">  getInfo()&#123;</span><br><span class="line">          axios.get(&#39;&#x2F;xx&#x2F;detail.json&#39;,&#123;</span><br><span class="line">              params:&#123;</span><br><span class="line">                id:this.$route.params.id  </span><br><span class="line">              &#125;</span><br><span class="line">          &#125;).then(this.getInfoSucc)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>  因为我们在App.vue中使用了keep-alive导致我们第二次进入的时候页面不会重新请求，即触发mounted函数。<br>  有两个解决方案,一个增加activated()函数,每次进入新页面的时候再获取一次数据。<br>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt; </span><br><span class="line">  &lt;keep-alive exclude&#x3D;&quot;Detail&quot;&gt;</span><br><span class="line">    &lt;router-view&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;keep-alive&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure></p><h2 id="DOM做递归组件时"><a href="#DOM做递归组件时" class="headerlink" title="DOM做递归组件时"></a>DOM做递归组件时</h2><p> 比如说detail.vue组件里有个list.vue子组件，递归迭代时需要调用自身name<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">div&gt;</span><br><span class="line">         &lt;div v-for&#x3D;&quot;(item,index) of list&quot; :key&#x3D;&quot;index&quot;&gt;</span><br><span class="line">             &lt;div&gt;</span><br><span class="line">                 &lt;span class&#x3D;&quot;item-title-icon&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">                 &#123;&#123;item.title&#125;&#125;</span><br><span class="line">             &lt;&#x2F;div&gt;</span><br><span class="line">             &lt;div v-if&#x3D;&quot;item.children&quot; &gt;</span><br><span class="line">               &lt;detail-list :list&#x3D;&quot;item.children&quot;&gt;&lt;&#x2F;detail-list&gt;</span><br><span class="line">             &lt;&#x2F;div&gt;</span><br><span class="line">         &lt;&#x2F;div&gt;</span><br><span class="line">   &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line"> &lt;script&gt;</span><br><span class="line"> export default &#123;</span><br><span class="line">     name:&#39;DetailList&#39;,&#x2F;&#x2F;递归组件是指组件自身调用自身</span><br><span class="line">     props:&#123;</span><br><span class="line">         list:Array</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> &lt;&#x2F;script&gt;</span><br><span class="line"> list数据：</span><br><span class="line">   const list &#x3D; [&#123;</span><br><span class="line">           &quot;title&quot;: &quot;A&quot;,</span><br><span class="line">           &quot;children&quot;: [&#123;</span><br><span class="line">             &quot;title&quot;: &quot;A-A&quot;,</span><br><span class="line">             &quot;children&quot;: [&#123;</span><br><span class="line">               &quot;title&quot;: &quot;A-A-A&quot;</span><br><span class="line">             &#125;]</span><br><span class="line">           &#125;,&#123;</span><br><span class="line">                 &quot;title&quot;: &quot;A-B&quot;</span><br><span class="line">           &#125;]</span><br><span class="line">         &#125;, &#123;</span><br><span class="line">           &quot;title&quot;: &quot;B&quot;</span><br><span class="line">         &#125;, &#123;</span><br><span class="line">           &quot;title&quot;: &quot;C&quot;</span><br><span class="line">         &#125;, &#123;</span><br><span class="line">           &quot;title&quot;: &quot;D&quot;</span><br><span class="line">         &#125;]</span><br></pre></td></tr></table></figure><br> 迭代的结果如下：<br> <img src="https://img-blog.csdn.net/20180523152904570?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1Vvb2tpYw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><h2 id="当你用vue-tools时"><a href="#当你用vue-tools时" class="headerlink" title="当你用vue-tools时"></a>当你用vue-tools时</h2><p> vue-devtools调试工具里显示的组见名称是由vue中组件name决定的<br> <img src="https://img-blog.csdn.net/20180523153448582?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1Vvb2tpYw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MSBUILD : error MSB4132: 无法识别工具版本2.0。可用的工具版本为 14.0, 4.0。</title>
      <link href="/MSBUILD-error-MSB4132-%E6%97%A0%E6%B3%95%E8%AF%86%E5%88%AB%E5%B7%A5%E5%85%B7%E7%89%88%E6%9C%AC2-0%E3%80%82%E5%8F%AF%E7%94%A8%E7%9A%84%E5%B7%A5%E5%85%B7%E7%89%88%E6%9C%AC%E4%B8%BA-14-0-4-0%E3%80%82/"/>
      <url>/MSBUILD-error-MSB4132-%E6%97%A0%E6%B3%95%E8%AF%86%E5%88%AB%E5%B7%A5%E5%85%B7%E7%89%88%E6%9C%AC2-0%E3%80%82%E5%8F%AF%E7%94%A8%E7%9A%84%E5%B7%A5%E5%85%B7%E7%89%88%E6%9C%AC%E4%B8%BA-14-0-4-0%E3%80%82/</url>
      
        <content type="html"><![CDATA[<p>在报错的项目中执行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MSBUILD : error MSB4132: 无法识别工具版本“2.0”。可用的工具版本为 &quot;14.0&quot;, &quot;4.0&quot;</span><br><span class="line">PS E:\Project\nodejs\Study&gt; npm install --msvs_version 2015</span><br><span class="line">PS E:\Project\nodejs\Study&gt; npm config set msvs_version 2015 --global</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> npm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mongodb</title>
      <link href="/mongodb/"/>
      <url>/mongodb/</url>
      
        <content type="html"><![CDATA[<h2 id="mongodb数据库的安装"><a href="#mongodb数据库的安装" class="headerlink" title="mongodb数据库的安装"></a>mongodb数据库的安装</h2><ol><li><a href="https://www.mongodb.com/download-center/community" target="_blank" rel="noopener">官方下载地址</a></li><li>安装步骤<br><img src="https://img-blog.csdnimg.cn/20190627141817698.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dpbGxpYW1fbXVuY2g=,size_16,color_FFFFFF,t_70" alt=""><br>这里我安装在C盘了，想改盘符的请自行百度<br><img src="https://img-blog.csdnimg.cn/20190627141927387.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dpbGxpYW1fbXVuY2g=,size_16,color_FFFFFF,t_70" alt=""><br><img src="https://mongoing.com/wp-content/uploads/2019/04/2.png" alt=""><br>下一步安装 “install mongoDB compass” 不勾选（当然你也可以选择安装它，可能需要更久的安装时间），MongoDB Compass 是一个图形界面管理工具，我们可以在后面自己到官网下载安装，下载地址：<a href="https://www.mongodb.com/download-center/compass。" target="_blank" rel="noopener">https://www.mongodb.com/download-center/compass。</a><br><img src="https://www.runoob.com/wp-content/uploads/2013/10/8F7AF133-BE49-4BAB-9F93-88A9D666F6C0.jpg" alt=""></li><li>配置环境变量<ul><li>找到mongodb中的bin文件夹复制路径，把复制的路径粘贴到环境变量的path中</li></ul></li><li>配置mongodb<ul><li>在c盘建一个data文件夹，在data文件夹中建一个db文件夹(这个文件以后会存储数据库)</li></ul></li><li>测试安装是否成功<br>在cmd命令行中输入mongo -&gt; db -&gt; test 出现下面界面证明配置成功<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">PS C:\Users\33448&gt; mongo</span><br><span class="line">MongoDB shell version v4.2.6</span><br><span class="line">connecting to: mongodb:&#x2F;&#x2F;127.0.0.1:27017&#x2F;?compressors&#x3D;disabled&amp;gssapiServiceName&#x3D;mongodb</span><br><span class="line">Implicit session: session &#123; &quot;id&quot; : UUID(&quot;129b3153-3c59-4048-a7e9-aa447d3aa587&quot;) &#125;</span><br><span class="line">MongoDB server version: 4.2.6</span><br><span class="line">Server has startup warnings:</span><br><span class="line">2020-05-24T08:05:05.788+0800 I  CONTROL  [initandlisten]</span><br><span class="line">2020-05-24T08:05:05.788+0800 I  CONTROL  [initandlisten] ** WARNING: Access control is not enabled for the database.</span><br><span class="line">2020-05-24T08:05:05.788+0800 I  CONTROL  [initandlisten] **          Read and write access to data and configuration is unrestricted.</span><br><span class="line">2020-05-24T08:05:05.788+0800 I  CONTROL  [initandlisten]</span><br><span class="line">---</span><br><span class="line">Enable MongoDB&#39;s free cloud-based monitoring service, which will then receive and display</span><br><span class="line">metrics about your deployment (disk utilization, CPU, operation statistics, etc).</span><br><span class="line"></span><br><span class="line">The monitoring data will be available on a MongoDB website with a unique URL accessible to you</span><br><span class="line">and anyone you share the URL with. MongoDB may use this information to make product</span><br><span class="line">improvements and to suggest MongoDB products and deployment options to you.</span><br><span class="line"></span><br><span class="line">To enable free monitoring, run the following command: db.enableFreeMonitoring()</span><br><span class="line">To permanently disable this reminder, run the following command: db.disableFreeMonitoring()</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">&gt; db</span><br><span class="line">test</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>本地配置easy-mock</title>
      <link href="/%E6%9C%AC%E5%9C%B0%E9%85%8D%E7%BD%AEeasy-mock/"/>
      <url>/%E6%9C%AC%E5%9C%B0%E9%85%8D%E7%BD%AEeasy-mock/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p> <img src="https://img-blog.csdnimg.cn/2019062709583191.png" alt=""></p><blockquote><p>这里我用的node.js是8.9.0</p></blockquote><h2 id="安装node-js"><a href="#安装node-js" class="headerlink" title="安装node.js"></a>安装node.js</h2><p> 这个很简单直接<a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener">官方直接下载</a>，直接下一步，下一步傻瓜式安装，这里建议使用node(8.9.0)</p><h2 id="安装mongodb"><a href="#安装mongodb" class="headerlink" title="安装mongodb"></a>安装mongodb</h2><p> 可以借鉴我的<a href="https://wormnimaya.github.io/mongodb/">另一篇文章</a></p><h2 id="安装redis"><a href="#安装redis" class="headerlink" title="安装redis"></a>安装redis</h2><p> <a href="https://github.com/microsoftarchive/redis/releases" target="_blank" rel="noopener">官方下载</a>, 下载Redis-x64-3.2.100.zip，解压到本地，这里我解压到D盘</p><ol><li>添加环境变量<br>把<code>D:\Redis-x64-3.2.100</code>添加到环境变量path中</li><li>创建服务<br>cmd下<code>redis-server redis.windows.conf</code></li><li>如果报bind: No error错，则cmd上依次执行<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">redis-cli.exe</span><br><span class="line">shutdown</span><br><span class="line">exit</span><br><span class="line">redis-server.exe redis.windows.conf</span><br></pre></td></tr></table></figure>这时候出来一个图安装正确：<br><img src="https://www.runoob.com/wp-content/uploads/2014/11/redis-install1.png" alt=""></li><li>cmd中注册服务：<br><code>redis-server --service-install redis.windows-service.conf --loglevel verbose</code></li><li>启动服务<br><code>redis-server --service-start</code></li><li>测试是否配置成功<br>在cmd命令行执行如下：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">redis-cli.exe -h 127.0.0.1 -p 6379</span><br><span class="line">set myKey abc</span><br><span class="line">get myKey</span><br></pre></td></tr></table></figure><img src="https://www.runoob.com/wp-content/uploads/2014/11/redis-install2.jpg" alt=""></li></ol><h2 id="安装部署Easy-Mock"><a href="#安装部署Easy-Mock" class="headerlink" title="安装部署Easy-Mock"></a>安装部署Easy-Mock</h2><ol><li><p>首先要全局安装两个库<br><code>npm i -g cross-env pm2</code></p></li><li><p>克隆github上的easy-mock<br><code>git clone https://github.com/easy-mock/easy-mock.git</code></p></li><li><p>配置文件<br>找到 config/default.json，或者创建一个 config/local.json 文件，将如下需要替换的字段换成自己的配置即可。(默认是不需要修改配置文件的)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;port&quot;: 7300,&#x2F;&#x2F;easymock项目启动的端口</span><br><span class="line">  &quot;host&quot;: &quot;localhost&quot;, &#x2F;&#x2F;这里我改成了loacalhost</span><br><span class="line">  &quot;pageSize&quot;: 30,</span><br><span class="line">  &quot;proxy&quot;: false,</span><br><span class="line">  &quot;db&quot;: &quot;mongodb:&#x2F;&#x2F;localhost&#x2F;easy-mock&quot;,&#x2F;&#x2F; 不需要自己新建数据库，在启动的easymock新建接口即可</span><br><span class="line">  &quot;unsplashClientId&quot;: &quot;&quot;,</span><br><span class="line">  &quot;redis&quot;: &#123;</span><br><span class="line">    &quot;port&quot;: 6379,&#x2F;&#x2F;redis端口</span><br><span class="line">    &quot;host&quot;: &quot;localhost&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;blackList&quot;: &#123;</span><br><span class="line">    &quot;projects&quot;: [], &#x2F;&#x2F; projectId，例：&quot;5a4495e16ef711102113e500&quot;</span><br><span class="line">    &quot;ips&quot;: [] &#x2F;&#x2F; ip，例：&quot;127.0.0.1&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;rateLimit&quot;: &#123; &#x2F;&#x2F; https:&#x2F;&#x2F;github.com&#x2F;koajs&#x2F;ratelimit</span><br><span class="line">    &quot;max&quot;: 1000,</span><br><span class="line">    &quot;duration&quot;: 1000</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;jwt&quot;: &#123;</span><br><span class="line">    &quot;expire&quot;: &quot;14 days&quot;,</span><br><span class="line">    &quot;secret&quot;: &quot;shared-secret&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;upload&quot;: &#123;</span><br><span class="line">    &quot;types&quot;: [&quot;.jpg&quot;, &quot;.jpeg&quot;, &quot;.png&quot;, &quot;.gif&quot;, &quot;.json&quot;, &quot;.yml&quot;, &quot;.yaml&quot;],</span><br><span class="line">    &quot;size&quot;: 5242880,</span><br><span class="line">    &quot;dir&quot;: &quot;..&#x2F;public&#x2F;upload&quot;,</span><br><span class="line">    &quot;expire&quot;: &#123;</span><br><span class="line">      &quot;types&quot;: [&quot;.json&quot;, &quot;.yml&quot;, &quot;.yaml&quot;],</span><br><span class="line">      &quot;day&quot;: -1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;fe&quot;: &#123;</span><br><span class="line">    &quot;copyright&quot;: &quot;&quot;,</span><br><span class="line">    &quot;storageNamespace&quot;: &quot;easy-mock_&quot;,</span><br><span class="line">    &quot;timeout&quot;: 25000,</span><br><span class="line">    &quot;publicPath&quot;: &quot;&#x2F;dist&#x2F;&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>进入你的easy mock文件夹<br>在cmd中执行<code>npm install 和 npm run dev</code><br>如果执行npm install 出现<strong>MSBUILD : error MSB4132: 无法识别工具版本“2.0”。可用的工具版本为 “14.0”, “4.0”。</strong><br><a href="https://wormnimaya.github.io/MSBUILD-error-MSB4132-%E6%97%A0%E6%B3%95%E8%AF%86%E5%88%AB%E5%B7%A5%E5%85%B7%E7%89%88%E6%9C%AC2-0%E3%80%82%E5%8F%AF%E7%94%A8%E7%9A%84%E5%B7%A5%E5%85%B7%E7%89%88%E6%9C%AC%E4%B8%BA-14-0-4-0%E3%80%82/">解决版办法</a></p></li><li><p>进入根目录进行打包<br><code>npm run build</code></p></li><li><p>在项目目录下使用pm2守护运行：<br><code>cross-env NODE_ENV=production pm2 start app.js</code><br>这时候访问本地的 <a href="http://localhost:7300/" target="_blank" rel="noopener">http://localhost:7300/</a> 就可以打开Easy-Mock页面了，跟Easy-Mock官网一样的~</p><blockquote><p>参考文章:  <a href="https://blog.csdn.net/william_munch/article/details/93848117" target="_blank" rel="noopener">windows本地安装部署 Easy Mock</a> <a href="https://juejin.im/post/5b9b6f79e51d450e6e039766" target="_blank" rel="noopener">windows本地安装部署 Easy Mock</a></p></blockquote></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 模拟数据 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vuecli3代理跨域</title>
      <link href="/vuecli3%E4%BB%A3%E7%90%86%E8%B7%A8%E5%9F%9F/"/>
      <url>/vuecli3%E4%BB%A3%E7%90%86%E8%B7%A8%E5%9F%9F/</url>
      
        <content type="html"><![CDATA[<h2 id="在vue-cli的根目录创建vue-config-js文件"><a href="#在vue-cli的根目录创建vue-config-js文件" class="headerlink" title="在vue-cli的根目录创建vue.config.js文件"></a>在vue-cli的根目录创建vue.config.js文件</h2>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    host: <span class="string">'localhost'</span>, <span class="comment">//允许访问的域名</span></span><br><span class="line">    port: <span class="number">8080</span>, <span class="comment">// 配置端口号</span></span><br><span class="line">    proxy: &#123;<span class="literal">true</span></span><br><span class="line">      <span class="string">'/api'</span>: &#123;</span><br><span class="line">        target: <span class="string">'https://www.imooc.com'</span>, <span class="comment">// 要访问的目的地址</span></span><br><span class="line">        secure: <span class="literal">false</span>, <span class="comment">// 访问的目的地址是https必须设置为true</span></span><br><span class="line">        changeOrigin: <span class="literal">true</span>, <span class="comment">//是否跨域</span></span><br><span class="line">        pathRewrite: &#123;</span><br><span class="line">          <span class="string">'/api'</span>: <span class="string">''</span> <span class="comment">// 重写路径</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="axios进行跨域访问"><a href="#axios进行跨域访问" class="headerlink" title="axios进行跨域访问"></a>axios进行跨域访问</h2>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">axios.get(<span class="string">'/api/activity/servicetime'</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(res.data)</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git</title>
      <link href="/git/"/>
      <url>/git/</url>
      
        <content type="html"><![CDATA[<h2 id="git的安装"><a href="#git的安装" class="headerlink" title="git的安装"></a>git的安装</h2><p> <a href="https://www.runoob.com/git/git-install-setup.html" target="_blank" rel="noopener">linux/Mac的方法</a><br> 在 Windows 平台上安装 Git 同样轻松，有个叫做 msysGit 的项目提供了安装包，可以到 GitHub 的页面上下载 exe 安装文件并运行：<br> <a href="https://gitforwindows.org/" target="_blank" rel="noopener">下载地址</a><br> <img src="https://oscimg.oschina.net/oscnet/118701a4510c201f74f1d78f0e06d618ca4.jpg" alt=""><br> 傻瓜式下一步，完成安装之后，就可以使用命令行的 git 工具（已经自带了 ssh 客户端）了，另外还有一个图形界面的 Git 项目管理工具。在开始菜单里找到”Git”-&gt;”Git Bash”，会弹出 Git 命令窗口，你可以在该窗口进行 Git 操作。</p><h2 id="git配置"><a href="#git配置" class="headerlink" title="git配置"></a>git配置</h2><ol><li><p>用户信息<br>配置个人的用户名称和电子邮件地址：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &quot;runoob&quot;</span><br><span class="line">$ git config --global user.email test@runoob.com</span><br></pre></td></tr></table></figure><p>如果用了 –global 选项，那么更改的配置文件就是位于你用户主目录下的那个，以后你所有的项目都会默认使用这里配置的用户信息。如果要在某个特定的项目中使用其他名字或者电邮，只要去掉 –global 选项重新配置即可，新的设定保存在当前项目的 .git/config 文件里。</p></li><li><p>查看git配置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --list</span><br></pre></td></tr></table></figure></li><li><p>git免密码登录<br>登录一次密码后，用下面命令行记住密码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global credential.helper store</span><br></pre></td></tr></table></figure></li></ol><h2 id="vscode中使用git"><a href="#vscode中使用git" class="headerlink" title="vscode中使用git"></a>vscode中使用git</h2><ol><li><p>vscode中进行git配置<br>在vscode中点击文件 -&gt; 首选项 -&gt; 设置 -&gt; 在搜索栏中搜索git.path -&gt; 打开下方的setting.json文件填写如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;git.path&quot;: &quot;git.exe所在目录地址&quot;</span><br></pre></td></tr></table></figure></li><li><p>vscode中添加插件 Git History Diff</p></li><li><p>在vscode的操做git</p><ul><li>上传到github<br><img src="../image/git1.png" alt=""><br><img src="../image/git2.png" alt=""></li><li>创建分支<br><img src="../image/git3.png" alt=""><br><img src="../image/git4.png" alt=""><br><img src="../image/git5.png" alt=""></li></ul></li><li><p>合并分支<br>把分支合并过来</p><ul><li>切换到想合并别人的分支上，按下键盘crtl+ shift + p, 选择合并分支，选择要合并的分支<br><img src="../image/git8.png" alt=""><br><img src="../image/git6.png" alt=""><br><img src="../image/git7.png" alt=""><br><img src="../image/git9.png" alt=""></li></ul></li><li><p>冲突</p><ul><li>当我们提交遇到冲突时<br><img src="../image/git10.png" alt=""><br>解决后在进行提交</li></ul></li><li><p>git基本命令<br><img src="../image/git11.png" alt=""></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nvm</title>
      <link href="/nvm/"/>
      <url>/nvm/</url>
      
        <content type="html"><![CDATA[<h2 id="nvm的安装"><a href="#nvm的安装" class="headerlink" title="nvm的安装"></a>nvm的安装</h2><p>  <a href="https://juejin.im/post/5d89cf27f265da0390057013" target="_blank" rel="noopener">文章转自</a><br>  如果你想长期做 node 开发, 或者想快速更新 node 版本, 或者想快速切换 node 版本,那就使用 nvm 来安装你的 node 开发环境, 保持系统的干净.<br>  <a href="https://github.com/coreybutler/nvm-windows/releases" target="_blank" rel="noopener">nvm下载地址</a><br>  window用户直接选择 nvm-setup.zip 下载安装</p><blockquote><p>如果本地已经安装了node，要先卸载node再安装nvm</p></blockquote>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">$ nvm -v &#x2F;&#x2F;检查nvm是否安装成功, 如果出现下面的命令，安装完成</span><br><span class="line">&#x2F;*</span><br><span class="line">Running version 1.1.7.</span><br><span class="line"></span><br><span class="line">Usage:</span><br><span class="line"></span><br><span class="line">  nvm arch                     : Show if node is running in 32 or 64 bit mode.</span><br><span class="line">  nvm install &lt;version&gt; [arch] : The version can be a node.js version or &quot;latest&quot; for the latest stable version.</span><br><span class="line">                                Optionally specify whether to install the 32 or 64 bit version (defaults to system arch).</span><br><span class="line">                                Set [arch] to &quot;all&quot; to install 32 AND 64 bit versions.</span><br><span class="line">                                Add --insecure to the end of this command to bypass SSL validation of the remote download server.</span><br><span class="line">  nvm list [available]         : List the node.js installations. Type &quot;available&quot; at the end to see what can be installed. Aliased as ls.</span><br><span class="line">  nvm on                       : Enable node.js version management.</span><br><span class="line">  nvm off                      : Disable node.js version management.</span><br><span class="line">  nvm proxy [url]              : Set a proxy to use for downloads. Leave [url] blank to see the current proxy.</span><br><span class="line">                                Set [url] to &quot;none&quot; to remove the proxy.</span><br><span class="line">  nvm node_mirror [url]        : Set the node mirror. Defaults to https:&#x2F;&#x2F;nodejs.org&#x2F;dist&#x2F;. Leave [url] blank to use default url.</span><br><span class="line">  nvm npm_mirror [url]         : Set the npm mirror. Defaults to https:&#x2F;&#x2F;github.com&#x2F;npm&#x2F;cli&#x2F;archive&#x2F;. Leave [url] blank to default url.</span><br><span class="line">  nvm uninstall &lt;version&gt;      : The version must be a specific version.</span><br><span class="line">  nvm use [version] [arch]     : Switch to use the specified version. Optionally specify 32&#x2F;64bit architecture.</span><br><span class="line">                                nvm use &lt;arch&gt; will continue using the selected version, but switch to 32&#x2F;64 bit mode.</span><br><span class="line">  nvm root [path]              : Set the directory where nvm should store different versions of node.js.</span><br><span class="line">                                If &lt;path&gt; is not set, the current root will be displayed.</span><br><span class="line">  nvm version                  : Displays the current running version of nvm for Windows. Aliased as v.</span><br><span class="line">*&#x2F;</span><br></pre></td></tr></table></figure><h2 id="使用nvm安装node"><a href="#使用nvm安装node" class="headerlink" title="使用nvm安装node"></a>使用nvm安装node</h2>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> nvm -h //查看nvm的指令</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> nvm list //查看本地已经安装的node版本列表</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> nvm list available //查看可以安装的node版本</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> nvm install latest //安装最新版本的node</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> nvm install [version][arch] //安装指定版本的node 例如：nvm install 10.16.3 安装node v10.16.3 arch表示电脑的位数 如果电脑需要安装32位的， 则运行：nvm install 10.16.3 32， nvm install 10.16.x 表示安装本版本最高</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> nvm use [version] //使用node 例如：nvm use 10.16.3</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> nvm uninstall [version] //卸载node</span></span><br></pre></td></tr></table></figure><h2 id="镜像设置"><a href="#镜像设置" class="headerlink" title="镜像设置"></a>镜像设置</h2><p> 在使用nvm安装node的过程中如果速度太慢的话，可以设置改用淘宝的镜像地址在nvm安装目录下的setting.txt文件中加入以下代码<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node_mirror: https:&#x2F;&#x2F;npm.taobao.org&#x2F;mirrors&#x2F;node&#x2F;</span><br><span class="line">npm_mirror: https:&#x2F;&#x2F;npm.taobao.org&#x2F;mirrors&#x2F;npm&#x2F;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> node.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>async和await</title>
      <link href="/async%E5%92%8Cawait/"/>
      <url>/async%E5%92%8Cawait/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const fs &#x3D; require(&#39;fs&#39;);</span><br><span class="line"></span><br><span class="line">function readFile(fileName) &#123;</span><br><span class="line">  return new Promise(function (resolve, reject) &#123;</span><br><span class="line">    fs.readFile(fileName, function(error, data) &#123;</span><br><span class="line">      if (error) return reject(error);</span><br><span class="line">      resolve(data);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">async function asyncReadFile () &#123;</span><br><span class="line">  &#x2F;&#x2F; 这个f1的值就是reslove(data)中data值</span><br><span class="line">  const f1 &#x3D; await readFile(&#39;&#x2F;etc&#x2F;fstab&#39;); </span><br><span class="line">  const f2 &#x3D; await readFile(&#39;&#x2F;etc&#x2F;shells&#39;);</span><br><span class="line">  console.log(f1.toString());</span><br><span class="line">  console.log(f2.toString());</span><br><span class="line">&#125;;</span><br><span class="line">asyncReadFile()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ES6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Promise</title>
      <link href="/Promise/"/>
      <url>/Promise/</url>
      
        <content type="html"><![CDATA[<h2 id="promise的概念"><a href="#promise的概念" class="headerlink" title="promise的概念"></a>promise的概念</h2><ol><li>Promise 是一个 构造函数，既然是构造函数， 那么，我们就可以  new Promise() 得到一个 Promise 的实例；</li><li>在 Promise 上，有两个函数，分别叫做 resolve（成功之后的回调函数） 和 reject（失败之后的回调函数）</li><li>在 Promise 构造函数的 Prototype 属性上，有一个 .then() 方法，也就说，只要是 Promise 构造函数创建的实例，都可以访问到 .then() 方法</li><li>Promise 表示一个 异步操作；每当我们 new 一个 Promise 的实例，这个实例，就表示一个具体的异步操作；</li><li>既然 Promise 创建的实例，是一个异步操作，那么，这个 异步操作的结果，只能有两种状态：<ul><li>状态1： 异步执行成功了，需要在内部调用 成功的回调函数 resolve 把结果返回给调用者；</li><li>状态2： 异步执行失败了，需要在内部调用 失败的回调函数 reject 把结果返回给调用者；</li><li>由于 Promise 的实例，是一个异步操作，所以，内部拿到 操作的结果后，无法使用 return 把操作的结果返回给调用者； 这时候，只能使用回调函数的形式，来把 成功 或 失败的结果，返回给调用者；</li></ul></li><li>我们可以在 new 出来的 Promise 实例上，调用 .then() 方法，【预先】 为 这个 Promise 异步操作，指定 成功（resolve） 和 失败（reject） 回调函数；</li></ol><h2 id="promise的演变"><a href="#promise的演变" class="headerlink" title="promise的演变"></a>promise的演变</h2><p>  这是一个具体的异步操作，其中，使用 function 指定一个具体的异步操作<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var promise &#x3D; new Promise(function()&#123;</span><br><span class="line">  &#x2F;&#x2F; 这个 function 内部写的就是具体的异步操作！！！</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><ol><li>每当 new 一个 Promise 实例的时候，就会立即 执行这个 异步操作中的代码也就是说，new 的时候，除了能够得到 一个 promise 实例之外，还会立即调用 我们为 Promise 构造函数传递的那个 function，执行这个 function 中的 异步操作代码；<blockquote><p>问题：我们不想那样，我们想要的是什么时候需要调用，才调用</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* <span class="keyword">var</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  fs.readFile(<span class="string">'./files/2.txt'</span>, <span class="string">'utf-8'</span>, (err, dataStr) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">throw</span> err</span><br><span class="line">    <span class="built_in">console</span>.log(dataStr)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li>解决方案，把他封装成一个函数的形式：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFileByPath</span>(<span class="params">fpath</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    fs.readFile(fpath, <span class="string">'utf-8'</span>, (err, dataStr) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (err) <span class="keyword">return</span> reject(err)</span><br><span class="line">      resolve(dataStr)</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>调动封装的Promise的函数<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// then中的第一个函数传递给reslove, 第二函数传递给reject</span></span><br><span class="line"> getFileByPath(<span class="string">'./files/2.txt'</span>)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data + <span class="string">'-------'</span>) </span><br><span class="line">  &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err.message)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure></li></ol><h2 id="Promise解决回调地域"><a href="#Promise解决回调地域" class="headerlink" title="Promise解决回调地域"></a>Promise解决回调地域</h2><ol><li>定义Promise函数<ul><li>通过 .then 指定 回调函数的时候，成功的 回调函数，必须传，但是，失败的回调，可以省略不传<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const fs &#x3D; require(&#39;fs&#39;)</span><br><span class="line"></span><br><span class="line">function getFileByPath(fpath) &#123;</span><br><span class="line">  return new Promise(function (resolve, reject) &#123;</span><br><span class="line">    fs.readFile(fpath, &#39;utf-8&#39;, (err, dataStr) &#x3D;&gt; &#123;</span><br><span class="line"></span><br><span class="line">      if (err) return reject(err)</span><br><span class="line">      resolve(dataStr)</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li>调用promise对象<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">getFileByPath(<span class="string">'./files/11.txt'</span>)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 读取文件2</span></span><br><span class="line">    <span class="keyword">return</span> getFileByPath(<span class="string">'./files/2.txt'</span>) </span><br><span class="line">    <span class="comment">// 不管进入reject或者resolve中，都要返回一个promise对象</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> getFileByPath(<span class="string">'./files/3.txt'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure></li></ol><h2 id="Promise的异常处理"><a href="#Promise的异常处理" class="headerlink" title="Promise的异常处理"></a>Promise的异常处理</h2><p> 1.当 我们有这样的需求： 哪怕前面的 Promise 执行失败了，但是，不要影响后续 promise 的正常执行，此时，我们可以单独为 每个 promise，通过 .then 指定一下失败的回调；<br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">getFileByPath(<span class="string">'./files/11.txt'</span>)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 读取文件2</span></span><br><span class="line">    <span class="keyword">return</span> getFileByPath(<span class="string">'./files/2.txt'</span>)</span><br><span class="line">  &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'这是失败的结果：'</span> + err.message)</span><br><span class="line">    <span class="comment">// return 一个 新的 Promise</span></span><br><span class="line">    <span class="keyword">return</span> getFileByPath(<span class="string">'./files/2.txt'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> getFileByPath(<span class="string">'./files/3.txt'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data)</span><br><span class="line">  &#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><br> 2. 有时候，我们有这样的需求，上面的需求刚好相反：如果 后续的Promise 执行，依赖于 前面 Promise 执行的结果，如果前面的失败了，则后面的就没有继续执行下去的意义了，此时，我们想要实现，一旦有报错，则立即终止所有 Promise的执行；<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">getFileByPath(&#39;.&#x2F;files&#x2F;1.txt&#39;)</span><br><span class="line">  .then(function (data) &#123;</span><br><span class="line">    console.log(data)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 读取文件2</span><br><span class="line">    return getFileByPath(&#39;.&#x2F;files&#x2F;22.txt&#39;)</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(function (data) &#123;</span><br><span class="line">    console.log(data)</span><br><span class="line"></span><br><span class="line">    return getFileByPath(&#39;.&#x2F;files&#x2F;3.txt&#39;)</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(function (data) &#123;</span><br><span class="line">    console.log(data)</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(function (err) &#123; &#x2F;&#x2F; catch 的作用： 如果前面有任何的 Promise 执行失败，则立即终止所有 promise 的执行，并 马上进入 catch 去处理 Promise中 抛出的异常；</span><br><span class="line">    console.log(&#39;这是自己的处理方式：&#39; + err.message)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure></p><h2 id="jQuery中也为我们封装了Promise"><a href="#jQuery中也为我们封装了Promise" class="headerlink" title="jQuery中也为我们封装了Promise"></a>jQuery中也为我们封装了Promise</h2> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">   &lt;input type=<span class="string">"button"</span> value=<span class="string">"获取数据"</span> id=<span class="string">"btn"</span>&gt;</span><br><span class="line"></span><br><span class="line">   &lt;script src=<span class="string">"./node_modules/jquery/dist/jquery.min.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">   &lt;script&gt;</span></span><br><span class="line"><span class="regexp">     $(function () &#123;</span></span><br><span class="line"><span class="regexp">       $('#btn').on('click', function () &#123;</span></span><br><span class="line"><span class="regexp">         $.ajax(&#123;</span></span><br><span class="line"><span class="regexp">           url: './</span>data.json<span class="string">',</span></span><br><span class="line"><span class="string">           type: '</span><span class="keyword">get</span>',</span><br><span class="line">           dataType: 'json'</span><br><span class="line">         &#125;)</span><br><span class="line">           .then(function (data) &#123;</span><br><span class="line">             <span class="built_in">console</span>.log(data)</span><br><span class="line">           &#125;)</span><br><span class="line">       &#125;)</span><br><span class="line">     &#125;);</span><br><span class="line">   &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"> &lt;/</span>body&gt;</span><br></pre></td></tr></table></figure><h2 id="Promise-resolve"><a href="#Promise-resolve" class="headerlink" title="Promise.resolve()"></a>Promise.resolve()</h2><p>  Promise.resolve(value) 类似的静态方法，是 <code>new Promise()</code> 方法中<code>resolve</code>的快捷方式, 方法 <code>Promise.resolve(value)</code> 的返回值也是一个 <code>Promise</code> 对象，所以我们可以像下面那样接着对其返回值进行 <code>.then</code>调用。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.resolve(<span class="number">42</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.resolve(<span class="string">'foo'</span>)</span><br><span class="line"><span class="comment">// 等价于</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> resolve(<span class="string">'foo'</span>))</span><br></pre></td></tr></table></figure></p><h2 id="Promise-reject"><a href="#Promise-reject" class="headerlink" title="Promise.reject()"></a>Promise.reject()</h2><p> <code>Promise.reject(error)</code>，是 <code>new Promise()</code> 方法中<code>reject</code>的快捷方式。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'出错了'</span>))</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 等价于</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'出错了'</span>))</span><br></pre></td></tr></table></figure></p><h2 id="Promise-all"><a href="#Promise-all" class="headerlink" title="Promise.all()"></a>Promise.all()</h2><p> <code>Promise.all(promiseArray)</code>方法是<code>Promise</code>对象上的静态方法，该方法的作用是将多个<code>Promise</code>对象实例包装，生成并返回一个新的<code>Promise</code>实例。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="built_in">Promise</span>.resolve(<span class="number">1</span>),</span><br><span class="line">    p2 = <span class="built_in">Promise</span>.resolve(<span class="number">2</span>),</span><br><span class="line">    p3 = <span class="built_in">Promise</span>.resolve(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">Promise</span>.all([p1, p2, p3]).then(<span class="function"><span class="keyword">function</span> (<span class="params">results</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(results);  <span class="comment">// [1, 2, 3]</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><br> 在上面的方法中，<code>promise</code>数组中所有的<code>promise</code>实例都变为<code>resolve</code>的时候，该方法才会返回，并将所有结果传递<code>results数组</code>中。<code>promise</code>数组中任何一个<code>promise</code>为<code>reject</code>的话，则整个<code>Promise.all</code>调用会立即终止，并返回一个<code>reject</code>的新的<code>promise</code>对象。<code>reject</code>使用示例如下：<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="built_in">Promise</span>.resolve(<span class="number">1</span>),</span><br><span class="line">    p2 = <span class="built_in">Promise</span>.reject(<span class="number">2</span>),</span><br><span class="line">    p3 = <span class="built_in">Promise</span>.resolve(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">Promise</span>.allSettled([p1, p2, p3]).then(<span class="function"><span class="keyword">function</span> (<span class="params">results</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//then方法不会被执行</span></span><br><span class="line">    <span class="built_in">console</span>.log(results); </span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//catch方法将会被执行，输出结果为：2</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><blockquote><p>需要特别注意的是，<code>Promise.all</code>获得的成功结果的数组里面的数据顺序和Promise.all接收到的数组顺序是一致的,这带来了一个绝大的好处：在前端开发请求数据的过程中，偶尔会遇到发送多个请求并根据请求顺序获取和使用数据的场景，使用Promise.all毫无疑问可以解决这个问题。</p></blockquote><h2 id="Promise-race"><a href="#Promise-race" class="headerlink" title="Promise.race()"></a>Promise.race()</h2><p> 顾名思义，Promse.race就是赛跑的意思，意思就是说，Promise.race([p1, p2, p3])里面哪个结果获得的快，就返回那个结果，不管结果本身是成功状态还是失败状态。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="string">'success'</span>)</span><br><span class="line">  &#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    reject(<span class="string">'failed'</span>)</span><br><span class="line">  &#125;, <span class="number">500</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.race([p1, p2]).then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(result)</span><br><span class="line">&#125;).catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(error)  <span class="comment">// 打开的是 'failed'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><h2 id="Promise-allSettled"><a href="#Promise-allSettled" class="headerlink" title="Promise.allSettled()"></a>Promise.allSettled()</h2><p> <code>Promise.allSettled</code>跟<code>Promise.all</code>类似, 其参数接受一个<code>Promise</code>的数组, 返回一个新的<code>Promise</code>, 唯一的不同在于, 其不会进行短路, 也就是说当<code>Promise</code>全部处理完成后我们可以拿到每个<code>Promise</code>的状态, 而不管其是否处理成功.<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="built_in">Promise</span>.resolve(<span class="number">1</span>),</span><br><span class="line">    p2 = <span class="built_in">Promise</span>.reject(<span class="number">2</span>),</span><br><span class="line">    p3 = <span class="built_in">Promise</span>.resolve(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">Promise</span>.allSettled([p1, p2, p3]).then(<span class="function"><span class="keyword">function</span> (<span class="params">results</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//then方法不会被执行</span></span><br><span class="line">    <span class="built_in">console</span>.log(results);</span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><h2 id="Promise-prototype-finally"><a href="#Promise-prototype-finally" class="headerlink" title="Promise.prototype.finally()"></a>Promise.prototype.finally()</h2><p> 不管最后状态如何都会执行的回调函数。</p><p> <code>Promise.prototype.finally()</code> 方法返回一个<code>Promise</code>，在<code>promise</code>执行结束时，无论结果是<code>fulfilled</code>或者是<code>rejected</code>，在执行<code>then()</code>和<code>catch()</code>后，都会执行<code>finally</code>指定的回调函数。这为无论结果是<code>fulfilled</code>还是<code>rejected</code>都需要执行的代码提供了一种方式，避免同样的语句需要在<code>then()</code>和<code>catch()</code>中各写一次的情况。<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        resolve(<span class="string">'success'</span>)</span><br><span class="line">        <span class="comment">// reject('fail')</span></span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err)</span><br><span class="line">&#125;).finally(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'finally'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="async-await"><a href="#async-await" class="headerlink" title="async/await"></a>async/await</h2><p> 首先，我们使用 <code>async</code> 关键字，把它放在函数声明之前，使其成为 <code>async function</code>。异步函数是一个知道怎样使用 <code>await</code> </p><ol><li><code>async</code>放在函数声明之前, 然后调用该函数会返回一个 <code>promise</code>。这是异步函数的特征之一 —— 它保证函数的返回值为 <code>promise。</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="string">"Hello"</span> &#125;;</span><br><span class="line">hello();</span><br></pre></td></tr></table></figure><ul><li>要实际使用promise完成时返回的值，我们可以使用.then()块，因为它返回的是 promise：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello().then(<span class="function">(<span class="params">value</span>) =&gt;</span> <span class="built_in">console</span>.log(value))</span><br></pre></td></tr></table></figure></li></ul></li><li>当 <code>await</code> 关键字与异步函数一起使用时，它的真正优势就变得明显了 —— 事实上， <strong>await 只在异步函数里面才起作用</strong>。它可以放在任何异步的，基于 <code>promise</code> 的函数之前。它会暂停代码在该行上，直到 promise 完成，然后返回结果值。在暂停的同时，其他正在等待执行的代码就有机会执行了。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> greeting = <span class="keyword">await</span> <span class="built_in">Promise</span>.resolve(<span class="string">"Hello"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">hello().then(alert);</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://developer.mozilla.org/zh-CN/docs/learn/JavaScript/%E5%BC%82%E6%AD%A5/Async_await" target="_blank" rel="noopener">推荐async/await 基础</a></p></blockquote></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ES6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>fetch</title>
      <link href="/fetch/"/>
      <url>/fetch/</url>
      
        <content type="html"><![CDATA[<h2 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h2><ol><li>这种功能以前是使用 XMLHttpRequest 实现的。Fetch 提供了一个更理想的替代方案，可以很容易地被其他技术使用。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fetch(&#39;http:&#x2F;&#x2F;39.106.32.91:3000&#x2F;api&#x2F;getlunbo&#39;)</span><br><span class="line">  .then(response &#x3D;&gt; &#123; &#x2F;&#x2F; 通过 fetch 请求的结果，如果成功了，则第一个 .then中拿不到最终的数据</span><br><span class="line">  </span><br><span class="line">    &#x2F;&#x2F; 调用 response.json() 得到一个新的 Promise 对象</span><br><span class="line">    return response.json()</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(data &#x3D;&gt; &#123; &#x2F;&#x2F; 第二个.then中得到的才是真实的 数据</span><br><span class="line">    console.log(data)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ajax </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES6的import和export和export default</title>
      <link href="/Es6%E7%9A%84export%E5%92%8Cexport-default/"/>
      <url>/Es6%E7%9A%84export%E5%92%8Cexport-default/</url>
      
        <content type="html"><![CDATA[<h2 id="es6的导入导出"><a href="#es6的导入导出" class="headerlink" title="es6的导入导出"></a>es6的导入导出</h2><ol><li><p>ES6中导入模块，使用   <code>import 模块名称 from &#39;模块标识符&#39;</code>    <code>import &#39;表示路径&#39;</code></p></li><li><p>在 ES6 中，使用 <code>export default</code> 和 <code>export</code> 向外暴露成员：</p><ul><li>export default 向外暴露的成员，可以使用任意的变量来接收</li><li>在一个模块中，export default 只允许向外暴露1次</li><li>在一个模块中，可以同时使用 export default 和 export 向外暴露成员</li><li>使用 export 向外暴露的成员，只能使用 { } 的形式来接收，这种形式，叫做 【按需导出】</li><li>export 可以向外暴露多个成员， 同时，如果某些成员，我们在 import 的时候，不需要，则可以 不在 {}  中定义</li><li>使用 export 导出的成员，必须严格按照 导出时候的名称，来使用  {}  按需接收；</li><li>使用 export 导出的成员，如果 就想 换个 名称来接收，可以使用 as 来起别名；</li></ul><p>testEs6Export.js</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;导出变量</span><br><span class="line">export const a &#x3D; &#39;100&#39;;  </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;导出方法</span><br><span class="line">export const dogSay &#x3D; function()&#123; </span><br><span class="line">    console.log(&#39;wang wang&#39;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;导出方法第二种</span><br><span class="line">function catSay()&#123;</span><br><span class="line">  console.log(&#39;miao miao&#39;); </span><br><span class="line">&#125;</span><br><span class="line">export &#123; catSay &#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;export default导出</span><br><span class="line">const m &#x3D; 100;</span><br><span class="line">export default m; </span><br><span class="line">&#x2F;&#x2F;export defult const m &#x3D; 100;&#x2F;&#x2F; 这里不能写这种格式。</span><br></pre></td></tr></table></figure><p>import.js</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import &#123; dogSay, catSay &#125; from &#39;.&#x2F;testEs6Export&#39;; &#x2F;&#x2F;导出了 export 方法 </span><br><span class="line">import m1 from &#39;.&#x2F;testEs6Export&#39;;  &#x2F;&#x2F;导出了 export default</span><br><span class="line"></span><br><span class="line">import * as testModule from &#39;.&#x2F;testEs6Export&#39;; &#x2F;&#x2F;as 集合成对象导出</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ES6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nrm</title>
      <link href="/nrm/"/>
      <url>/nrm/</url>
      
        <content type="html"><![CDATA[<h2 id="nrm的安装使用"><a href="#nrm的安装使用" class="headerlink" title="nrm的安装使用"></a>nrm的安装使用</h2><p>  作用：提供了一些最常用的NPM包镜像地址，能够让我们快速的切换安装包时候的服务器地址；</p><p>  什么是镜像：原来包刚一开始是只存在于国外的NPM服务器，但是由于网络原因，经常访问不到，这时候，我们可以在国内，创建一个和官网完全一样的NPM服务器，只不过，数据都是从人家那里拿过来的，除此之外，使用方式完全一样；</p><ol><li><p>运行<code>npm i nrm -g</code>全局安装nrm包；</p></li><li><p>使用<code>nrm ls</code>查看当前所有可用的镜像源地址以及当前所使用的镜像源地址；</p></li><li><p>使用<code>nrm use npm</code>或<code>nrm use taobao</code>切换不同的镜像源地址；</p></li><li><p>测试所有源的速度：<code>nrm test</code></p></li><li><p>添加定制源： <code>nrm add imooc http://192.168.1.100:6666</code> </p><ul><li>imooc是为源起的名称 </li><li>imooc后面的是源的地址</li></ul></li><li><p>删除源: <code>nrm del imooc</code>  </p><ul><li>imooc是为源起的名称</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> npm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>url的构成</title>
      <link href="/url%E7%9A%84%E7%BB%84%E6%88%90/"/>
      <url>/url%E7%9A%84%E7%BB%84%E6%88%90/</url>
      
        <content type="html"><![CDATA[<h2 id="url的构成"><a href="#url的构成" class="headerlink" title="url的构成"></a>url的构成</h2><p>   例：<code>http://www.aspxfans.com:8080/news/index.asp?boardID=5&amp;ID=24618&amp;page=1#name</code></p><blockquote><p>就以下面这个URL为例，介绍下普通URL的各部分组成</p></blockquote><ol><li>协议部分：该URL的协议部分为“http：”，这代表网页使用的是HTTP协议。在Internet中可以使用多种协议，如HTTP，FTP等等本例中使用的是HTTP协议。在”HTTP”后面的“//”为分隔符</li><li>域名部分：该URL的域名部分为“<a href="http://www.aspxfans.com”。一个URL中，也可以使用IP地址作为域名使用" target="_blank" rel="noopener">www.aspxfans.com”。一个URL中，也可以使用IP地址作为域名使用</a></li><li>端口部分：跟在域名后面的是端口，域名和端口之间使用“:”作为分隔符。端口不是一个URL必须的部分，如果省略端口部分，将采用默认端口</li><li>虚拟目录部分：从域名后的第一个“/”开始到最后一个“/”为止，是虚拟目录部分。虚拟目录也不是一个URL必须的部分。本例中的虚拟目录是“/news/”</li><li>文件名部分：从域名后的最后一个“/”开始到“？”为止，是文件名部分，如果没有“?”,则是从域名后的最后一个“/”开始到“#”为止，是文件部分，如果没有“？”和“#”，那么从域名后的最后一个“/”开始到结束，都是文件名部分。本例中的文件名是“index.asp”。文件名部分也不是一个URL必须的部分，如果省略该部分，则使用默认的文件名</li><li>锚部分：从“#”开始到最后，都是锚部分。本例中的锚部分是“name”。锚部分也不是一个URL必须的部分</li><li>参数部分：从“？”开始到“#”为止之间的部分为参数部分，又称搜索部分、查询部分。本例中的参数部分为“boardID=5&amp;ID=24618&amp;page=1”。参数可以允许有多个参数，参数与参数之间用“&amp;”作为分隔符。</li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> url </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>跨域问题</title>
      <link href="/%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/"/>
      <url>/%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="什么是跨域以及产生原因？"><a href="#什么是跨域以及产生原因？" class="headerlink" title="什么是跨域以及产生原因？"></a>什么是跨域以及产生原因？</h2><ul><li><p>跨域是浏览器为了安全而做出的限制策略</p></li><li><p>跨域是指a页面想获取b页面资源，如果a、b页面的协议、域名、端口、子域名不同，或是a页面为ip地址，b页面为域名地址，所进行的访问行动都是跨域的，而浏览器为了安全问题一般都限制了跨域访问，也就是不允许跨域请求资源。</p><table><thead><tr><th>url</th><th>说明</th><th>是否跨域</th></tr></thead><tbody><tr><td><a href="http://www.cnblogs.com/a.js" target="_blank" rel="noopener">http://www.cnblogs.com/a.js</a><br/><a href="http://www.a.com/b.js" target="_blank" rel="noopener">http://www.a.com/b.js</a></td><td>不同域名</td><td>是</td></tr><tr><td><a href="http://www.a.com/lab/a.js" target="_blank" rel="noopener">http://www.a.com/lab/a.js</a><br/><a href="http://www.a.com/script/b.js" target="_blank" rel="noopener">http://www.a.com/script/b.js</a></td><td>同域名下不同文件</td><td>否</td></tr><tr><td><a href="http://www.a.com:8000/a.js" target="_blank" rel="noopener">http://www.a.com:8000/a.js</a><br/><a href="http://www.a.com/b.js" target="_blank" rel="noopener">http://www.a.com/b.js</a></td><td>同域名下不同端口</td><td>是</td></tr><tr><td><a href="http://www.a.com/a.js" target="_blank" rel="noopener">http://www.a.com/a.js</a><br/><a href="https://www.a.com/b.js" target="_blank" rel="noopener">https://www.a.com/b.js</a></td><td>同域名 不同协议</td><td>是</td></tr><tr><td><a href="http://www.a.com/a.js" target="_blank" rel="noopener">http://www.a.com/a.js</a><br/><a href="http://70.32.92.74/b.js" target="_blank" rel="noopener">http://70.32.92.74/b.js</a></td><td>域名和域名对应ip</td><td>是</td></tr><tr><td><a href="http://www.a.com/a.js" target="_blank" rel="noopener">http://www.a.com/a.js</a><br/><a href="http://script.a.com/b.js" target="_blank" rel="noopener">http://script.a.com/b.js</a></td><td>主域名相同 子域名不同</td><td>是（cookie不可访问）</td></tr><tr><td><a href="http://www.a.com/a.js" target="_blank" rel="noopener">http://www.a.com/a.js</a><br/><a href="http://a.com/b.js" target="_blank" rel="noopener">http://a.com/b.js</a></td><td>同一域名，不同二级域名（同上）</td><td>是</td></tr></tbody></table></li></ul><h2 id="跨域的解决办法"><a href="#跨域的解决办法" class="headerlink" title="跨域的解决办法"></a>跨域的解决办法</h2><h3 id="CORES跨域"><a href="#CORES跨域" class="headerlink" title="CORES跨域"></a>CORES跨域</h3><p> <a href="https://www.ruanyifeng.com/blog/2016/04/cors.html" target="_blank" rel="noopener">本文转自阮一峰大神的跨域资源共享 CORS 详解</a></p><h3 id="JSONP跨域"><a href="#JSONP跨域" class="headerlink" title="JSONP跨域"></a>JSONP跨域</h3><p> <a href="http://localhost:4000/jsonp/#jsonp%E8%A7%86%E9%A2%91%E6%95%99%E5%AD%A6" target="_blank" rel="noopener">我的另一篇文章</a></p><h3 id="代理跨域"><a href="#代理跨域" class="headerlink" title="代理跨域"></a>代理跨域</h3>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jsonp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsonp</title>
      <link href="/jsonp/"/>
      <url>/jsonp/</url>
      
        <content type="html"><![CDATA[<h2 id="jsonp视频教学"><a href="#jsonp视频教学" class="headerlink" title="jsonp视频教学"></a><a href="https://www.bilibili.com/video/BV1jt411j72F?p=1" target="_blank" rel="noopener">jsonp视频教学</a></h2><h2 id="为什么会有jsonp"><a href="#为什么会有jsonp" class="headerlink" title="为什么会有jsonp"></a>为什么会有jsonp</h2><p>   由于浏览器的安全性限制，不允许AJAX访问 协议不同、域名不同、端口号不同的 数据接口，浏览器认为这种访问不安全</p><h2 id="jsonp的实现原理"><a href="#jsonp的实现原理" class="headerlink" title="jsonp的实现原理"></a>jsonp的实现原理</h2><ol><li>初步方案一：用<strong>script</strong>标签<ul><li>服务端：将要发送的数据填充在一条js语句中<code>res.write(document.write(&quot;${weather}&quot;))</code></li><li>客户端：<code>&lt;script src=&quot;服务端接口地址&quot;&gt;&lt;/script&gt;</code></li><li>script发送请求到服务端，浏览器接受到接收到服务器发送的数据进行解析<blockquote><p>问题：服务端代码写死了，客户端只能执行服务端返回的js代码，服务端不能动态操作数据</p></blockquote></li></ul></li><li>完善方案二：提前在客户端定义一个函数，用于处理服务端返回的请求，服务端返回客户端定义的函数名到客户端，客户端接受到函数进行调用，并执行函数中的功能<ul><li>服务端：res.write(`show(${“weather”})`)</li><li>客户端：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> function show(weather) &#123;</span><br><span class="line">  实现代码功能</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>服务端把返回的方法写死，只能通过这个函数访问服务端返回的数据，不方便管理数据</p></blockquote></li></ul></li><li>完善方案三：用请求参数，将函数名动态传递给服务器<ul><li>服务端：res.write(`${callback}(${weather})`)</li><li>客户端：<code>&lt;script src=&quot;http://localhost:3000?callback=show&quot;&gt;&lt;/script&gt;</code><blockquote><p>script标签在页面写死，只有在页面加载的时候执行一次。无法按需反复执行，例如每次点击按钮时，随时发起请求。</p></blockquote></li></ul></li><li>最终完整版：每次点击按钮时，动态创建script标签<ul><li>客户端：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   $(&#39;button&#39;).click(function() &#123;</span><br><span class="line">   var script &#x3D; document.createElement(&quot;script&quot;)</span><br><span class="line">   script.src&#x3D;&#39;http:&#x2F;&#x2F;localhost:3000?callback&#x3D;show&#39;</span><br><span class="line">   document.body.appendChild(script)</span><br><span class="line">   $(&quot;body&gt;script:last&quot;).remove()&#x2F;&#x2F; 每次点击按钮，页面都会动态生成一个script标签，浪费内存，这句话是用来在函数执行完功能是，删除script标签</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li>服务端：res.write(`${callback}(${weather})`)</li></ul></li><li>总结<br>方案一使用script标签虽然获得了数据，但是不能操作数据，由此方案二诞生了，但是方案二只能把返回的数据，返回给固定的函数，数据利用率低，由此方案三诞生了，但是方案三中的script标签只能加载一次，无法多次操作数据，数据利用率低，由此出现了最终方案动态创建script标签，但是在我们的日常工作中是不会这样用的，会有事先大牛们为我们封装出来的库和包来供我们使用。</li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jsonp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue</title>
      <link href="/vue/"/>
      <url>/vue/</url>
      
        <content type="html"><![CDATA[<h2 id="vue是什么？"><a href="#vue是什么？" class="headerlink" title="vue是什么？"></a>vue是什么？</h2><ol><li><p>Vue是一套构建用户界面的渐进式框架，也是一个非常典型的 MVVM 的程序结构（model-view-viewmodel）。</p></li><li><p>官方解释：Vue (读音 /vjuː/，类似于 view) 是一套用于构建用户界面的渐进式框架。与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。</p><ul><li>渐变式框架：你可以把vue用在已经有的项目中，进行页面的渲染，也可以利用vue的全家桶创建大型项目,vue不是把所有东西集成在一起，而是你需要什么，在vue中添加相应的工具(例如vue-resource,vuex)，vue实现是加法操作</li><li>MVC: 是后端(node.js)的程序结构，M是model的缩写代表数据层，V是view的缩写代表视图层，C是controller的缩写代表逻辑层</li><li>MVVM: 是前端的程序结构，是MVC中的V进一步划分，M是每一个页面的单独数据，V是每个页面的html结构，VM是页面的调度者，MVVM 是Model-View-ViewModel 的缩写，它是一种基于前端开发的架构模式，其核心是提供对View 和 Model 的双向数据绑定，这使得Model 的状态改变可以自动传递给 View，即所谓的<code>数据双向绑定</code>。<br><img src="../image/vue1.png" alt=""></li><li>自底向上逐层应用：由基层开始做起，把基础的东西写好，再逐层往上添加效果和功能。</li></ul><hr></li></ol><h2 id="vue的安装"><a href="#vue的安装" class="headerlink" title="vue的安装"></a>vue的安装</h2><h3 id="vue的兼容性"><a href="#vue的兼容性" class="headerlink" title="vue的兼容性"></a>vue的兼容性</h3><ul><li>Vue 不支持 IE8 及以下版本，因为 Vue 使用了 IE8 无法模拟的 ECMAScript 5 特性。但它支持所有兼容   ECMAScript 5 的浏览器</li></ul><h3 id="Vue-Detools"><a href="#Vue-Detools" class="headerlink" title="Vue Detools"></a>Vue Detools</h3><ul><li>在使用 Vue 时，我们推荐在你的浏览器上安装 <a href="https://github.com/vuejs/vue-devtools#vue-devtools" target="_blank" rel="noopener">Vue Detools</a>。它允许你在一个更友好的界面中审查和调试 Vue 应用。</li></ul><h3 id="直接-lt-script-gt-引入"><a href="#直接-lt-script-gt-引入" class="headerlink" title="直接&lt;script&gt;引入"></a>直接<code>&lt;script&gt;</code>引入</h3><ul><li><p>直接下载并用 <code>&lt;script&gt;</code>标签引入，Vue 会被注册为一个全局变量。</p><blockquote><p>注意：在开发环境下不要使用压缩版本，不然你就失去了所有常见错误相关的警告!</p></blockquote></li><li><p>csdn<br>对于制作原型或学习，你可以这样使用最新版本：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>对于生产环境，我们推荐链接到一个明确的版本号和构建文件，以避免新版本造成的不可预期的破坏：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">script src=<span class="string">"https://cdn.jsdelivr.net/npm/vue@2.6.11"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="NPM"><a href="#NPM" class="headerlink" title="NPM"></a>NPM</h3><pre><code>在用 Vue 构建大型应用时推荐使用 NPM 安装。NPM 能很好地和诸如 webpack 或 Browserify 模块打包器配合使用。同时 Vue 也提供配套工具来开发单文件组件。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 最新稳定版</span><br><span class="line">$ npm install vue</span><br></pre></td></tr></table></figure></code></pre><h3 id="命令行工具-CLI"><a href="#命令行工具-CLI" class="headerlink" title="命令行工具(CLI)"></a>命令行工具(CLI)</h3><blockquote><p>vue 提供了一个官方的 CLI，为单页面应用 (SPA) 快速搭建繁杂的脚手架。它为现代前端工作流提供了     batteries-included 的构建设置。只需要几分钟的时间就可以运行起来并带有热重载、保存时 lint 校验，以 及生产环境可用的构建版本。更多详情可查阅 Vue CLI 的文档。</p></blockquote><h3 id="对不同版本的理解-以后更新"><a href="#对不同版本的理解-以后更新" class="headerlink" title="对不同版本的理解(以后更新)"></a>对不同版本的理解(以后更新)</h3><h2 id="与vue的第一次相见"><a href="#与vue的第一次相见" class="headerlink" title="与vue的第一次相见"></a>与vue的第一次相见</h2><ul><li><p>注意：在 VM实例中，如果想要获取 data 上的数据，或者 想要调用 methods 中的 方法，必须通过 this.数据属性名  或  this.方法名 来进行访问，这里的this，就表示 我们 new 出来的  VM 实例对象</p></li><li><p>注意： VM实例，会监听自己身上 data 中所有数据的改变，只要数据一发生变化,就会自动把 最新的数据，从data 上同步到页面中去；【好处：程序员只需要关心数据，不需要考虑如何重新渲染DOM页面】</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"> &lt;body&gt;</span><br><span class="line">  &lt;!-- 将来 <span class="keyword">new</span> 的Vue实例，会控制这个 元素中的所有内容 --&gt;</span><br><span class="line">  &lt;!-- Vue 实例所控制的这个元素区域，就是我们的 V  --&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123; msg &#125;&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="comment">// 2. 创建一个Vue的实例</span></span><br><span class="line">    <span class="comment">// 当我们导入包之后，在浏览器的内存中，就多了一个 Vue 构造函数</span></span><br><span class="line">    <span class="comment">//  注意：我们 new 出来的这个 vm 对象，就是我们 MVVM中的 VM调度者</span></span><br><span class="line">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      el: <span class="string">'#app'</span>,  <span class="comment">// 表示，当前我们 new 的这个 Vue 实例，要控制页面上的哪个区域</span></span><br><span class="line">      <span class="comment">// 这里的 data 就是 MVVM中的 M，专门用来保存 每个页面的数据的</span></span><br><span class="line">      data: &#123; <span class="comment">// data 属性中，存放的是 el 中要用到的数据</span></span><br><span class="line">        msg: <span class="string">'欢迎学习Vue'</span> <span class="comment">// 通过 Vue 提供的指令，很方便的就能把数据渲染到页面上，程序员不再手动操作DOM元素了【前端的Vue之类的框架，不提倡我们去手动操作DOM元素了】</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure><h2 id="vue指令"><a href="#vue指令" class="headerlink" title="vue指令"></a>vue指令</h2><h3 id="v-cloak-v-html-v-text"><a href="#v-cloak-v-html-v-text" class="headerlink" title="v-cloak, v-html, v-text"></a>v-cloak, v-html, v-text</h3><ul><li><p><code>v-cloak</code>: 使用v-cloak能够解决 插值表达式闪烁的问题，并且不会替换标签中的内容，只会替换插值表达式</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  [v-cloak] &#123;</span><br><span class="line">    <span class="comment">/* display: none; */</span></span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/style&gt;</span></span><br><span class="line"><span class="regexp">&lt;body&gt;</span></span><br><span class="line"><span class="regexp">  &lt;div id="app"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;!-- 使用 v-cloak 能够解决 插值表达式闪烁的问题 --&gt;</span></span><br><span class="line"><span class="regexp">    &lt;p v-cloak&gt;++++++++ &#123;&#123; msg &#125;&#125; ----------&lt;/</span>p&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;script src="./</span>lib/vue<span class="number">-2.4</span><span class="number">.0</span>.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">  &lt;script&gt;</span></span><br><span class="line"><span class="string">    var vm = new Vue(&#123;</span></span><br><span class="line"><span class="string">      el: '#app',</span></span><br><span class="line"><span class="string">      data: &#123;</span></span><br><span class="line"><span class="string">        msg: '123',</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">  &lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><code>v-text</code>: 自身标签就可以解决闪烁问题，但是会替换标签中所有的内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;h4 v-text=<span class="string">"msg"</span>&gt;==================&lt;<span class="regexp">/h4&gt;</span></span><br><span class="line"><span class="regexp">    &lt;!-- 默认 v-text 是没有闪烁问题的 --&gt;</span></span><br><span class="line"><span class="regexp">    &lt;!-- v-text会覆盖元素中原本的内容，但是 插值表达式  只会替换自己的这个占位符，不会把 整个元素的内容清空 --&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">  &lt;script src=<span class="string">"./lib/vue-2.4.0.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">  &lt;script&gt;</span></span><br><span class="line"><span class="regexp">    var vm = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">      el: '#app',</span></span><br><span class="line"><span class="regexp">      data: &#123;</span></span><br><span class="line"><span class="regexp">        msg: '123',</span></span><br><span class="line"><span class="regexp">      &#125;,</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp">  &lt;/</span>script&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><code>v-html</code>: 用于转化html标签的数据, 也会替换标签中的内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">     &lt;div v-html=<span class="string">"msg2"</span>&gt;<span class="number">1212112</span>&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">   &lt;script src="./</span>lib/vue<span class="number">-2.4</span><span class="number">.0</span>.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">   &lt;script&gt;</span></span><br><span class="line"><span class="string">     var vm = new Vue(&#123;</span></span><br><span class="line"><span class="string">       el: '#app',</span></span><br><span class="line"><span class="string">       data: &#123;</span></span><br><span class="line"><span class="string">         msg2: '&lt;h1&gt;哈哈，我是一个大大的H1， 我大，我骄傲&lt;/h1&gt;',</span></span><br><span class="line"><span class="string">       &#125;,</span></span><br><span class="line"><span class="string">     &#125;)</span></span><br><span class="line"><span class="string">   &lt;/script&gt;</span></span><br><span class="line"><span class="string"> &lt;/body&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="v-bind"><a href="#v-bind" class="headerlink" title="v-bind"></a>v-bind</h3><ul><li><p>v-bind简写<code>:</code> ,用于数据把数据初始化在html页面(例如照片的渲染:src)</p></li><li><p>v-bind不仅能够绑定数据，而且能够在v-bind中书写<strong>表达式</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;!-- v-bind: 是 Vue中，提供的用于绑定属性的指令 --&gt;</span><br><span class="line">    &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"按钮"</span> <span class="attr">v-bind:title</span>=<span class="string">"mytitle + '123'"</span>&gt;</span> --&gt;</span></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- 注意： v-bind: 指令可以被简写为 :要绑定的属性 --&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- v-bind 中，可以写合法的JS表达式 --&gt;</span></span></span><br><span class="line">    &lt;input type="button" value="按钮" :title="mytitle + '123'"&gt;</span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./lib/vue-2.4.0.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    var vm = new Vue(&#123;</span><br><span class="line">      el: '#app',</span><br><span class="line">      data: &#123;</span><br><span class="line">        mytitle: '这是一个自己定义的title'</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span>click</span><br></pre></td></tr></table></figure></li></ul><h3 id="v-on"><a href="#v-on" class="headerlink" title="v-on"></a>v-on</h3><ul><li><p>v-on简写@(v-on:click简写为@click)</p></li><li><p>用于绑定各种事件(例如常见的click)</p></li><li><p>v-on会通过绑定在自己身上的变量，在methods中寻找自己的函数进行运行</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">  &lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">"button"</span> value=<span class="string">"按钮"</span> @click=<span class="string">"show"</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;script src="./</span>lib/vue<span class="number">-2.4</span><span class="number">.0</span>.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  &lt;script&gt;</span></span><br><span class="line"><span class="string">    var vm = new Vue(&#123;</span></span><br><span class="line"><span class="string">      el: '#app',</span></span><br><span class="line"><span class="string">      data: &#123;</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      methods: &#123; // 这个 methods属性中定义了当前Vue实例所有可用的方法</span></span><br><span class="line"><span class="string">        show: function () &#123;</span></span><br><span class="line"><span class="string">          alert('Hello')</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">  &lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a>v-model</h3><ol><li>v-bind 只能实现数据的单向绑定，从 M 自动绑定到 V， 无法实现数据的双向绑定,而v-model 指令，可以实现 表单元素和 Model 中数据的双向数据绑定</li><li>v-model多用于表单(例如：input(radio, text, address, email….)   select    checkbox   textarea )<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> &lt;body&gt;</span><br><span class="line">   &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">     &lt;!-- 使用  v-model 指令，可以实现 表单元素和 Model 中数据的双向数据绑定 --&gt;</span><br><span class="line">     &lt;!-- 注意： v-model 只能运用在 表单元素中 --&gt;</span><br><span class="line">     &lt;!-- input(radio, text, address, email....)   select    checkbox   textarea   --&gt;</span><br><span class="line">     &lt;input type=<span class="string">"text"</span> style=<span class="string">"width:100%;"</span> v-model=<span class="string">"msg"</span>&gt;</span><br><span class="line">   &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">   &lt;script&gt;</span></span><br><span class="line"><span class="regexp">     var vm = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">       el: '#app',</span></span><br><span class="line"><span class="regexp">       data: &#123;</span></span><br><span class="line"><span class="regexp">         msg: '大家都是好学生，爱敲代码，爱学习，爱思考，简直是完美，没瑕疵！'</span></span><br><span class="line"><span class="regexp">       &#125;,</span></span><br><span class="line"><span class="regexp">       methods: &#123;</span></span><br><span class="line"><span class="regexp">       &#125;</span></span><br><span class="line"><span class="regexp">     &#125;);</span></span><br><span class="line"><span class="regexp">   &lt;/</span>script&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="v-for"><a href="#v-for" class="headerlink" title="v-for"></a>v-for</h3><blockquote><p>2.2.0+ 的版本里，当在组件中使用 v-for 时，key 现在是必须的。</p></blockquote><ol><li>迭代普通数组<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;p v-<span class="keyword">for</span>=<span class="string">"(item, i) in list"</span> :key=<span class="string">"i"</span>&gt;索引值：&#123;&#123;i&#125;&#125; --- 每一项：&#123;&#123;item&#125;&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      el: <span class="string">'#app'</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">        list: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;&#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure></li><li>迭代对象数组<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"> &lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;p v-<span class="keyword">for</span>=<span class="string">"(user, i) in list"</span> :key=<span class="string">"i"</span>&gt;Id：&#123;&#123; user.id &#125;&#125; --- 名字：&#123;&#123; user.name &#125;&#125; --- 索引：&#123;&#123;i&#125;&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      el: <span class="string">'#app'</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">        list: [</span><br><span class="line">          &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">'zs1'</span> &#125;,</span><br><span class="line">          &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">'zs2'</span> &#125;,</span><br><span class="line">          &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">'zs3'</span> &#125;,</span><br><span class="line">          &#123; <span class="attr">id</span>: <span class="number">4</span>, <span class="attr">name</span>: <span class="string">'zs4'</span> &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;&#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure></li><li>迭代对象<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;!-- 注意：在遍历对象身上的键值对的时候， 除了 有  val  key  ,在第三个位置还有 一个 索引  --&gt;</span><br><span class="line">    &lt;p v-<span class="keyword">for</span>=<span class="string">"(val, key, i) in user"</span> :key=<span class="string">"i"</span>&gt;值是： &#123;&#123; val &#125;&#125; --- 键是： &#123;&#123;key&#125;&#125; -- 索引： &#123;&#123;i&#125;&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      el: <span class="string">'#app'</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">        user: &#123;</span><br><span class="line">          id: <span class="number">1</span>,</span><br><span class="line">          name: <span class="string">'托尼·屎大颗'</span>,</span><br><span class="line">          gender: <span class="string">'男'</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;&#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure></li><li>迭代数字<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;!-- <span class="keyword">in</span> 后面我们放过  普通数组，对象数组，对象， 还可以放数字 --&gt;</span><br><span class="line">    &lt;!-- 注意：如果使用 v-<span class="keyword">for</span> 迭代数字的话，前面的 count 值从 <span class="number">1</span> 开始 --&gt;</span><br><span class="line">    &lt;p v-<span class="keyword">for</span>=<span class="string">"count in 10"</span> :key=<span class="string">"count"</span>&gt;这是第 &#123;&#123; count &#125;&#125; 次循环&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="comment">// 创建 Vue 实例，得到 ViewModel</span></span><br><span class="line">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      el: <span class="string">'#app'</span>,</span><br><span class="line">      data: &#123;&#125;,</span><br><span class="line">      methods: &#123;&#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="v-if和v-show"><a href="#v-if和v-show" class="headerlink" title="v-if和v-show"></a>v-if和v-show</h3><ol><li>v-if<ul><li>每次都会重新删除或创建元素</li><li>有较高的切换性能消耗</li></ul></li><li>v-show<ul><li>每次不会重新进行DOM的删除和创建操作，只是切换了元素的 display:none 样式</li><li>有较高的初始渲染消耗</li></ul></li><li>建议使用<ul><li>如果元素涉及到频繁的切换，最好不要使用 v-if, 而是推荐使用 v-show</li><li>如果元素可能永远也不会被显示出来被用户看到，则推荐使用 v-if<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> &lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">"button"</span> value=<span class="string">"toggle"</span> @click=<span class="string">"flag=!flag"</span>&gt;</span><br><span class="line">    &lt;h3 v-<span class="keyword">if</span>=<span class="string">"flag"</span>&gt;这是用v-<span class="keyword">if</span>控制的元素&lt;<span class="regexp">/h3&gt;</span></span><br><span class="line"><span class="regexp">    &lt;h3 v-show="flag"&gt;这是用v-show控制的元素&lt;/</span>h3&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  &lt;script&gt;</span></span><br><span class="line"><span class="regexp">    var vm = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">      el: '#app',</span></span><br><span class="line"><span class="regexp">      data: &#123;</span></span><br><span class="line"><span class="regexp">        flag: false</span></span><br><span class="line"><span class="regexp">      &#125;,</span></span><br><span class="line"><span class="regexp">    &#125;);</span></span><br><span class="line"><span class="regexp">  &lt;/</span>script&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li></ol><h3 id="v-if和v-else"><a href="#v-if和v-else" class="headerlink" title="v-if和v-else"></a>v-if和v-else</h3><pre><code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;a href=<span class="string">""</span> @click.prevent=<span class="string">"flag=true"</span>&gt;登录&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">    &lt;a href="" @click.prevent="flag=false"&gt;注册&lt;/</span>a&gt;</span><br><span class="line"></span><br><span class="line">    &lt;login v-<span class="keyword">if</span>=<span class="string">"flag"</span>&gt;&lt;<span class="regexp">/login&gt;</span></span><br><span class="line"><span class="regexp">    &lt;register v-else="flag"&gt;&lt;/</span>register&gt;</span><br><span class="line"></span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  &lt;script&gt;</span></span><br><span class="line"><span class="regexp">    Vue.component('login', &#123;</span></span><br><span class="line"><span class="regexp">      template: '&lt;h3&gt;登录组件&lt;/</span>h3&gt;<span class="string">'</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Vue.component('</span>register<span class="string">', &#123;</span></span><br><span class="line"><span class="string">      template: '</span>&lt;h3&gt;注册组件&lt;<span class="regexp">/h3&gt;'</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ 创建 Vue 实例，得到 ViewModel</span></span><br><span class="line"><span class="regexp">    var vm = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">      el: '#app',</span></span><br><span class="line"><span class="regexp">      data: &#123;</span></span><br><span class="line"><span class="regexp">        flag: false</span></span><br><span class="line"><span class="regexp">      &#125;,</span></span><br><span class="line"><span class="regexp">      methods: &#123;&#125;</span></span><br><span class="line"><span class="regexp">    &#125;);</span></span><br><span class="line"><span class="regexp">  &lt;/</span>script&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br></pre></td></tr></table></figure></code></pre><h3 id="vue自定义指令"><a href="#vue自定义指令" class="headerlink" title="vue自定义指令"></a>vue自定义指令</h3><h4 id="全局指令"><a href="#全局指令" class="headerlink" title="全局指令"></a>全局指令</h4><ol><li><p>Vue.directive() 定义全局的指令</p></li><li><p>参数1 ： 指令的名称，注意，在定义的时候，指令的名称前面，不需要加 v- 前缀,  但是： 在调用的时候，必须 在指令名称前 加上 v- 前缀来进行调用</p></li><li><p>参数2： 是一个对象，这个对象身上，有一些指令相关的函数，这些函数可以在特定的阶段，执行相关的操作</p><ul><li>bind: 每当指令绑定到元素上的时候，会立即执行这个 bind 函数，只执行一次,在每个 函数中，第一个参数，永远是 el ，表示 被绑定了指令的那个元素，这个 el 参数，是一个原生的JS对象,第二个参数是 binding, 在元素刚绑定了指令的时候，还没有 插入到 DOM中去，这时候，调用 focus 方法没有作用,因为，一个元素，只有插入DOM之后，才能获取焦点<blockquote><p>所以bind中应该操作样式</p></blockquote></li><li>inserted: 表示元素 插入到DOM中的时候，会执行 inserted 函数【触发1次】<blockquote><p>JS行为有关的操作，最好在 inserted 中去执行，放置 JS行为不生效</p></blockquote></li><li>updated: 当VNode更新的时候，会执行 updated， 可能会触发多次<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot; class&#x3D;&quot;form-control&quot; v-model&#x3D;&quot;keywords&quot; id&#x3D;&quot;search&quot; v-focus v-color&#x3D;&quot;&#39;green&#39;&quot;&gt;</span><br><span class="line"></span><br><span class="line">Vue.directive(&#39;focus&#39;, &#123;</span><br><span class="line">  bind(el) &#123;  </span><br><span class="line">    &#x2F;&#x2F; el.focus()</span><br><span class="line">  &#125;,</span><br><span class="line">  inserted(el) &#123; </span><br><span class="line">    el.focus()</span><br><span class="line">  &#125;,</span><br><span class="line">  updated(el) &#123;  </span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul></li><li><p>全局自定指令简写：</p><blockquote><p>这个 function 等同于把代码写到了 bind 和 update 中去</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vue.directive(&#39;color-swatch&#39;, function (el, binding) &#123;</span><br><span class="line">  el.style.backgroundColor &#x3D; binding.value</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><h4 id="局部指令"><a href="#局部指令" class="headerlink" title="局部指令"></a>局部指令</h4><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">  &lt;div id&#x3D;&quot;app2&quot;&gt;</span><br><span class="line">    &lt;h3 v-color&#x3D;&quot;&#39;pink&#39;&quot; v-fontweight&#x3D;&quot;900&quot; v-fontsize&#x3D;&quot;50&quot;&gt;&#123;&#123; dt | dateFormat &#125;&#125;&lt;&#x2F;h3&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">var vm2 &#x3D; new Vue(&#123;</span><br><span class="line">      el: &#39;#app2&#39;,</span><br><span class="line">      data: &#123;</span><br><span class="line">        dt: new Date()</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">      directives: &#123; &#x2F;&#x2F; 自定义私有指令</span><br><span class="line">        &#39;fontweight&#39;: &#123; &#x2F;&#x2F; 设置字体粗细的</span><br><span class="line">          bind: function (el, binding) &#123;</span><br><span class="line">            el.style.fontWeight &#x3D; binding.value</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#x2F;&#x2F; 私有命令简写</span><br><span class="line">        &#39;fontsize&#39;: function (el, binding) &#123; &#x2F;&#x2F; 注意：这个 function 等同于 把 代码写到了 bind 和 update 中去</span><br><span class="line">          el.style.fontSize &#x3D; parseInt(binding.value) + &#39;px&#39;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure></code></pre><ol><li>局部自定义指令简写:<blockquote><p>这个 function 等同于把代码写到了 bind 和 update 中去</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var vm2 &#x3D; new Vue(&#123;</span><br><span class="line">  el: &#39;#app2&#39;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    dt: new Date()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">  directives: &#123; &#x2F;&#x2F; 自定义私有指令</span><br><span class="line">    &#39;fontsize&#39;: function (el, binding) &#123; &#x2F;&#x2F; 注意：这个 function 等同于 把 代码写到了 bind 和 update 中去</span><br><span class="line">      el.style.fontSize &#x3D; parseInt(binding.value) + &#39;px&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><h4 id="钩子函数的参数"><a href="#钩子函数的参数" class="headerlink" title="钩子函数的参数"></a>钩子函数的参数</h4><ol><li>el：指令所绑定的元素，可以用来直接操作 DOM。</li><li>binding：一个对象，包含以下 property：<ul><li>name：指令名，不包括 v- 前缀。</li><li>value：指令的绑定值，例如：v-my-directive=”1 + 1” 中，绑定值为 2。</li><li>expression：字符串形式的指令表达式。例如 v-my-directive=”1 + 1” 中，表达式为 “1 + 1”。</li></ul></li></ol><h2 id="slot"><a href="#slot" class="headerlink" title="slot"></a>slot</h2><p>   <a href="https://juejin.im/post/5c64e11151882562e4726d98" target="_blank" rel="noopener">https://juejin.im/post/5c64e11151882562e4726d98</a></p><h2 id="在Vue中使用样式"><a href="#在Vue中使用样式" class="headerlink" title="在Vue中使用样式"></a>在Vue中使用样式</h2><h3 id="使用class样式"><a href="#使用class样式" class="headerlink" title="使用class样式"></a>使用class样式</h3><ol><li><strong>数组</strong>(如果直接写一个字符串，vue会把这个变量解析成一个变量，在vue实例中寻找变量，寻找不到就会报错)<br>例：<code>&lt;h1 :class=&quot;thin&quot;&gt;这是一个很大很大的H1，大到你无法想象！！！&lt;/h1&gt;</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">  &lt;style&gt;</span><br><span class="line">    .thin &#123;</span><br><span class="line">      font-weight: <span class="number">200</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .italic &#123;</span><br><span class="line">      font-style: italic;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;<span class="regexp">/style&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;!-- 第一种使用方式，直接传递一个数组，注意： 这里的 <span class="class"><span class="keyword">class</span> 需要使用  <span class="title">v</span>-<span class="title">bind</span> 做数据绑定 --&gt;</span></span><br><span class="line">    &lt;!-- &lt;h1 :class="['thin', 'italic']"&gt;这是一个很大很大的H1，大到你无法想象！！！&lt;/h1&gt; --&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  &lt;script&gt;</span></span><br><span class="line"><span class="regexp">    var vm = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">      el: '#app',</span></span><br><span class="line"><span class="regexp">      data: &#123;</span></span><br><span class="line"><span class="regexp">      &#125;,</span></span><br><span class="line"><span class="regexp">      methods: &#123;&#125;</span></span><br><span class="line"><span class="regexp">    &#125;);</span></span><br><span class="line"><span class="regexp">  &lt;/</span>script&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br></pre></td></tr></table></figure></li><li><strong>数组</strong>中使用 <strong>三元表达式</strong>(其中flag大多数是条件语句)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">  &lt;style&gt;</span><br><span class="line">    .red &#123;</span><br><span class="line">      color: red;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .thin &#123;</span><br><span class="line">      font-weight: <span class="number">200</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .italic &#123;</span><br><span class="line">      font-style: italic;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .active &#123;</span><br><span class="line">      letter-spacing: <span class="number">0.5</span>em;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;<span class="regexp">/style&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;!-- 在数组中使用三元表达式 --&gt;</span><br><span class="line">    &lt;!-- 其中flag大多数是条件语句 --&gt;</span><br><span class="line">    &lt;h1 :<span class="class"><span class="keyword">class</span></span>=<span class="string">"['thin', 'italic', flag?'active':'']"</span>&gt;这是一个很大很大的H1，大到你无法想象！！！&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      el: <span class="string">'#app'</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">        flag: <span class="literal">true</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;&#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure></li><li><strong>数组</strong>中嵌套<strong>对象</strong>(其中flag大多数是条件语句)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">  &lt;style&gt;</span><br><span class="line">    .thin &#123;</span><br><span class="line">      font-weight: <span class="number">200</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .italic &#123;</span><br><span class="line">      font-style: italic;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .active &#123;</span><br><span class="line">      letter-spacing: <span class="number">0.5</span>em;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;<span class="regexp">/style&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;body&gt;</span></span><br><span class="line"><span class="regexp">  &lt;div id="app"&gt;</span></span><br><span class="line"><span class="regexp">  &lt;!-- 在数组中使用 对象来代替三元表达式，提高代码的可读性 --&gt;</span></span><br><span class="line"><span class="regexp">    &lt;h1 :class="['thin', 'italic', &#123;'active':flag&#125; ]"&gt;这是一个很大很大的H1，大到你无法想象</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="comment">// 创建 Vue 实例，得到 ViewModel</span></span><br><span class="line">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      el: <span class="string">'#app'</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">        flag: <span class="literal">true</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;&#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure></li><li><strong>直接使用对象</strong>(通常情况下不直接给false，或者true，经常条件语句)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">  &lt;style&gt;</span><br><span class="line">    .red &#123;</span><br><span class="line">      color: red;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .thin &#123;</span><br><span class="line">      font-weight: <span class="number">200</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .italic &#123;</span><br><span class="line">      font-style: italic;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .active &#123;</span><br><span class="line">      letter-spacing: <span class="number">0.5</span>em;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;<span class="regexp">/style&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;!-- 在为 <span class="class"><span class="keyword">class</span> 使用 <span class="title">v</span>-<span class="title">bind</span> 绑定 对象的时候，对象的属性是类名，由于 对象的属性可带引号，也可不带引号，所以 这里我没写引号；  属性的值 是一个标识符 --&gt;</span></span><br><span class="line">    &lt;h1 :class=" classObj: &#123; red: true, thin: true, italic: false, active: false &#125;"&gt;这是一个很大很大的H1，大到你无法想象！！！&lt;/h1&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  &lt;script&gt;</span></span><br><span class="line"><span class="regexp">    var vm = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">      el: '#app',</span></span><br><span class="line"><span class="regexp">      data: &#123;</span></span><br><span class="line"><span class="regexp">        flag: true,</span></span><br><span class="line"><span class="regexp">      &#125;,</span></span><br><span class="line"><span class="regexp">      methods: &#123;&#125;</span></span><br><span class="line"><span class="regexp">    &#125;);</span></span><br><span class="line"><span class="regexp">  &lt;/</span>script&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="使用内联样式"><a href="#使用内联样式" class="headerlink" title="使用内联样式"></a>使用内联样式</h3><ol><li>直接在元素上通过 :style 的形式，书写样式对象<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 :style=<span class="string">"&#123;color: 'red', 'font-size': '40px'&#125;"</span>&gt;这是一个善良的H1&lt;<span class="regexp">/h1&gt;</span></span><br></pre></td></tr></table></figure></li><li>将样式对象，定义到<code>data</code> 中，并直接引用到 <code>:style</code> 中<ul><li>在data上定义样式：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">    h1StyleObj: &#123; <span class="attr">color</span>: <span class="string">'red'</span>, <span class="string">'font-size'</span>: <span class="string">'40px'</span>, <span class="string">'font-weight'</span>: <span class="string">'200'</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>在元素中，通过属性绑定的形式，将样式对象应用到元素中：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 :style=<span class="string">"h1StyleObj"</span>&gt;这是一个善良的H1&lt;<span class="regexp">/h1&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li><li>在 <code>:style</code> 中通过数组，引用多个<code>data</code> 上的样式对象<ul><li>在data上定义样式：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">    h1StyleObj: &#123; <span class="attr">color</span>: <span class="string">'red'</span>, <span class="string">'font-size'</span>: <span class="string">'40px'</span>, <span class="string">'font-weight'</span>: <span class="string">'200'</span> &#125;,</span><br><span class="line">    h1StyleObj2: &#123; <span class="attr">fontStyle</span>: <span class="string">'italic'</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>在元素中，通过属性绑定的形式，将样式对象应用到元素中：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 :style=<span class="string">"[h1StyleObj, h1StyleObj2]"</span>&gt;这是一个善良的H1&lt;<span class="regexp">/h1&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li></ol><h2 id="Vue的过滤器"><a href="#Vue的过滤器" class="headerlink" title="Vue的过滤器"></a>Vue的过滤器</h2><blockquote><p>Vue.js 允许你自定义过滤器，可被用作一些常见的文本格式化。过滤器可以用在两个地方：mustache 插值和 v-bind 表达式。过滤器应该被添加在 JavaScript 表达式的尾部，由“管道”符指示；</p><blockquote><p>注意：当有局部和全局两个名称相同的过滤器时候，会以就近原则进行调用，即：局部过滤器优先于全局过滤器被调用！</p></blockquote></blockquote><ul><li>过滤器的第一个参数要处理的值(也就是管道符前面的值)，过滤器可以传递多个参数</li><li>一个值也可以使用多个过滤器<h3 id="全局过滤器"><a href="#全局过滤器" class="headerlink" title="全局过滤器"></a>全局过滤器</h3><ul><li>所谓的全局过滤器，就是所有的VM实例都共享的<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123; msg | msgFormat(<span class="string">'疯狂+1'</span>, <span class="string">'123'</span>) | test &#125;&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    Vue.filter(<span class="string">'msgFormat'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">msg, arg, arg2</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 字符串的  replace 方法，第一个参数，除了可写一个 字符串之外，还可以定义一个正则</span></span><br><span class="line">      <span class="keyword">return</span> msg.replace(<span class="regexp">/单纯/g</span>, arg + arg2)</span><br><span class="line">    &#125;)</span><br><span class="line">    Vue.filter(<span class="string">'test'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">msg</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> msg + <span class="string">'========'</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      el: <span class="string">'#app'</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">        msg: <span class="string">'曾经，我也是一个单纯的少年，单纯的我，傻傻的问，谁是世界上最单纯的男人'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;&#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure><h3 id="私有过滤器"><a href="#私有过滤器" class="headerlink" title="私有过滤器"></a>私有过滤器</h3><ul><li>私有过滤器只能应用于自己vm的区域<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"> &lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123; msg | msgFormat(<span class="string">'疯狂+1'</span>, <span class="string">'123'</span>)&#125;&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      el: <span class="string">'#app'</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">        msg: <span class="string">'曾经，我也是一个单纯的少年，单纯的我，傻傻的问，谁是世界上最单纯的男人'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;&#125;,</span><br><span class="line">      filters: &#123; </span><br><span class="line">        msgFormat(msg, arg, arg2) &#123;</span><br><span class="line">          <span class="keyword">return</span> msg.replace(<span class="regexp">/单纯/g</span>, arg + arg2)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ul><h2 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h2><h3 id="事件修饰符"><a href="#事件修饰符" class="headerlink" title="事件修饰符"></a>事件修饰符</h3><ol><li><p>事件修饰符可以叠加使用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 组织默认行为，并且只能触发一次 --&gt;</span><br><span class="line">&lt;a href=<span class="string">"http://www.baidu.com"</span> @click.prevent.once=<span class="string">"linkClick"</span>&gt;有问题，先去百度&lt;<span class="regexp">/a&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>.stop</strong>用于阻止冒泡(例如子元素与父元素都有点击事件，默认触发子元素事件，父元素事件也要被触发，通过.stop可以实现触发子元素事件，父元素事件不会被触发)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">    &lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;!-- 使用  .stop  阻止冒泡 --&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"inner"</span> @click=<span class="string">"div1Handler"</span>&gt;</span><br><span class="line">      &lt;input type=<span class="string">"button"</span> value=<span class="string">"戳他"</span> @click.stop=<span class="string">"btnHandler"</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="comment">// 创建 Vue 实例，得到 ViewModel</span></span><br><span class="line">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      el: <span class="string">'#app'</span>,</span><br><span class="line">      data: &#123;&#125;,</span><br><span class="line">      methods: &#123;</span><br><span class="line">        div1Handler() &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'这是触发了 inner div 的点击事件'</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        btnHandler() &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'这是触发了 btn 按钮 的点击事件'</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure></li><li><p><strong>.prevent</strong>用于阻止默认行为(例如：a链接默认是提供超链接的，我们可以通过.prevent来阻止默认行为)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> &lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;!-- 使用 .prevent 阻止默认行为 --&gt;</span><br><span class="line">    &lt;a href=<span class="string">"http://www.baidu.com"</span> @click.prevent=<span class="string">"linkClick"</span>&gt;有问题，先去百度&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="comment">// 创建 Vue 实例，得到 ViewModel</span></span><br><span class="line">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      el: <span class="string">'#app'</span>,</span><br><span class="line">      data: &#123;&#125;,</span><br><span class="line">      methods: &#123;</span><br><span class="line">        linkClick() &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'触发了连接的点击事件'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure></li><li><p><strong>.capture</strong> 实现捕获触发事件的机制(默认是冒泡机制，触发子元素事件，父元素事件被冒泡触发，使用.capture后触发子元素，父元素事件先触发，子元素事件再触发)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">   &lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;!-- 使用  .capture 实现捕获触发事件的机制 --&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"inner"</span> @click.capture=<span class="string">"div1Handler"</span>&gt;</span><br><span class="line">      &lt;input type=<span class="string">"button"</span> value=<span class="string">"戳他"</span> @click=<span class="string">"btnHandler"</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="comment">// 创建 Vue 实例，得到 ViewModel</span></span><br><span class="line">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      el: <span class="string">'#app'</span>,</span><br><span class="line">      data: &#123;&#125;,</span><br><span class="line">      methods: &#123;</span><br><span class="line">        div1Handler() &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'这是触发了 inner div 的点击事件'</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        btnHandler() &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'这是触发了 btn 按钮 的点击事件'</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure></li><li><p><strong>.self</strong> 实现只有点击当前元素时候，才会触发事件处理函数(.self使只有触发当前元素才会触发事件，其他元素冒泡或者捕获都不会触发这个元素事件，但是他只作用与自己，其他元素冒泡和捕获继续执行)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"> &lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;!-- 使用 .self 实现只有点击当前元素时候，才会触发事件处理函数 --&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"inner"</span> @click=<span class="string">"div1Handler"</span>&gt;</span><br><span class="line">      &lt;input type=<span class="string">"button"</span> value=<span class="string">"戳他"</span> @click=<span class="string">"btnHandler"</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="comment">// 创建 Vue 实例，得到 ViewModel</span></span><br><span class="line">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      el: <span class="string">'#app'</span>,</span><br><span class="line">      data: &#123;&#125;,</span><br><span class="line">      methods: &#123;</span><br><span class="line">        div1Handler() &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'这是触发了 inner div 的点击事件'</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        btnHandler() &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'这是触发了 btn 按钮 的点击事件'</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure></li><li><p>.once 只触发一次事件处理函数(事件只触发一次，事件触发过后，不能再触发)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;!-- 使用 .once 只触发一次事件处理函数 --&gt;</span><br><span class="line">    &lt;a href=<span class="string">"http://www.baidu.com"</span> @click.prevent.once=<span class="string">"linkClick"</span>&gt;有问题，先去百度&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="comment">// 创建 Vue 实例，得到 ViewModel</span></span><br><span class="line">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      el: <span class="string">'#app'</span>,</span><br><span class="line">      data: &#123;&#125;,</span><br><span class="line">      methods: &#123;</span><br><span class="line">        div1Handler() &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'这是触发了 inner div 的点击事件'</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        btnHandler() &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'这是触发了 btn 按钮 的点击事件'</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        linkClick() &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'触发了连接的点击事件'</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        div2Handler() &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'这是触发了 outer div 的点击事件'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure></li><li><p>.self 和 .stop的区别<br>.self 只会阻止自己身上冒泡行为的触发，并不会真正阻止 冒泡的行为<br>.stop是真正的组织了冒泡</p></li></ol><h3 id="键盘修饰符"><a href="#键盘修饰符" class="headerlink" title="键盘修饰符"></a>键盘修饰符</h3><ol><li>以下是vue官方为我们定义的键盘修饰符<ul><li>.enter</li><li>.tab</li><li>.delete (捕获“删除”和“退格”键)</li><li>.esc</li><li>.space</li><li>.up(↑)</li><li>.down(↓)</li><li>.left(←)</li><li>.right(→)</li></ul></li><li>自定义修饰符<ul><li>通过Vue.config.keyCodes.名称 = 按键值来自定义案件修饰符的别名：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.config.keyCodes.f2 = <span class="number">113</span></span><br></pre></td></tr></table></figure></li><li>使用自定义的按键修饰符：<br><a href="https://www.cnblogs.com/wuhua1/p/6686237.html" target="_blank" rel="noopener">键盘事件对应的键码</a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;name&quot; @keyup.f2&#x3D;&quot;add&quot;&gt; &#x2F;&#x2F; 只有按下键盘f2才有效</span><br></pre></td></tr></table></figure></li></ul></li></ol><h2 id="Vue-resource的基本使用"><a href="#Vue-resource的基本使用" class="headerlink" title="Vue-resource的基本使用"></a>Vue-resource的基本使用</h2><h3 id="vue-resource-的配置步骤："><a href="#vue-resource-的配置步骤：" class="headerlink" title="vue-resource 的配置步骤："></a>vue-resource 的配置步骤：</h3><ul><li>直接在页面中，通过<code>script</code>标签，引入 <code>vue-resource</code> 的脚本文件<blockquote><p>引用的先后顺序是：先引用 Vue 的脚本文件，再引用 vue-resource 的脚本文件；</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"./lib/vue-2.4.0.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;!-- 注意：vue-resource 依赖于 Vue，所以先后顺序要注意  --&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="./</span>lib/vue-resource<span class="number">-1.3</span><span class="number">.4</span>.js<span class="string">"&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure></li><li>由于已经导入了 Vue-resource这个包，所以 ，可以直接通过  this.$http 来发起数据请求</li><li>如果我们通过全局配置了，请求的数据接口 根域名，则 ，在每次单独发起 http 请求的时候，请求的 url 路径，应该以相对路径开头，前面不能带 /  ，否则 不会启用根路径做拼接；<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.http.options.root &#x3D; &#39;http:&#x2F;&#x2F;vue.studyit.io&#x2F;&#39;</span><br></pre></td></tr></table></figure></li><li>如果全局启用 emulateJSON 选项, post请求就不用写第三个参数了<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.http.options.emulateJSON &#x3D; true;</span><br></pre></td></tr></table></figure></li></ul><h3 id="发起get请求"><a href="#发起get请求" class="headerlink" title="发起get请求"></a>发起get请求</h3><ul><li>this.$http.get(‘url’).then(function(result){})</li><li>当通过 then 指定回调函数之后，在回调函数中，可以拿到数据服务器返回的 result</li><li>先判断 result.body.status 是否等于0，如果等于0，就成功了，可以 把 result..body.message 赋值给 this.list ; 如果不等于0，可以弹框提醒，获取数据失败！<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;&#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">     getAllList() &#123; </span><br><span class="line">        <span class="keyword">this</span>.$http.get(<span class="string">'api/getprodlist'</span>).then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// 注意： 通过 $http 获取到的数据，都在 result.body 中放着</span></span><br><span class="line">          <span class="keyword">var</span> result = result.body</span><br><span class="line">          <span class="keyword">if</span> (result.status === <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// 成功了</span></span><br><span class="line">            <span class="keyword">this</span>.list = result.message</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 失败了</span></span><br><span class="line">            alert(<span class="string">'获取数据失败！'</span>)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="发送post请求"><a href="#发送post请求" class="headerlink" title="发送post请求"></a>发送post请求</h3><ol><li>this.$http.post() 中接收三个参数：<ul><li>第一个参数： 要请求的URL地址</li><li>第二个参数： 要提交给服务器的数据 ，要以对象形式提交给服务器 { name: this.name }</li><li>第三个参数： 是一个配置对象，要以哪种表单数据类型提交过去， { emulateJSON: true }, 以普通表单格式，将数据提交给服务器 application/x-www-form-urlencoded</li></ul></li><li>在 post 方法中，使用 .then 来设置成功的回调函数，如果想要拿到成功的结果，需要 result.body<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;&#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      add() &#123;  </span><br><span class="line">        <span class="keyword">this</span>.$http.post(<span class="string">'api/addproduct'</span>, &#123; <span class="attr">name</span>: <span class="keyword">this</span>.name &#125;, &#123; <span class="attr">emulateJSON</span>: <span class="literal">true</span> &#125;).then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (result.body.status === <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// 成功了！</span></span><br><span class="line">            <span class="comment">// 添加完成后，只需要手动，再调用一下 getAllList 就能刷新品牌列表了</span></span><br><span class="line">            <span class="keyword">this</span>.getAllList()</span><br><span class="line">            <span class="comment">// 清空 name </span></span><br><span class="line">            <span class="keyword">this</span>.name = <span class="string">''</span></span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 失败了</span></span><br><span class="line">            alert(<span class="string">'添加失败！'</span>)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="发送JSONP请求获取数据"><a href="#发送JSONP请求获取数据" class="headerlink" title="发送JSONP请求获取数据"></a>发送JSONP请求获取数据</h3> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">   <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">     el: <span class="string">'#app'</span>,</span><br><span class="line">     data: &#123;&#125;,</span><br><span class="line">     methods: &#123;</span><br><span class="line">       jsonpInfo() &#123; <span class="comment">// 发起JSONP 请求</span></span><br><span class="line">         <span class="keyword">this</span>.$http.jsonp(<span class="string">'http://vue.studyit.io/api/jsonp'</span>).then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">           <span class="built_in">console</span>.log(result.body)</span><br><span class="line">         &#125;)</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;);</span><br><span class="line"> &lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="vue中发送axios请求"><a href="#vue中发送axios请求" class="headerlink" title="vue中发送axios请求"></a>vue中发送axios请求</h2><ol><li>Vue.prototype.$http = axios, 把 axios 挂载到 Vue 构造函数的原型上</li><li>axios.defaults.baseURL =’’, 配置请求根路径<blockquote><p>axios.create() 方法，调用的返回值，是一个新的 axios 实例，在 调用 create 函数的时候，可以初始化一些默认配置项，比如，请求的 baseURL 地址<br>Vue.prototype.$http = axios.create({<br> baseURL: ‘<a href="http://39.106.32.91:3000&#39;">http://39.106.32.91:3000&#39;</a><br>})  这句个配置相当于1, 2之和</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">"button"</span> value=<span class="string">"get请求"</span> @click=<span class="string">"getInfo"</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">"button"</span> value=<span class="string">"post请求"</span> @click=<span class="string">"postInfo"</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  &lt;script&gt;</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ 把 axios 挂载到 Vue 构造函数的原型上</span></span><br><span class="line"><span class="regexp">    Vue.prototype.$http = axios</span></span><br><span class="line"><span class="regexp">    axios.defaults.baseURL = 'http:/</span><span class="regexp">/39.106.32.91:3000'</span></span><br><span class="line"><span class="regexp">    var vm = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">      el: '#app',</span></span><br><span class="line"><span class="regexp">      data: &#123;&#125;,</span></span><br><span class="line"><span class="regexp">      methods: &#123;</span></span><br><span class="line"><span class="regexp">        async getInfo() &#123;</span></span><br><span class="line"><span class="regexp">          /</span><span class="regexp">/ this.$http.get()</span></span><br><span class="line"><span class="regexp">          /</span>* <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">await</span> axios.get(<span class="string">'http://39.106.32.91:3000/api/getlunbo'</span>)</span><br><span class="line">          <span class="built_in">console</span>.log(data) *<span class="regexp">/</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">          const &#123; data &#125; = await this.$http.get('http:/</span><span class="regexp">/39.106.32.91:3000/</span>api/getlunbo<span class="string">')</span></span><br><span class="line"><span class="string">          console.log(data)</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        async postInfo() &#123;</span></span><br><span class="line"><span class="string">          const &#123; data &#125; = await this.$http.post('</span>http:<span class="comment">//39.106.32.91:3000/api/post', &#123; name: 'zs' &#125;)</span></span><br><span class="line">          <span class="built_in">console</span>.log(data)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure></li></ol><h2 id="vue的生命周期函数"><a href="#vue的生命周期函数" class="headerlink" title="vue的生命周期函数"></a>vue的生命周期函数</h2><h3 id="vue生命函数图解"><a href="#vue生命函数图解" class="headerlink" title="vue生命函数图解"></a>vue生命函数图解</h3><p> <img src="/image/vue2.png" alt=""></p><h3 id="beforeCreate"><a href="#beforeCreate" class="headerlink" title="beforeCreate"></a>beforeCreate</h3><ol><li>这是我们遇到的第1个生命周期函数，表示实例完全被创建出来之前，会执行它</li><li>在 beforeCreate 生命周期函数执行的时候，data 和 methods 中的 数据都还没有没初始化</li></ol><h3 id="created"><a href="#created" class="headerlink" title="created"></a>created</h3><ol><li>这是遇到的第2个生命周期函数</li><li>在 created 中，data 和 methods 都已经被初始化好了！</li><li>如果要调用 methods 中的方法，或者操作 data 中的数据，最早，只能在 created 中操作</li><li>最好在created函数中执行<strong>请求函数</strong></li></ol><h3 id="beforeMount"><a href="#beforeMount" class="headerlink" title="beforeMount"></a>beforeMount</h3><ol><li>这是遇到的第3个生命周期函数</li><li>模板已经在内存中编辑完成了，但是尚未把 模板渲染到 页面中</li><li>在 beforeMount 执行的时候，页面中的元素，还没有被真正替换过来，只是之前写的一些模板字符串</li></ol><h3 id="mounted"><a href="#mounted" class="headerlink" title="mounted"></a>mounted</h3><ol><li>这是遇到的第4个生命周期函数</li><li>内存中的模板，已经真实的挂载到了页面中，用户已经可以看到渲染好的页面了<blockquote><p>注意： mounted 是 实例创建期间的最后一个生命周期函数，当执行完 mounted 就表示，实例已经被完全创建好了，此时，如果没有其它操作的话，这个实例，就静静的 躺在我们的内存中，一动不动</p></blockquote></li></ol><h3 id="beforeUpdate"><a href="#beforeUpdate" class="headerlink" title="beforeUpdate"></a>beforeUpdate</h3><ol><li>这是遇到的第5个生命周期函数</li><li>这时候，表示 我们的界面还没有被更新【数据被更新了吗？  数据肯定被更新了】<blockquote><p>得出结论： 当执行 beforeUpdate 的时候，页面中的显示的数据，还是旧的，此时 data 数据是最新的，页面尚未和 最新的数据保持同步</p></blockquote></li></ol><h3 id="updated"><a href="#updated" class="headerlink" title="updated"></a>updated</h3><ol><li>这是遇到的第6个生命周期函数</li><li>updated 事件执行的时候，页面和 data 数据已经保持同步了，都是最新的</li></ol><h2 id="Vue动画"><a href="#Vue动画" class="headerlink" title="Vue动画"></a>Vue动画</h2><h3 id="过渡类实现动画"><a href="#过渡类实现动画" class="headerlink" title="过渡类实现动画"></a>过渡类实现动画</h3><ol><li>v-enter 【这是一个时间点】 是进入之前，元素的起始状态，此时还没有开始进入</li><li>v-leave-to 【这是一个时间点】 是动画离开之后，离开的终止状态，此时，元素 动画已经结束了</li><li>v-enter-active 【入场动画的时间段】</li><li>v-leave-active 【离场动画的时间段】<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  &#x2F;* v-enter 【这是一个时间点】 是进入之前，元素的起始状态，此时还没有开始进入 *&#x2F;</span><br><span class="line">  &#x2F;* v-leave-to 【这是一个时间点】 是动画离开之后，离开的终止状态，此时，元素 动画已经结束了 *&#x2F;</span><br><span class="line">  .v-enter,</span><br><span class="line">  .v-leave-to &#123;</span><br><span class="line">    opacity: 0;</span><br><span class="line">    transform: translateX(150px);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;* v-enter-active 【入场动画的时间段】 *&#x2F;</span><br><span class="line">  &#x2F;* v-leave-active 【离场动画的时间段】 *&#x2F;</span><br><span class="line">  .v-enter-active,</span><br><span class="line">  .v-leave-active&#123;</span><br><span class="line">    transition: all 0.8s ease;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;button&quot; value&#x3D;&quot;toggle&quot; @click&#x3D;&quot;flag&#x3D;!flag&quot;&gt;</span><br><span class="line">    &lt;!-- 需求： 点击按钮，让 h3 显示，再点击，让 h3 隐藏 --&gt;</span><br><span class="line">    &lt;!-- 1. 使用 transition 元素，把 需要被动画控制的元素，包裹起来 --&gt;</span><br><span class="line">    &lt;!-- transition 元素，是 Vue 官方提供的 --&gt;</span><br><span class="line">    &lt;transition&gt;</span><br><span class="line">      &lt;h3 v-if&#x3D;&quot;flag&quot;&gt;这是一个H3&lt;&#x2F;h3&gt;</span><br><span class="line">    &lt;&#x2F;transition&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    var vm &#x3D; new Vue(&#123;</span><br><span class="line">      el: &#39;#app&#39;,</span><br><span class="line">      data: &#123;</span><br><span class="line">        flag: false</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;&#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="修改过渡类前缀v"><a href="#修改过渡类前缀v" class="headerlink" title="修改过渡类前缀v-"></a>修改过渡类前缀v-</h3><ol><li>将过渡类的v-换成自行定义的名字</li><li>在transition标签name属性中指定该名字<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"> &lt;style&gt;</span><br><span class="line">    .my-enter,</span><br><span class="line">    .my-leave-to &#123;</span><br><span class="line">      opacity: 0;</span><br><span class="line">      transform: translateY(70px);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .my-enter-active,</span><br><span class="line">    .my-leave-active&#123;</span><br><span class="line">      transition: all 0.8s ease;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;&#x2F;style&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;button&quot; value&#x3D;&quot;toggle2&quot; @click&#x3D;&quot;flag2&#x3D;!flag2&quot;&gt;</span><br><span class="line">    &lt;transition name&#x3D;&quot;my&quot;&gt;</span><br><span class="line">      &lt;h6 v-if&#x3D;&quot;flag2&quot;&gt;这是一个H6&lt;&#x2F;h6&gt;</span><br><span class="line">    &lt;&#x2F;transition&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    var vm &#x3D; new Vue(&#123;</span><br><span class="line">      el: &#39;#app&#39;,</span><br><span class="line">      data: &#123;</span><br><span class="line">        flag2: false</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;&#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="使用第三方库实现动画"><a href="#使用第三方库实现动画" class="headerlink" title="使用第三方库实现动画"></a>使用第三方库实现动画</h3><ol><li>在head标签中引入animate库<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;.&#x2F;lib&#x2F;animate.css&quot;&gt;</span><br></pre></td></tr></table></figure></li><li>transition标签中设置2个类，enter-active-class与leave-active-class<ul><li>enter-active-class可以在里面指定进场动画类, 但是必须在类中加入animated类，如果不想在这个类中添加，那请在被作用的元素添加<code>class=&quot;animated&quot;</code></li><li>leave-active-class可以在里面指定出场动画类, 但是必须在类中加入animated类，如果不想在这个类中添加，那请在被作用的元素添加<code>class=&quot;animated&quot;</code></li></ul></li><li>transition标签中设置duration属性来控制动画的时间，指定一个值，进场时间和出场时间都是这个时间，也可以分别指定进场时间，和出场时间<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;transition :duration&#x3D;&quot;200&quot;&gt;</span><br><span class="line">  &lt;h3 v-if&#x3D;&quot;flag&quot; class&#x3D;&quot;animated&quot;&gt;这是一个H3&lt;&#x2F;h3&gt;</span><br><span class="line">&lt;&#x2F;transition&gt;</span><br><span class="line"></span><br><span class="line">&lt;transition :duration&#x3D;&quot;&#123; enter: 200, leave: 400 &#125;&quot;&gt;</span><br><span class="line">  &lt;h3 v-if&#x3D;&quot;flag&quot; class&#x3D;&quot;animated&quot;&gt;这是一个H3&lt;&#x2F;h3&gt;</span><br><span class="line">&lt;&#x2F;transition&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"> &lt;body&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;button&quot; value&#x3D;&quot;toggle&quot; @click&#x3D;&quot;flag&#x3D;!flag&quot;&gt;</span><br><span class="line">    &lt;!-- 需求： 点击按钮，让 h3 显示，再点击，让 h3 隐藏 --&gt;</span><br><span class="line">    &lt;!-- &lt;transition enter-active-class&#x3D;&quot;animated bounceIn&quot; leave-active-class&#x3D;&quot;animated bounceOut&quot;&gt;</span><br><span class="line">      &lt;h3 v-if&#x3D;&quot;flag&quot;&gt;这是一个H3&lt;&#x2F;h3&gt;</span><br><span class="line">    &lt;&#x2F;transition&gt; --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 使用 :duration&#x3D;&quot;毫秒值&quot; 来统一设置 入场 和 离场 时候的动画时长 --&gt;</span><br><span class="line">    &lt;!-- &lt;transition enter-active-class&#x3D;&quot;bounceIn&quot; leave-active-class&#x3D;&quot;bounceOut&quot; :duration&#x3D;&quot;200&quot;&gt;</span><br><span class="line">      &lt;h3 v-if&#x3D;&quot;flag&quot; class&#x3D;&quot;animated&quot;&gt;这是一个H3&lt;&#x2F;h3&gt;</span><br><span class="line">    &lt;&#x2F;transition&gt; --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 使用  :duration&#x3D;&quot;&#123; enter: 200, leave: 400 &#125;&quot;  来分别设置 入场的时长 和 离场的时长  --&gt;</span><br><span class="line">    &lt;transition </span><br><span class="line">    enter-active-class&#x3D;&quot;bounceIn&quot; </span><br><span class="line">    leave-active-class&#x3D;&quot;bounceOut&quot; </span><br><span class="line">    :duration&#x3D;&quot;&#123; enter: 200, leave: 400 &#125;&quot;&gt;</span><br><span class="line">      &lt;h3 v-if&#x3D;&quot;flag&quot; class&#x3D;&quot;animated&quot;&gt;这是一个H3&lt;&#x2F;h3&gt;</span><br><span class="line">    &lt;&#x2F;transition&gt; </span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    var vm &#x3D; new Vue(&#123;</span><br><span class="line">      el: &#39;#app&#39;,</span><br><span class="line">      data: &#123;</span><br><span class="line">        flag: false</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;&#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="钩子函数实现半场动画"><a href="#钩子函数实现半场动画" class="headerlink" title="钩子函数实现半场动画"></a>钩子函数实现半场动画</h3><ol><li>每一个钩子函数表视每一个时间段</li><li>如果要具体每个时间段要做什么具体操作，请用钩子函数实现<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"> &lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">"button"</span> value=<span class="string">"快到碗里来"</span> @click=<span class="string">"flag=!flag"</span>&gt;</span><br><span class="line">    &lt;!-- <span class="number">1.</span> 使用 transition 元素把 小球包裹起来 --&gt;</span><br><span class="line">    &lt;transition</span><br><span class="line">      @before-enter=<span class="string">"beforeEnter"</span></span><br><span class="line">      @enter=<span class="string">"enter"</span></span><br><span class="line">      @after-enter=<span class="string">"afterEnter"</span>&gt;</span><br><span class="line">      &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"ball"</span> v-show=<span class="string">"flag"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>transition&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  &lt;script&gt;</span></span><br><span class="line"><span class="regexp">    var vm = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">      el: '#app',</span></span><br><span class="line"><span class="regexp">      data: &#123;</span></span><br><span class="line"><span class="regexp">        flag: false</span></span><br><span class="line"><span class="regexp">      &#125;,</span></span><br><span class="line"><span class="regexp">      methods: &#123;</span></span><br><span class="line"><span class="regexp">        /</span><span class="regexp">/ 注意： 动画钩子函数的第一个参数：el，表示 要执行动画的那个DOM元素，是个原生的 JS DOM对象</span></span><br><span class="line"><span class="regexp">        /</span><span class="regexp">/ 大家可以认为 ， el 是通过 document.getElementById('') 方式获取到的原生JS DOM对象</span></span><br><span class="line"><span class="regexp">        beforeEnter(el)&#123;</span></span><br><span class="line"><span class="regexp">          /</span><span class="regexp">/ beforeEnter 表示动画入场之前，此时，动画尚未开始，可以 在 beforeEnter 中，设置元素开始动画之前的起始样式</span></span><br><span class="line"><span class="regexp">          /</span><span class="regexp">/ 设置小球开始动画之前的，起始位置</span></span><br><span class="line"><span class="regexp">          el.style.transform = "translate(0, 0)"</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        enter(el, done)&#123;</span></span><br><span class="line"><span class="regexp">          /</span><span class="regexp">/ 这句话，没有实际的作用，但是，如果不写，出不来动画效果；</span></span><br><span class="line"><span class="regexp">          /</span><span class="regexp">/ 可以认为 el.offsetWidth 会强制动画刷新</span></span><br><span class="line"><span class="regexp">          el.offsetWidth</span></span><br><span class="line"><span class="regexp">          /</span><span class="regexp">/ enter 表示动画 开始之后的样式，这里，可以设置小球完成动画之后的，结束状态</span></span><br><span class="line"><span class="regexp">          el.style.transform = "translate(150px, 450px)"</span></span><br><span class="line"><span class="regexp">          el.style.transition = 'all 1s ease'</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">          /</span><span class="regexp">/ 这里的 done， 起始就是 afterEnter 这个函数，也就是说：done 是 afterEnter 函数的引用</span></span><br><span class="line"><span class="regexp">          done()</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        afterEnter(el)&#123;</span></span><br><span class="line"><span class="regexp">          /</span><span class="regexp">/ 动画完成之后，会调用 afterEnter</span></span><br><span class="line"><span class="regexp">          /</span><span class="regexp">/ console.log('ok')</span></span><br><span class="line"><span class="regexp">          this.flag = !this.flag</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">      &#125;</span></span><br><span class="line"><span class="regexp">    &#125;);</span></span><br><span class="line"><span class="regexp">  &lt;/</span>script&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="transition-group"><a href="#transition-group" class="headerlink" title="transition-group"></a>transition-group</h3><ul><li><p>在实现列表过渡的时候，如果需要过渡的元素，是通过 v-for 循环渲染出来的，不能使用 transition 包裹，需要使用 transitionGroup </p></li><li><p>如果要为 v-for 循环创建的元素设置动画，必须为每一个 元素 设置 :key 属性</p></li><li><p>给 transition-group 添加 appear 属性，实现页面刚展示出来时候，入场时候的效果</p></li><li><p>通过 为 transition-group 元素，设置 tag 属性，指定 transition-group 渲染为指定的元素，如果不指定 tag 属性，默认，渲染为 span 标签 </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"> &lt;style&gt;</span><br><span class="line">    li &#123;</span><br><span class="line">      border: 1px dashed #999;</span><br><span class="line">      margin: <span class="number">5</span>px;</span><br><span class="line">      line-height: <span class="number">35</span>px;</span><br><span class="line">      padding-left: <span class="number">5</span>px;</span><br><span class="line">      font-size: <span class="number">12</span>px;</span><br><span class="line">      width: <span class="number">100</span>%;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover &#123;</span><br><span class="line">      background-color: hotpink;</span><br><span class="line">      transition: all <span class="number">0.8</span>s ease;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    .v-enter,</span><br><span class="line">    .v-leave-to &#123;</span><br><span class="line">      opacity: <span class="number">0</span>;</span><br><span class="line">      transform: translateY(<span class="number">80</span>px);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .v-enter-active,</span><br><span class="line">    .v-leave-active &#123;</span><br><span class="line">      transition: all <span class="number">0.6</span>s ease;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 下面的 .v-move 和 .v-leave-active 配合使用，能够实现列表后续的元素，渐渐地漂上来的效果 */</span></span><br><span class="line">    .v-move &#123;</span><br><span class="line">      transition: all <span class="number">0.6</span>s ease;</span><br><span class="line">    &#125;</span><br><span class="line">    .v-leave-active&#123;</span><br><span class="line">      position: absolute;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;<span class="regexp">/style&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;label&gt;</span><br><span class="line">        Id:</span><br><span class="line">        &lt;input type=<span class="string">"text"</span> v-model=<span class="string">"id"</span>&gt;</span><br><span class="line">      &lt;<span class="regexp">/label&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">      &lt;label&gt;</span></span><br><span class="line"><span class="regexp">        Name:</span></span><br><span class="line"><span class="regexp">        &lt;input type="text" v-model="name"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>label&gt;</span><br><span class="line"></span><br><span class="line">      &lt;input type=<span class="string">"button"</span> value=<span class="string">"添加"</span> @click=<span class="string">"add"</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    &lt;!-- &lt;ul&gt; --&gt;</span></span><br><span class="line"><span class="regexp">      &lt;transition-group appear tag="ul"&gt;</span></span><br><span class="line"><span class="regexp">        &lt;li v-for="(item, i) in list" :key="item.id" @click="del(i)"&gt;</span></span><br><span class="line"><span class="regexp">          &#123;&#123;item.id&#125;&#125; --- &#123;&#123;item.name&#125;&#125;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>li&gt;</span><br><span class="line">      &lt;<span class="regexp">/transition-group&gt;</span></span><br><span class="line"><span class="regexp">    &lt;!-- &lt;/u</span>l&gt; --&gt;</span><br><span class="line"></span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  &lt;script&gt;</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ 创建 Vue 实例，得到 ViewModel</span></span><br><span class="line"><span class="regexp">    var vm = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">      el: '#app',</span></span><br><span class="line"><span class="regexp">      data: &#123;</span></span><br><span class="line"><span class="regexp">        id: '',</span></span><br><span class="line"><span class="regexp">        name: '',</span></span><br><span class="line"><span class="regexp">        list: [</span></span><br><span class="line"><span class="regexp">          &#123; id: 1, name: '赵高' &#125;,</span></span><br><span class="line"><span class="regexp">          &#123; id: 2, name: '秦桧' &#125;,</span></span><br><span class="line"><span class="regexp">          &#123; id: 3, name: '严嵩' &#125;,</span></span><br><span class="line"><span class="regexp">          &#123; id: 4, name: '魏忠贤' &#125;</span></span><br><span class="line"><span class="regexp">        ]</span></span><br><span class="line"><span class="regexp">      &#125;,</span></span><br><span class="line"><span class="regexp">      methods: &#123;</span></span><br><span class="line"><span class="regexp">        add() &#123;</span></span><br><span class="line"><span class="regexp">          this.list.push(&#123; id: this.id, name: this.name &#125;)</span></span><br><span class="line"><span class="regexp">          this.id = this.name = ''</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        del(i) &#123;</span></span><br><span class="line"><span class="regexp">          this.list.splice(i, 1)</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">      &#125;</span></span><br><span class="line"><span class="regexp">    &#125;);</span></span><br><span class="line"><span class="regexp">  &lt;/</span>script&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br></pre></td></tr></table></figure><h2 id="组件化"><a href="#组件化" class="headerlink" title="组件化"></a>组件化</h2><h3 id="全局组件定义的四种方式"><a href="#全局组件定义的四种方式" class="headerlink" title="全局组件定义的四种方式"></a>全局组件定义的四种方式</h3><ol><li><p>使用 Vue.extend 配合 Vue.component 方法：</p><ul><li><p>第一种形式</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 使用 Vue.extend 来创建全局的Vue组件</span><br><span class="line"> var com1 &#x3D; Vue.extend(&#123;</span><br><span class="line">    &#x2F;&#x2F;   template: &#39;&lt;h3&gt;这是使用 Vue.extend 创建的组件&lt;&#x2F;h3&gt;&#39; &#x2F;&#x2F; 通过 template 属性，指定了组件要展示的HTML结构</span><br><span class="line"> &#125;)</span><br><span class="line"> &#x2F;&#x2F; 使用 Vue.component(&#39;组件的名称&#39;, 创建出来的组件模板对象)</span><br><span class="line"> &#x2F;&#x2F; 如果使用 Vue.component 定义全局组件的时候，组件名称使用了 驼峰命名，则在引用组件的时候，需要把 大写的驼峰改为小写的字母，同时，两个单词之前，使用 - 链接；</span><br><span class="line"> Vue.component(&#39;myCom1&#39;, com1)</span><br></pre></td></tr></table></figure></li><li><p>第二种形式</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&#39;mycom1&#39;, Vue.extend(&#123;</span><br><span class="line">      template: &#39;&lt;h3&gt;这是使用 Vue.extend 创建的组件&lt;&#x2F;h3&gt;&#39;</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;!-- 如果要使用组件，直接，把组件的名称，以 HTML 标签的形式，引入到页面中，即可 --&gt;</span><br><span class="line">    &lt;mycom1&gt;&lt;<span class="regexp">/mycom1&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    Vue.component(<span class="string">'mycom1'</span>, Vue.extend(&#123;</span><br><span class="line">      template: <span class="string">'&lt;h3&gt;这是使用 Vue.extend 创建的组件&lt;/h3&gt;'</span></span><br><span class="line">    &#125;))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      el: <span class="string">'#app'</span>,</span><br><span class="line">      data: &#123;&#125;,</span><br><span class="line">      methods: &#123;&#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure></li><li><p>直接使用 Vue.component 方法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;!-- 还是使用 标签形式,引入自己的组件 --&gt;</span><br><span class="line">    &lt;mycom2&gt;&lt;&#x2F;mycom2&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    &#x2F;&#x2F; 注意:不论是哪种方式创建出来的组件,组件的 template 属性指向的模板内容,必须有且只能有唯一的一个根元素</span><br><span class="line">    Vue.component(&#39;mycom2&#39;, &#123;</span><br><span class="line">      template: &#39;&lt;div&gt;&lt;h3&gt;这是直接使用 Vue.component 创建出来的组件&lt;&#x2F;h3&gt;&lt;span&gt;123&lt;&#x2F;span&gt;&lt;&#x2F;div&gt;&#39;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    var vm &#x3D; new Vue(&#123;</span><br><span class="line">      el: &#39;#app&#39;,</span><br><span class="line">      data: &#123;&#125;,</span><br><span class="line">      methods: &#123;&#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure></li><li><p>组件模板template配合component：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;mycom3&gt;&lt;&#x2F;mycom3&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- 在 被控制的 #app 外面,使用 template 元素,定义组件的HTML模板结构  --&gt;</span><br><span class="line">  &lt;template id&#x3D;&quot;tmpl&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;这是通过 template 元素,在外部定义的组件结构,这个方式,有代码的只能提示和高亮&lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;h4&gt;好用,不错!&lt;&#x2F;h4&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    Vue.component(&#39;mycom3&#39;, &#123;</span><br><span class="line">      template: &#39;#tmpl&#39;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    var vm &#x3D; new Vue(&#123;</span><br><span class="line">      el: &#39;#app&#39;,</span><br><span class="line">      data: &#123;&#125;,</span><br><span class="line">      methods: &#123;&#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure></li><li><p>通过 对象 字面量的形式， 定义了一个 组件模板对象,来构造组件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;!-- &lt;mylogin&gt;&lt;&#x2F;mylogin&gt; --&gt;</span><br><span class="line">    &lt;login&gt;&lt;&#x2F;login&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 定义组件的时候，如果要定义全局的组件， Vue.component(&#39;组件的名称&#39;, &#123;&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 通过 对象 字面量的形式， 定义了一个 组件模板对象</span><br><span class="line">    var login &#x3D; &#123;</span><br><span class="line">      template: &#39;&lt;h1&gt;1234&lt;&#x2F;h1&gt;&#39;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;  通过  Vue.component 把 组件模板对象，注册为一个全局的Vue 组件，同时，为这个组件起了一个名称，可以让我们  通过 标签形式，在页面中直接引入这个组件</span><br><span class="line">    &#x2F;&#x2F; Vue.component(&#39;mylogin&#39;, login)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 创建 Vue 实例，得到 ViewModel</span><br><span class="line">    var vm &#x3D; new Vue(&#123;</span><br><span class="line">      el: &#39;#app&#39;,</span><br><span class="line">      data: &#123;&#125;,</span><br><span class="line">      methods: &#123;&#125;,</span><br><span class="line">      components: &#123;</span><br><span class="line">        &#x2F;&#x2F; &#39;组件的名称&#39;: 组件的模板对象</span><br><span class="line">        &#x2F;&#x2F; &#39;mylogin&#39;: login</span><br><span class="line">        login</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure><h3 id="使用components属性定义局部子组件"><a href="#使用components属性定义局部子组件" class="headerlink" title="使用components属性定义局部子组件"></a>使用components属性定义局部子组件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;app2&quot;&gt;</span><br><span class="line">      &lt;login&gt;&lt;&#x2F;login&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;template id&#x3D;&quot;tmpl2&quot;&gt;</span><br><span class="line">      &lt;h1&gt;这是私有的 login 组件&lt;&#x2F;h1&gt;</span><br><span class="line">    &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">    </span><br><span class="line">      var vm2 &#x3D; new Vue(&#123;</span><br><span class="line">        el: &#39;#app2&#39;,</span><br><span class="line">        data: &#123;&#125;,</span><br><span class="line">        components: &#123; &#x2F;&#x2F; 定义实例内部私有组件的</span><br><span class="line">          login: &#123;</span><br><span class="line">            template: &#39;#tmpl2&#39;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">  &lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure><h3 id="组件中展示数据和响应事件"><a href="#组件中展示数据和响应事件" class="headerlink" title="组件中展示数据和响应事件"></a>组件中展示数据和响应事件</h3></li></ol></li></ul><ol><li>组件可以有自己的 data 数据</li><li>组件的 data 和 实例的 data 有点不一样,实例中的 data 可以为一个对象,但是 组件中的 data 必须是一个方法</li><li>组件中的 data 除了必须为一个方法之外,这个方法内部,还必须返回一个对象才行;</li><li>组件中 的data 数据,使用方式,和实例中的 data 使用方式完全一样!!!<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;mycom1&gt;&lt;&#x2F;mycom1&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt; </span><br><span class="line">    Vue.component(&#39;mycom1&#39;, &#123;</span><br><span class="line">      template: &#39;&lt;h1&gt;这是全局组件 --- &#123;&#123;msg&#125;&#125;&lt;&#x2F;h1&gt;&#39;,</span><br><span class="line">      data: function () &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">          msg: &#39;这是组件的中data定义的数据&#39;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 创建 Vue 实例，得到 ViewModel</span><br><span class="line">    var vm &#x3D; new Vue(&#123;</span><br><span class="line">      el: &#39;#app&#39;,</span><br><span class="line">      data: &#123;&#125;,</span><br><span class="line">      methods: &#123;&#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure><h3 id="component"><a href="#component" class="headerlink" title="component"></a>component</h3><ol><li>component 是一个占位符, :is 属性,可以用来指定要展示的组件的名称<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">     &lt;a href&#x3D;&quot;&quot; @click.prevent&#x3D;&quot;comName&#x3D;&#39;login&#39;&quot;&gt;登录&lt;&#x2F;a&gt;</span><br><span class="line">     &lt;a href&#x3D;&quot;&quot; @click.prevent&#x3D;&quot;comName&#x3D;&#39;register&#39;&quot;&gt;注册&lt;&#x2F;a&gt;</span><br><span class="line"></span><br><span class="line">     &lt;!-- Vue提供了 component ,来展示对应名称的组件 --&gt;</span><br><span class="line">     &lt;!-- component 是一个占位符, :is 属性,可以用来指定要展示的组件的名称 --&gt;</span><br><span class="line">     &lt;component :is&#x3D;&quot;comName&quot;&gt;&lt;&#x2F;component&gt;</span><br><span class="line"></span><br><span class="line">     &lt;!-- 总结:当前学习了几个 Vue 提供的标签了??? --&gt;</span><br><span class="line">     &lt;!-- component,  template,  transition,  transitionGroup  --&gt;</span><br><span class="line"></span><br><span class="line">   &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">   &lt;script&gt;</span><br><span class="line">     &#x2F;&#x2F; 组件名称是 字符串</span><br><span class="line">     Vue.component(&#39;login&#39;, &#123;</span><br><span class="line">       template: &#39;&lt;h3&gt;登录组件&lt;&#x2F;h3&gt;&#39;</span><br><span class="line">     &#125;)</span><br><span class="line"></span><br><span class="line">     Vue.component(&#39;register&#39;, &#123;</span><br><span class="line">       template: &#39;&lt;h3&gt;注册组件&lt;&#x2F;h3&gt;&#39;</span><br><span class="line">     &#125;)</span><br><span class="line"></span><br><span class="line">     &#x2F;&#x2F; 创建 Vue 实例，得到 ViewModel</span><br><span class="line">     var vm &#x3D; new Vue(&#123;</span><br><span class="line">       el: &#39;#app&#39;,</span><br><span class="line">       data: &#123;</span><br><span class="line">         comName: &#39;login&#39; &#x2F;&#x2F; 当前 component 中的 :is 绑定的组件的名称</span><br><span class="line">       &#125;,</span><br><span class="line">       methods: &#123;&#125;</span><br><span class="line">     &#125;);</span><br><span class="line">   &lt;&#x2F;script&gt;</span><br><span class="line"> &lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure></li></ol></li></ol><h3 id="父组件向子组件传值"><a href="#父组件向子组件传值" class="headerlink" title="父组件向子组件传值"></a>父组件向子组件传值</h3><ol><li>子组件中，默认无法访问到 父组件中的 data 上的数据 和 methods 中的方法</li><li>父组件，可以在引用子组件的时候， 通过 属性绑定（v-bind:） 的形式, 把 需要传递给 子组件的数据，以属性绑定的形式，传递到子组件内部，供子组件使用<blockquote><p> 注意： 子组件中的 data 数据，并不是通过 父组件传递过来的，而是子组件自身私有的，比如： 子组件通过 Ajax ，请求回来的数据，都可以放到子组件 data 身上,data 上的数据，都是可读可写的；</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">     &lt;com1 v-bind:parentmsg&#x3D;&quot;msg&quot;&gt;&lt;&#x2F;com1&gt;</span><br><span class="line">   &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">   &lt;script&gt;</span><br><span class="line">     var vm &#x3D; new Vue(&#123;</span><br><span class="line">       el: &#39;#app&#39;,</span><br><span class="line">       data: &#123;</span><br><span class="line">         msg: &#39;123 啊-父组件中的数据&#39;</span><br><span class="line">       &#125;,</span><br><span class="line">       methods: &#123;&#125;,</span><br><span class="line">       components: &#123;</span><br><span class="line">         com1: &#123;</span><br><span class="line">           data() &#123; </span><br><span class="line">             return &#123;</span><br><span class="line">             &#125;</span><br><span class="line">           &#125;,</span><br><span class="line">           template: &#39;&lt;h1 @click&#x3D;&quot;change&quot;&gt;这是子组件 --- &#123;&#123; parentmsg &#125;&#125;&lt;&#x2F;h1&gt;&#39;,</span><br><span class="line"></span><br><span class="line">           &lt;!-- 注意： 组件中的 所有 props 中的数据，都是通过 父组件传递给子组件的</span><br><span class="line">           props 中的数据，都是只读的，无法重新赋值 --&gt;</span><br><span class="line">           props: [&#39;parentmsg&#39;], &#x2F;&#x2F; 把父组件传递过来的 parentmsg 属性，先在 props 数组中，定义一下，这样，才能使用这个数据</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;);</span><br><span class="line">   &lt;&#x2F;script&gt;</span><br><span class="line"> &lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="父组件把方法传给子组件"><a href="#父组件把方法传给子组件" class="headerlink" title="父组件把方法传给子组件"></a>父组件把方法传给子组件</h3><ol><li><p>父组件向子组件传递方法多用于，把子组件的数据传递给父组件</p></li><li><p>父组件向子组件传递方法，使用的是事件绑定机制； v-on, 当我们自定义了一个 事件属性之后，那么，子组件就能够，通过某些方式，来调用传递进去的这个方法了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">     &lt;com2 @func&#x3D;&quot;show&quot;&gt;&lt;&#x2F;com2&gt;</span><br><span class="line">   &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">   &lt;template id&#x3D;&quot;tmpl&quot;&gt;</span><br><span class="line">     &lt;div&gt;</span><br><span class="line">       &lt;h1&gt;这是 子组件&lt;&#x2F;h1&gt;</span><br><span class="line">       &lt;input type&#x3D;&quot;button&quot; value&#x3D;&quot;这是子组件中的按钮 - 点击它，触发 父组件传递过来的 func 方法&quot; @click&#x3D;&quot;myclick&quot;&gt;</span><br><span class="line">     &lt;&#x2F;div&gt;</span><br><span class="line">   &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">   &lt;script&gt;</span><br><span class="line"></span><br><span class="line">     var com2 &#x3D; &#123;</span><br><span class="line">       template: &#39;#tmpl&#39;,</span><br><span class="line">       data() &#123;</span><br><span class="line">         return &#123;</span><br><span class="line">           sonmsg: &#123; name: &#39;小头儿子&#39;, age: 6 &#125;</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       methods: &#123;</span><br><span class="line">         myclick() &#123;</span><br><span class="line">           &#x2F;&#x2F; 当点击子组件的按钮的时候，如何 拿到 父组件传递过来的 func 方法，并调用这个方法？？？</span><br><span class="line">           &#x2F;&#x2F; this.$emit(&#39;func123&#39;, 123, 456) 可以向父组件的函数传递多个值</span><br><span class="line">           this.$emit(&#39;func&#39;, this.sonmsg)</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     var vm &#x3D; new Vue(&#123;</span><br><span class="line">       el: &#39;#app&#39;,</span><br><span class="line">       data: &#123;</span><br><span class="line">         datamsgFormSon: null</span><br><span class="line">       &#125;,</span><br><span class="line">       methods: &#123;</span><br><span class="line">         show(data) &#123;</span><br><span class="line">           this.datamsgFormSon &#x3D; data</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       components: &#123;</span><br><span class="line">         com2</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;);</span><br><span class="line">   &lt;&#x2F;script&gt;</span><br><span class="line"> &lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure></li></ol><h2 id="refs"><a href="#refs" class="headerlink" title="refs"></a>refs</h2><ol><li><p>refs既可以操作元素也可以操作组件中的数据和方法</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line"> &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">   &lt;input type&#x3D;&quot;button&quot; value&#x3D;&quot;获取元素&quot; @click&#x3D;&quot;getElement&quot; ref&#x3D;&quot;mybtn&quot;&gt;</span><br><span class="line"></span><br><span class="line">   &lt;h3 id&#x3D;&quot;myh3&quot; ref&#x3D;&quot;myh3&quot;&gt;哈哈哈， 今天天气太好了！！！&lt;&#x2F;h3&gt;</span><br><span class="line"></span><br><span class="line">   &lt;hr&gt;</span><br><span class="line"></span><br><span class="line">   &lt;login ref&#x3D;&quot;mylogin&quot;&gt;&lt;&#x2F;login&gt;</span><br><span class="line"> &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line"> &lt;script&gt;</span><br><span class="line"></span><br><span class="line">   var login &#x3D; &#123;</span><br><span class="line">     template: &#39;&lt;h1&gt;登录组件&lt;&#x2F;h1&gt;&#39;,</span><br><span class="line">     data() &#123;</span><br><span class="line">       return &#123;</span><br><span class="line">         msg: &#39;son msg&#39;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;,</span><br><span class="line">     methods: &#123;</span><br><span class="line">       show() &#123;</span><br><span class="line">         console.log(&#39;调用了子组件的方法&#39;)</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;&#x2F; 创建 Vue 实例，得到 ViewModel</span><br><span class="line">   var vm &#x3D; new Vue(&#123;</span><br><span class="line">     el: &#39;#app&#39;,</span><br><span class="line">     data: &#123;&#125;,</span><br><span class="line">     methods: &#123;</span><br><span class="line">       getElement() &#123;</span><br><span class="line"></span><br><span class="line">         &lt;!-- 使用refs操作元素输出h3中的内容</span><br><span class="line">         console.log(this.$refs.myh3.innerText) --&gt;</span><br><span class="line"></span><br><span class="line">         &lt;!-- 使用refs操作子组件的数据和方法</span><br><span class="line">         console.log(this.$refs.mylogin.msg)</span><br><span class="line">          this.$refs.mylogin.show() --&gt;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;,</span><br><span class="line">     components: &#123;</span><br><span class="line">       login</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;);</span><br><span class="line"> &lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure></li></ol><h2 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a>vue-router</h2><h3 id="router的基本使用"><a href="#router的基本使用" class="headerlink" title="router的基本使用"></a>router的基本使用</h3><ol><li>router-link 默认渲染为一个a 标签</li><li>vue-router 提供的元素，专门用来 当作占位符的，将来，路由规则，匹配到的组件，就会展示到这个 router-view 中去, 我们可以把 router-view 认为是一个占位符</li><li>创建一个路由对象， 当 导入 vue-router 包之后，在 window 全局对象中，就有了一个 路由的构造函数，叫做 VueRouter, 在 new 路由对象的时候，可以为 构造函数，传递一个配置对象</li><li>routes路由匹配规则<ul><li>每个路由规则，都是一个对象，这个规则对象，身上，有两个必须的属性：</li><li>属性1 是 path， 表示监听 哪个路由链接地址；</li><li>属性2 是 component， 表示，如果 路由是前面匹配到的 path ，则展示 component 属性对应的那个组件<blockquote><p>component 的属性值，必须是一个 组件的模板对象， 不能是 组件的引用名称；</p></blockquote></li></ul></li><li>router高亮的两种方式<ul><li>linkActiveClass 里面添加类</li><li>也可以直接在router-link-active中抒写样式<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  .router-link-active,</span><br><span class="line">  .myactive &#123;</span><br><span class="line">    color: red;</span><br><span class="line">    font-weight: 800;</span><br><span class="line">    font-style: italic;</span><br><span class="line">    font-size: 80px;</span><br><span class="line">    text-decoration: underline;</span><br><span class="line">    background-color: green;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"> &lt;body&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;router-link to&#x3D;&quot;&#x2F;login&quot; tag&#x3D;&quot;span&quot;&gt;登录&lt;&#x2F;router-link&gt;</span><br><span class="line">    &lt;router-link to&#x3D;&quot;&#x2F;register&quot;&gt;注册&lt;&#x2F;router-link&gt;</span><br><span class="line"></span><br><span class="line">    &lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    &#x2F;&#x2F; 组件的模板对象</span><br><span class="line">    var login &#x3D; &#123;</span><br><span class="line">      template: &#39;&lt;h1&gt;登录组件&lt;&#x2F;h1&gt;&#39;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    var register &#x3D; &#123;</span><br><span class="line">      template: &#39;&lt;h1&gt;注册组件&lt;&#x2F;h1&gt;&#39;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    var routerObj &#x3D; new VueRouter(&#123;</span><br><span class="line">      routes: [ </span><br><span class="line">        &#x2F;&#x2F; &#123; path: &#39;&#x2F;&#39;, component: login &#125;,</span><br><span class="line">        &#123; path: &#39;&#x2F;&#39;, redirect: &#39;&#x2F;login&#39; &#125;, &#x2F;&#x2F; 这里的 redirect 和 Node 中的 redirect 完全是两码事</span><br><span class="line">        &#123; path: &#39;&#x2F;login&#39;, component: login &#125;,</span><br><span class="line">        &#123; path: &#39;&#x2F;register&#39;, component: register &#125;</span><br><span class="line">      ],</span><br><span class="line">      linkActiveClass: &#39;myactive&#39;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    var vm &#x3D; new Vue(&#123;</span><br><span class="line">      el: &#39;#app&#39;,</span><br><span class="line">      data: &#123;&#125;,</span><br><span class="line">      methods: &#123;&#125;,</span><br><span class="line">      router: routerObj &#x2F;&#x2F; 将路由规则对象，注册到 vm 实例上，用来监听 URL 地址的变化，然后展示对应的组件</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure></li></ul></li></ol><h3 id="路由中的传参"><a href="#路由中的传参" class="headerlink" title="路由中的传参"></a>路由中的传参</h3><ol><li><p>使用 查询字符串，给路由传递参数方式一:</p><ul><li>如果在路由中，使用 查询字符串，给路由传递参数，则 不需要修改 路由规则的 path 属性</li><li>传递后需要用this.$route.query调用<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">     &lt;router-link to&#x3D;&quot;&#x2F;login?id&#x3D;10&amp;name&#x3D;zs&quot;&gt;登录&lt;&#x2F;router-link&gt;</span><br><span class="line">     &lt;router-link to&#x3D;&quot;&#x2F;register&quot;&gt;注册&lt;&#x2F;router-link&gt;</span><br><span class="line"></span><br><span class="line">     &lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line"></span><br><span class="line">   &lt;&#x2F;div&gt;</span><br><span class="line">   &lt;script&gt;</span><br><span class="line"></span><br><span class="line">     var login &#x3D; &#123;</span><br><span class="line">       template: &#39;&lt;h1&gt;登录 --- &#123;&#123; $route.query.id &#125;&#125; --- &#123;&#123; $route.query.name &#125;&#125;&lt;&#x2F;h1&gt;&#39;,</span><br><span class="line">       data()&#123;</span><br><span class="line">         return &#123;</span><br><span class="line">           msg: &#39;123&#39;</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       created()&#123; &#x2F;&#x2F; 组件的生命周期钩子函数</span><br><span class="line">         &#x2F;&#x2F; console.log(this.$route)</span><br><span class="line">         &#x2F;&#x2F; console.log(this.$route.query.id)</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     var register &#x3D; &#123;</span><br><span class="line">       template: &#39;&lt;h1&gt;注册&lt;&#x2F;h1&gt;&#39;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     var router &#x3D; new VueRouter(&#123;</span><br><span class="line">       routes: [</span><br><span class="line">         &#123; path: &#39;&#x2F;login&#39;, component: login &#125;,</span><br><span class="line">         &#123; path: &#39;&#x2F;register&#39;, component: register &#125;</span><br><span class="line">       ]</span><br><span class="line">     &#125;)</span><br><span class="line"></span><br><span class="line">     var vm &#x3D; new Vue(&#123;</span><br><span class="line">       el: &#39;#app&#39;,</span><br><span class="line">       data: &#123;&#125;,</span><br><span class="line">       methods: &#123;&#125;,</span><br><span class="line">       &#x2F;&#x2F; router: router</span><br><span class="line">       router</span><br><span class="line">     &#125;);</span><br><span class="line">   &lt;&#x2F;script&gt;</span><br><span class="line"> &lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>使用 查询字符串，给路由传递参数方式二:</p></li></ol><ul><li>如果在路由中，使用 查询字符串，给路由传递参数，则 不需要修改 路由规则的 path 属性</li><li>传递后需要用this.$route.params调用<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line"></span><br><span class="line">     &lt;router-link to&#x3D;&quot;&#x2F;login&#x2F;12&#x2F;ls&quot;&gt;登录&lt;&#x2F;router-link&gt;</span><br><span class="line">     &lt;router-link to&#x3D;&quot;&#x2F;register&quot;&gt;注册&lt;&#x2F;router-link&gt;</span><br><span class="line"></span><br><span class="line">     &lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line"></span><br><span class="line">   &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">   &lt;script&gt;</span><br><span class="line"></span><br><span class="line">     var login &#x3D; &#123;</span><br><span class="line">       template: &#39;&lt;h1&gt;登录 --- &#123;&#123; $route.params.id &#125;&#125; --- &#123;&#123; $route.params.name &#125;&#125;&lt;&#x2F;h1&gt;&#39;,</span><br><span class="line">       data()&#123;</span><br><span class="line">         return &#123;</span><br><span class="line">           msg: &#39;123&#39;</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       created()&#123; &#x2F;&#x2F; 组件的生命周期钩子函数</span><br><span class="line">         console.log(this.$route.params.id)</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     var register &#x3D; &#123;</span><br><span class="line">       template: &#39;&lt;h1&gt;注册&lt;&#x2F;h1&gt;&#39;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     var router &#x3D; new VueRouter(&#123;</span><br><span class="line">       routes: [</span><br><span class="line">         &#123; path: &#39;&#x2F;login&#x2F;:id&#x2F;:name&#39;, component: login &#125;,</span><br><span class="line">         &#123; path: &#39;&#x2F;register&#39;, component: register &#125;</span><br><span class="line">       ]</span><br><span class="line">     &#125;)</span><br><span class="line"></span><br><span class="line">     var vm &#x3D; new Vue(&#123;</span><br><span class="line">       el: &#39;#app&#39;,</span><br><span class="line">       data: &#123;&#125;,</span><br><span class="line">       methods: &#123;&#125;,</span><br><span class="line">       &#x2F;&#x2F; router: router</span><br><span class="line">       router</span><br><span class="line">     &#125;);</span><br><span class="line">   &lt;&#x2F;script&gt;</span><br><span class="line"> &lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="路由的嵌套"><a href="#路由的嵌套" class="headerlink" title="路由的嵌套"></a>路由的嵌套</h3><ol><li>使用 children 属性，实现子路由，同时，子路由的 path 前面，不要带 / ，否则永远以根路径开始请求，这样不方便我们用户去理解URL地址<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;router-link to&#x3D;&quot;&#x2F;account&quot;&gt;Account&lt;&#x2F;router-link&gt;</span><br><span class="line"></span><br><span class="line">    &lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line"></span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;template id&#x3D;&quot;tmpl&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;这是 Account 组件&lt;&#x2F;h1&gt;</span><br><span class="line"></span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;account&#x2F;login&quot;&gt;登录&lt;&#x2F;router-link&gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;account&#x2F;register&quot;&gt;注册&lt;&#x2F;router-link&gt;</span><br><span class="line"></span><br><span class="line">      &lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 组件的模板对象</span><br><span class="line">    var account &#x3D; &#123;</span><br><span class="line">      template: &#39;#tmpl&#39;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    var login &#x3D; &#123;</span><br><span class="line">      template: &#39;&lt;h3&gt;登录&lt;&#x2F;h3&gt;&#39;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    var register &#x3D; &#123;</span><br><span class="line">      template: &#39;&lt;h3&gt;注册&lt;&#x2F;h3&gt;&#39;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    var router &#x3D; new VueRouter(&#123;</span><br><span class="line">      routes: [</span><br><span class="line">        &#123;</span><br><span class="line">          path: &#39;&#x2F;account&#39;,</span><br><span class="line">          component: account,</span><br><span class="line">          &#x2F;&#x2F; </span><br><span class="line">          children: [</span><br><span class="line">            &#123; path: &#39;login&#39;, component: login &#125;,</span><br><span class="line">            &#123; path: &#39;register&#39;, component: register &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    var vm &#x3D; new Vue(&#123;</span><br><span class="line">      el: &#39;#app&#39;,</span><br><span class="line">      data: &#123;&#125;,</span><br><span class="line">      methods: &#123;&#125;,</span><br><span class="line">      router</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="导航对象"><a href="#导航对象" class="headerlink" title="导航对象"></a>导航对象</h3><ol><li><p>this.$router.push(‘/home’)</p><ul><li>这个方法会向 history 栈添加一个新的记录，所以，当用户点击浏览器后退按钮时，则回到之前的 URL。</li></ul></li><li><p>this.$router.replace(‘/home’)</p><ul><li>跟 router.push 很像，唯一的不同就是，它不会向 history 添加新记录，而是跟它的方法名一样 —— 替换掉当前的 history 记录</li></ul></li><li><p>this.$router.go(n)</p><ul><li>这个方法的参数是一个整数，意思是在 history 记录中向前或者后退多少步，类似<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 在浏览器记录中前进一步，等同于 history.forward()</span><br><span class="line">this.$router.go(1)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 后退一步记录，等同于 history.back()</span><br><span class="line">this.$router.go(-1)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 前进 3 步记录</span><br><span class="line"> this.$router.go(3)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 如果 history 记录不够用，那就默默地失败呗</span><br><span class="line"> this.$router.go(-100)</span><br><span class="line"> this.$router.go(100)</span><br></pre></td></tr></table></figure></li></ul></li><li><p>this.$router.back()</p></li></ol><h2 id="watch和computed"><a href="#watch和computed" class="headerlink" title="watch和computed"></a>watch和computed</h2><ol><li>watch使用这个 属性，可以监视 data 中指定数据的变化，然后触发这个 watch 中对应的 function 处理函数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;firstname&quot;&gt; +</span><br><span class="line">    &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;lastname&quot;&gt; &#x3D;</span><br><span class="line">    &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;fullname&quot;&gt;</span><br><span class="line"></span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    var vm &#x3D; new Vue(&#123;</span><br><span class="line">      el: &#39;#app&#39;,</span><br><span class="line">      data: &#123;</span><br><span class="line">        firstname: &#39;&#39;,</span><br><span class="line">        lastname: &#39;&#39;,</span><br><span class="line">        fullname: &#39;&#39;</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;&#125;,</span><br><span class="line">      watch: &#123; </span><br><span class="line">        firstname(newVal, oldVal) &#123;</span><br><span class="line">          this.fullname &#x3D; newVal + &#39;-&#39; + this.lastname</span><br><span class="line">        &#125;,</span><br><span class="line">        &#39;lastname&#39;: function (newVal) &#123;</span><br><span class="line">          this.fullname &#x3D; this.firstname + &#39;-&#39; + newVal</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure></li><li>computed 中，可以定义一些属性，这些属性，叫做 【计算属性】， 计算属性的本质，就是一个方法，只不过，我们在使用这些计算属性的时候，是把它们的名称，直接当作属性来使用的；并不会把计算属性，当作方法去调用；<ul><li>计算属性，在引用的时候，一定不要加 () 去调用，直接把它当作普通属性去使用就好了；</li><li>只要计算属性，这个 function 内部，所用到的任何data中的数据发送了变化，就会立即重新计算这个计算属性的值</li><li>计算属性的求值结果，会被缓存起来，方便下次直接使用； 如果计算属性方法中，所以来的任何数据，都没有发生过变化，则，不会重新对计算属性求值；<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;firstname&quot;&gt; +</span><br><span class="line">    &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;middlename&quot;&gt; +</span><br><span class="line">    &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;lastname&quot;&gt; &#x3D;</span><br><span class="line">    &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;fullname&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;p&gt;&#123;&#123; fullname &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123; fullname &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123; fullname &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    var vm &#x3D; new Vue(&#123;</span><br><span class="line">      el: &#39;#app&#39;,</span><br><span class="line">      data: &#123;</span><br><span class="line">        firstname: &#39;&#39;,</span><br><span class="line">        lastname: &#39;&#39;,</span><br><span class="line">        middlename: &#39;&#39;</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;&#125;,</span><br><span class="line">      computed: &#123; </span><br><span class="line">        fullname() &#123;</span><br><span class="line">          return this.firstname + &#39;-&#39; + this.middlename + &#39;-&#39; + this.lastname</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure></li></ul></li><li>watch和computed的区别<ul><li>watch是监听data身上的数据， 主要用来监听某些特定数据的变化，从而进行某些具体的业务逻辑操作；可以看作是computed和methods的结合体；</li><li>computed只是单纯的将数据处理后返回回来，只是对数据进行了处理，只能进行简单的处理，不能进行具体的业务逻辑操作，计算后会缓存下来，直到数据发生变化，才会重新计算</li></ul></li></ol><h2 id="vue项目式结构"><a href="#vue项目式结构" class="headerlink" title="vue项目式结构"></a>vue项目式结构</h2><h3 id="render"><a href="#render" class="headerlink" title="render"></a>render</h3><ol><li>普通形式渲染页面<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">     &lt;p&gt;33333&lt;&#x2F;p&gt;</span><br><span class="line">     &lt;login&gt;&lt;&#x2F;login&gt;</span><br><span class="line">   &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">   &lt;script&gt;</span><br><span class="line"></span><br><span class="line">     var login &#x3D; &#123;</span><br><span class="line">       template: &#39;&lt;h1&gt;这是登录组件&lt;&#x2F;h1&gt;&#39;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     var vm &#x3D; new Vue(&#123;</span><br><span class="line">       el: &#39;#app&#39;,</span><br><span class="line">       data: &#123;&#125;,</span><br><span class="line">       methods: &#123;&#125;,</span><br><span class="line">       components: &#123;</span><br><span class="line">         login</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;);</span><br><span class="line">   &lt;&#x2F;script&gt;</span><br><span class="line"> &lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure></li><li>render函数渲染页面<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">     &lt;p&gt;444444&lt;&#x2F;p&gt;</span><br><span class="line">   &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">   &lt;script&gt;</span><br><span class="line"></span><br><span class="line">     var login &#x3D; &#123;</span><br><span class="line">       template: &#39;&lt;h1&gt;这是登录组件&lt;&#x2F;h1&gt;&#39;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     var vm &#x3D; new Vue(&#123;</span><br><span class="line">       el: &#39;#app&#39;,</span><br><span class="line">       data: &#123;&#125;,</span><br><span class="line">       methods: &#123;&#125;,</span><br><span class="line">       render: function (createElements) &#123; &#x2F;&#x2F; createElements 是一个 方法，调用它，能够把 指定的 组件模板，渲染为 html 结构</span><br><span class="line">         return createElements(login)</span><br><span class="line">         &#x2F;&#x2F; 注意：这里 return 的结果，会 替换页面中 el 指定的那个 容器</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;);</span><br><span class="line">   &lt;&#x2F;script&gt;</span><br><span class="line"> &lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="项目中vue的版本问题"><a href="#项目中vue的版本问题" class="headerlink" title="项目中vue的版本问题"></a>项目中vue的版本问题</h3><ol><li>在项目中我们用import导入的vue是阉割版的vue(vue.runtime.commom.js), 阉割版的vue没有编译器，不能解析模板字符串（比如传入一个字符串给 template 选项，或挂载到一个元素上并以其 DOM 内部的 HTML 作为模板）<ul><li>在阉割版中不能在main.js中通过el：#app，找到相应的位置，把数据和组件渲染到页面中，只能通过render函数把组件渲染到#app相应的位置</li><li>如果想在Vue项目中使用模板对象，在webpack中配置<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">  alias: &#123;</span><br><span class="line">    &#39;vue$&#39;: &#39;vue&#x2F;dist&#x2F;vue.esm.js&#39;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><ul><li>默认阉割版不能解析.vue文件需要安装<code>cnpm i vue-loader vue-template-compiler -D</code>, 在配置文件中，新增loader哦配置项 { test:/.vue$/, use: ‘vue-loader’ }</li></ul></li></ul></li></ol><h3 id="webpack-中如何使用-vue"><a href="#webpack-中如何使用-vue" class="headerlink" title="webpack 中如何使用 vue"></a>webpack 中如何使用 vue</h3><ol><li>安装vue的包：  cnpm i vue -S</li><li>由于 在 webpack 中，推荐使用 .vue 这个组件模板文件定义组件，所以，需要安装 能解析这种文件的 loader    cnpm i vue-loader vue-template-complier -D</li><li>在webpack.config.js中，添加如下module规则：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> module: &#123;</span><br><span class="line"></span><br><span class="line">  rules: [</span><br><span class="line"></span><br><span class="line">    &#123; test: &#x2F;\.css$&#x2F;, use: [&#39;style-loader&#39;, &#39;css-loader&#39;] &#125;,</span><br><span class="line"></span><br><span class="line">    &#123; test: &#x2F;\.vue$&#x2F;, use: &#39;vue-loader&#39; &#125;</span><br><span class="line"></span><br><span class="line">  ]</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>创建App.js组件页面：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"> &lt;template&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- 注意：在 .vue 的组件中，template 中必须有且只有唯一的根元素进行包裹，一般都用 div 当作唯一的根元素 --&gt;</span><br><span class="line"></span><br><span class="line">  &lt;div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;h1&gt;这是APP组件 - &#123;&#123;msg&#125;&#125;&lt;&#x2F;h1&gt;</span><br><span class="line"></span><br><span class="line">    &lt;h3&gt;我是h3&lt;&#x2F;h3&gt;</span><br><span class="line"></span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 注意：在 .vue 的组件中，通过 script 标签来定义组件的行为，需要使用 ES6 中提供的 export default 方式，导出一个vue实例对象</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line"></span><br><span class="line">  data() &#123;</span><br><span class="line"></span><br><span class="line">    return &#123;</span><br><span class="line"></span><br><span class="line">      msg: &#39;OK&#39;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">h1 &#123;</span><br><span class="line"></span><br><span class="line">  color: red;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure></li><li>创建main.js入口文件：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">  &#x2F;&#x2F; 导入 Vue 组件</span><br><span class="line"></span><br><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 导入 App组件</span><br><span class="line"></span><br><span class="line">import App from &#39;.&#x2F;components&#x2F;App.vue&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 创建一个 Vue 实例，使用 render 函数，渲染指定的组件</span><br><span class="line"></span><br><span class="line">var vm &#x3D; new Vue(&#123;</span><br><span class="line"></span><br><span class="line">  el: &#39;#app&#39;,</span><br><span class="line"></span><br><span class="line">  render: c &#x3D;&gt; c(App)</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ol><h3 id="在vue组件页面中，集成vue-router路由模块"><a href="#在vue组件页面中，集成vue-router路由模块" class="headerlink" title="在vue组件页面中，集成vue-router路由模块"></a>在vue组件页面中，集成vue-router路由模块</h3><ol><li>在main.js中导入<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> import Vue from &#39;vue&#39;</span><br><span class="line"> import router from &#39;.&#x2F;index.js&#39;</span><br><span class="line"></span><br><span class="line"> var vm &#x3D; new Vue(&#123;</span><br><span class="line"></span><br><span class="line">  el: &#39;#app&#39;,</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; render: c &#x3D;&gt; &#123; return c(App) &#125;</span><br><span class="line"></span><br><span class="line">  render(c) &#123;</span><br><span class="line"></span><br><span class="line">    return c(App);</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  router &#x2F;&#x2F; 将路由对象，挂载到 Vue 实例上</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li>创建index.js<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> import Vue from &#39;vue&#39;</span><br><span class="line"> import Router from &#39;vue-router&#39;</span><br><span class="line"></span><br><span class="line"> Vue.use(Router)</span><br><span class="line"></span><br><span class="line"> import login from &#39;.&#x2F;components&#x2F;account&#x2F;login.vue&#39;</span><br><span class="line"> import register from &#39;.&#x2F;components&#x2F;account&#x2F;register.vue&#39;</span><br><span class="line"> </span><br><span class="line"> export default new VueRouter(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#x2F;&#x2F; account  goodslist</span><br><span class="line">    &#123; path: &#39;&#x2F;account&#39;, component: account &#125;,</span><br><span class="line">    &#123; path: &#39;&#x2F;goodslist&#39;, component: goodslist &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><h3 id="在-vue组件中使用vue-resource获取数据"><a href="#在-vue组件中使用vue-resource获取数据" class="headerlink" title="在.vue组件中使用vue-resource获取数据"></a>在.vue组件中使用vue-resource获取数据</h3><ol><li>运行cnpm i vue-resource -S安装模块</li><li>导入 vue-resource组件并使用在main.js如下配置：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import VueResource from &#39;vue-resource&#39;</span><br><span class="line">Vue.use(VueResource)</span><br><span class="line">&#x2F;&#x2F; 设置请求的根路径</span><br><span class="line">Vue.http.options.root &#x3D; &#39;&#39;;</span><br></pre></td></tr></table></figure></li></ol><h3 id="在-vue组件中使用axios获取数据"><a href="#在-vue组件中使用axios获取数据" class="headerlink" title="在.vue组件中使用axios获取数据"></a>在.vue组件中使用axios获取数据</h3><ol><li>安装axios模块<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i axios -S</span><br></pre></td></tr></table></figure></li><li>在main.js主文件进行配置:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import axios from &#39;axios&#39;</span><br><span class="line">&#x2F;&#x2F; 把 axios 挂载到 Vue的 原型对象上</span><br><span class="line">Vue.prototype.$http &#x3D; axios.create(&#123;</span><br><span class="line">  baseURL: &#39;http:&#x2F;&#x2F;39.106.32.91:3000&#x2F;&#39; &#x2F;&#x2F; 在全局设置 axios 的请求根路径，这样，在发起请求的时候，就可以不写 根地址了</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><h2 id="vuex"><a href="#vuex" class="headerlink" title="vuex"></a>vuex</h2><ol><li><p>vuex的结构目录<br><img src="../image/vue3.png" alt=""></p></li><li><p>action.js<br>作用: 进行异步数据的请求和统一操作mutations.js中的方法<br>在vue页面可以调用的两种方式</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$store.dispatch(&#39;方法名&#39;, 传递参数)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import &#123; mapActions &#125; from &#39;vuex&#39;</span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">   selectItem (item, index) &#123;</span><br><span class="line">     this.selectPlay(&#123;</span><br><span class="line">       list: this.songs,</span><br><span class="line">       index</span><br><span class="line">     &#125;)</span><br><span class="line">   &#125;,</span><br><span class="line">   ...mapActions([</span><br><span class="line">     &#39;selectPlay&#39;,</span><br><span class="line">     &#39;randomPlay&#39;</span><br><span class="line">   ])</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure><p>action.js页面的代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> types <span class="keyword">from</span> <span class="string">'./mutation-types'</span></span><br><span class="line"> <span class="comment">// 在action定义的函数只有两个参数：参数一是context对象我们可以把它理解为是store,action中的函数能直接修改state中的数据只能利用commit调用mutation中的函数修改state中的数据</span></span><br><span class="line">                                  参数二是传递过来的参数</span><br><span class="line"> <span class="keyword">export</span> <span class="keyword">const</span> selectPlay = <span class="function"><span class="keyword">function</span> (<span class="params">&#123; commit, state &#125;, &#123; list, index &#125;</span>) </span>&#123;</span><br><span class="line">       commit(types.SET_SEQUENCE_LIST, list)</span><br><span class="line">       commit(types.SET_PLAYLIST, randomList)</span><br><span class="line">       commit(types.SET_PLAYLIST, list)</span><br><span class="line">       commit(types.SET_CURRENT_INDEX, index)</span><br><span class="line">       commit(types.SET_FULL_SCREEN, <span class="literal">true</span>)</span><br><span class="line">       commit(types.SET_PLAYING_STATE, <span class="literal">true</span>)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></li><li><p>getters.js<br>主要作用：使vue模块调用，获得包装后的数据</p><ul><li>这里的 getters， 只负责 对外提供数据，不负责 修改数据，如果想要修改 state 中的数据，请 去找 mutations</li><li>经过咱们回顾对比，发现 getters 中的方法， 和组件中的过滤器比较类似，因为 过滤器和 getters 都没有修改原数据， 都是把原数据做了一层包装，提供给了 调用者, 其次， getters 也和 computed 比较像， 只要 state 中的数据发生变化了，那么，如果 getters 正好也引用了这个数据，那么 就会立即触发 getters 的重新求值；</li><li>如果 store 中 state 上的数据， 在对外提供的时候，需要做一层包装，那么 ，推荐使用 getters, 如果需要使用 getters ,则用 this.$store.getters.***<br>在vue页面使用<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$store.getters.***</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import &#123;mapGetters&#125; from &#39;vuex&#39;</span><br><span class="line"></span><br><span class="line">computed: &#123;</span><br><span class="line">    ...mapGetters([</span><br><span class="line">        &#39;singer&#39;</span><br><span class="line">        &#39;fullScreen&#39;,</span><br><span class="line">        &#39;playing&#39;    &#x2F;&#x2F; 这里得名字与getters.js对应得函数名保持一致</span><br><span class="line">    ])</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>getters.js页面<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export const singer &#x3D; state &#x3D;&gt; state.singer</span><br></pre></td></tr></table></figure></li></ul></li><li><p>mutation-types.js<br>主要作用：为mutations.js定义常量，mutations.js用这些常量作为方法名字</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export const SET_SINGER &#x3D; &#39;SET_SINGER&#39;</span><br></pre></td></tr></table></figure></li><li><p>mutations.js<br>主要作用：修改state中的数据，只有这个方法有权利修改state中的数据</p><ul><li>如果要操作 store 中的 state 值，只能通过 调用 mutations 提供的方法，才能操作对应的数据，不推荐直接操作 state 中的数据，因为 万一导致了数据的紊乱，不能快速定位到错误的原因，因为，每个组件都可能有操作数据的方法；</li><li>如果组件想要调用 mutations 中的方法，只能使用 this.$store.commit(‘方法名’, 传递的参数)</li><li>mutations 的 函数参数列表中，最多支持两个参数，其中，参数1： 是 state 状态； 参数2： 通过 commit 提交过来的参数；<br>在vue页面调用的两种方式：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$store.commit(&#39;方法名&#39;, 传递的参数)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import &#123;mapMutations&#125; from &#39;vuex&#39;</span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">     selectSinger(singer) &#123;</span><br><span class="line">         this.$router.push(&#123;</span><br><span class="line">             path: &#96;&#x2F;singer&#x2F;$&#123;singer.id&#125;&#96;</span><br><span class="line">         &#125;)</span><br><span class="line">         this.setSinger(singer)</span><br><span class="line">     &#125;,</span><br><span class="line">     ...mapMutations(&#123;</span><br><span class="line">         setSinger: &#39;SET_SINGER&#39;,</span><br><span class="line">         setPlaylist: &#39;SET_PLAYLIST&#39; &#x2F;&#x2F; 这里的名字与mutations.js中修改state方法名保持一致</span><br><span class="line">     &#125;)</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import * as types from &#39;.&#x2F;mutation-types&#39;</span><br><span class="line"></span><br><span class="line">const mutations &#x3D; &#123;</span><br><span class="line">   [types.SET_SINGER](state, singer) &#123;</span><br><span class="line">     state.singer &#x3D; singer</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line">export default mutations</span><br></pre></td></tr></table></figure></li></ul></li><li><p>state.js<br>主要作用： 用于储存数据</p><ul><li>大家可以把 state 想象成 组件中的 data ,专门用来存储数据的</li><li>第一种：如果在 组件中，想要访问，store 中的数据，只能通过 this.$store.state.*** 来访问</li><li>第二种获取state的数据<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import &#123;mapState&#125; from &#39;vuex&#39;</span><br><span class="line"></span><br><span class="line">computed: &#123;</span><br><span class="line">  ...mapState([&#39;count&#39;])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>state.js页面<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> const state &#x3D; &#123;</span><br><span class="line">  singer: &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default state</span><br></pre></td></tr></table></figure></li></ul></li><li><p>index.js<br>主要作用：使vuex得配置文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Vuex from &#39;vuex&#39;</span><br><span class="line">import * as actions from &#39;.&#x2F;actions&#39;</span><br><span class="line">import * as getters from &#39;.&#x2F;getters&#39;</span><br><span class="line">import state from &#39;.&#x2F;state&#39;</span><br><span class="line">import mutations from &#39;.&#x2F;mutations&#39;</span><br><span class="line">import createLogger from &#39;vuex&#x2F;dist&#x2F;logger&#39;</span><br><span class="line"></span><br><span class="line"> Vue.use(Vuex)</span><br><span class="line">&#x2F;&#x2F; 判断是生产环境还是开发环境， 开发环境开启严格模式</span><br><span class="line"> const debug &#x3D; process.env.NODE_ENV !&#x3D;&#x3D; &#39;production&#39;</span><br><span class="line"></span><br><span class="line"> export default new Vuex.Store(&#123;</span><br><span class="line">   actions,</span><br><span class="line">   getters,</span><br><span class="line">   state,</span><br><span class="line">   mutations,</span><br><span class="line">   strict: debug, &#x2F;&#x2F; 开启严格模式后，如果修改state没有用mutations就会报错，但是开启严格模式会有性能消耗，建议在生产环境不要打开</span><br><span class="line">   plugins: debug ? [createLogger()] : [] &#x2F;&#x2F; 在控制台打印state修改数据情况</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure></li><li><p>在main.js文件下进行配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import store from &#39;.&#x2F;store&#x2F;index&#39;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &#39;#app&#39;,</span><br><span class="line">  render: h &#x3D;&gt; h(App),</span><br><span class="line">  router,</span><br><span class="line">  store</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue-cli</title>
      <link href="/vue-cli/"/>
      <url>/vue-cli/</url>
      
        <content type="html"><![CDATA[<p>Vue.js 开发的标准工具</p><a id="more"></a><h2 id="vue-cli脚手架的安装"><a href="#vue-cli脚手架的安装" class="headerlink" title="vue-cli脚手架的安装"></a>vue-cli脚手架的安装</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue/cli</span><br><span class="line"># OR</span><br><span class="line">yarn global add @vue/cli</span><br></pre></td></tr></table></figure><hr><h2 id="创建一个项目"><a href="#创建一个项目" class="headerlink" title="创建一个项目"></a>创建一个项目</h2><p><code>vue create hello-world</code></p><hr><h3 id="项目搭建过程"><a href="#项目搭建过程" class="headerlink" title="项目搭建过程"></a>项目搭建过程</h3><ol><li><p>命令行输入<code>vue create 文件名</code><br><img src="../image/vuecli1.png" alt=""></p><ul><li><p>Please pick a preset: (Use arrow keys) preset是之前预设过的配置(如果没有选择下面两个选项, 如果有选择直接安装)enter</p></li><li><p>default (babel, eslint): 默认配置(直接enter)非常适合快速创建一个新的项目的原型, 但是没有带任何辅助功能的npm包</p></li><li><p>Manually select feature: 手动配置(按下方向键↓调换选项)是我们所需要的面向生产的项目，提供可选择的npm包</p></li></ul></li><li><p>vue配置 (方向键↑和↓进行切换，空格键进行确定)<br><img src="../image/vuecli2.png" alt=""></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">? Please pick a preset: Manually select features</span><br><span class="line">? Check the features needed <span class="keyword">for</span> your project: (Press &lt;space&gt; to select, &lt;a&gt; to toggle all, &lt;i&gt; to invert selection)</span><br><span class="line">&gt;(*) Babel  <span class="comment">// Babel 是一个 JavaScript 编译器</span></span><br><span class="line">( ) TypeScript <span class="comment">// javaScript的超集</span></span><br><span class="line">( ) Progressive Web App (PWA) Support <span class="comment">// 渐变式web应用程序</span></span><br><span class="line">( ) Router <span class="comment">// vue-router(vue路由)</span></span><br><span class="line">( ) Vuex <span class="comment">// vuex(vue的状态管理模式)</span></span><br><span class="line">( ) CSS Pre-processors <span class="comment">// css 预处理器</span></span><br><span class="line">(*) Linter / Formatter <span class="comment">// 代码风险检测和格式化(如：Eslnt)</span></span><br><span class="line">( ) Unit Testing <span class="comment">// 单元测试</span></span><br><span class="line">( ) E2E Testing <span class="comment">// e2e测试</span></span><br></pre></td></tr></table></figure></li><li><p>Router<br><img src="../image/vuecli3.png" alt=""></p><ul><li>首先会让你选择是否使用history router: Vue-Router有两种模式分别是hash和history(建议选择no), 这样直接可以使用， 如果想使用可以查看下面的方法尽享配置</li><li>如果想切换到history模式,在路由中填上如下代码:<a href="https://router.vuejs.org/zh/guide/essentials/history-mode.html" target="_blank" rel="noopener">具体配置</a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  mode: <span class="string">'history'</span>,</span><br><span class="line">  routes: [...]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul></li><li><p>CSS Pre-processors(根据自己的需要选择配置)<br><img src="../image/vuecli4.png" alt=""></p><ul><li>Sass 是一款强化 CSS 的辅助工具，它在 CSS 语法的基础上增加了变量 (variables)、嵌套 (nested rules)、混合 (mixins)、导入 (inline imports) 等高级功能，这些拓展令 CSS 更加强大与优雅。使用 Sass 以及 Sass 的样式库（如 Compass）有助于更好地组织管理样式文件，以及更高效地开发项目</li><li>Less （Leaner Style Sheets 的缩写） 是一门向后兼容的 CSS 扩展语言。包含了 Less 语言以及利用 JavaScript 开发的用于将 Less 样式转换成 CSS 样式的 Less.js 工具。</li><li>Stylus - 富有表现力的、动态的、健壮的CSS</li></ul></li><li><p>Linter / Formatter(如下是代码检测错误的不同版本, 根据自己的需要选择配置)<br><img src="../image/vuecli5.png" alt=""></p><ul><li>ESLint with error prevention only(仅仅给你报语法上的错误，不给你代码进行规范)</li><li>ESLint + Airbnb config(这三个选项不仅有语法错误上的提示，而且有自己不同的代码规范原则，想进行具体了解，自行看官方文档)<br>ESLint + Standard config<br>ESLint + Prettier</li></ul></li><li><p>把babel,postcss,eslint这些配置文件放哪：(建议选择In dedicated config files，这样不会时package.json太过杂乱)<br><img src="../image/vuecli6.png" alt=""></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">? Where <span class="keyword">do</span> you prefer placing config <span class="keyword">for</span> Babel, PostCSS, ESLint, etc.? (Use arrow keys)</span><br><span class="line">&gt; In dedicated config files <span class="comment">// 单独放在一个文件</span></span><br><span class="line">  In package.json <span class="comment">// 放在package.json</span></span><br></pre></td></tr></table></figure></li><li><p>是否保存配置：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Save <span class="keyword">this</span> <span class="keyword">as</span> a preset <span class="keyword">for</span> future projects? (Y/n) <span class="comment">// 是否记录一下以便下次继续使用这套配置</span></span><br><span class="line"><span class="comment">// 选保存之后，会让你写一个配置的名字：</span></span><br><span class="line">Save preset <span class="keyword">as</span>:  name <span class="comment">// 然后你下次进入配置可以直接使用你这次的配置了</span></span><br></pre></td></tr></table></figure></li></ol><hr><h3 id="通过vue-ui进行项目构建"><a href="#通过vue-ui进行项目构建" class="headerlink" title="通过vue ui进行项目构建"></a>通过<code>vue ui</code>进行项目构建</h3><ol><li>在命令行执行如下代码：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue ui</span><br></pre></td></tr></table></figure><img src="../image/vuecli7.png" alt=""></li><li>浏览器弹出如图弹框<br><img src="../image/vuecli8.png" alt=""></li><li>打开项目管理器 -&gt; 创建 -&gt; 在此创建新项目<br><img src="../image/vuecli9.png" alt=""></li><li>在详情中创建项目名 -&gt; 下一步<br><img src="../image/vuecli10.png" alt=""></li><li>预设中选择手动 -&gt; 下一步<br><img src="../image/vuecli11.png" alt=""></li><li>在功能中选自自己需要的配置 -&gt; 下一步<br><img src="../image/vuecli12.png" alt=""></li><li>在配置中选择自己需要的配置 -&gt; 创建项目<br><img src="../image/vuecli13.png" alt=""></li><li>保存预设名(我选择了不保存)<br><img src="../image/vuecli14.png" alt=""></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
